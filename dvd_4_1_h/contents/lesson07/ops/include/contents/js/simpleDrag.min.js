"use strict";(function(){function t(t){var s=this;this.dragObj=t,this.keyPressed={},this.start=function(){function t(t){s.keyPressed[t.keyCode]=!0,s.targetMove()}for(var n in this.dragObj)this.dragObj[n].style.position="absolute",new e(this.dragObj[n]),this.dragObj[n].addEventListener("click",function(){s.target=s.dragObj[n],document.removeEventListener("keydown",t),document.addEventListener("keydown",t),document.addEventListener("keyup",function(t){s.keyPressed[t.keyCode]=!1})})},this.targetMove=function(){var t=1;this.keyPressed[16]?t=10:this.keyPressed[17]&&(t=100),this.keyPressed[39]?this.target.style.left=parseInt(this.target.style.left)+t+"px":this.keyPressed[37]?this.target.style.left=parseInt(this.target.style.left)-t+"px":this.keyPressed[40]?this.target.style.top=this.target.offsetTop+t+"px":this.keyPressed[38]&&(this.target.style.top=this.target.offsetTop-t+"px")},this.start()}function e(t){var e=this;this.dragObj=t,this.startDrag=function(t){function s(t){var s="touchmove"==t.type?t.touches[0].clientY:t.clientY,n="touchmove"==t.type?t.touches[0].clientX:t.clientX,h=(s-o)/i+d,c=(n-r)/i+a;e.dragObj.style.top=h+"px",e.dragObj.style.left=c+"px"}function n(){document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}t.stopPropagation();var i=1,o="touchmove"==t.type?t.touches[0].clientY:t.clientY,r="touchmove"==t.type?t.touches[0].clientX:t.clientX,d=this.dragObj.offsetTop,a=this.dragObj.offsetLeft;this.dragObj.style.transition="none",document.addEventListener("mousemove",s),document.addEventListener("touchmove",s),document.addEventListener("mouseup",n),document.addEventListener("touchend",n)},this.dragObj.addEventListener("mousedown",this.startDrag.bind(this)),this.dragObj.addEventListener("touchstart",this.startDrag.bind(this))}new t($ts.getEl("[drag]"))})();