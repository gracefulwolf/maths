"use strict";(function(){function t(t){var e=0!==t.offsetWidth?t:t.parentElement,n=e.offsetWidth,o=e.getBoundingClientRect().width;return o/n}function e(e){function n(t){var e="touchmove"==t.type?t.touches[0].clientY:t.clientY,n="touchmove"==t.type?t.touches[0].clientX:t.clientX,o=Math.round((e-i)/a+s),h=Math.round((n-r)/a+c);u.newY=o,u.newX=h,"horizon"!==d&&(v.style.top=o+"px"),"vertical"!==d&&(v.style.left=h+"px"),l&&l(u,t)}function o(t){h.removeEventListener("mousemove",n),h.removeEventListener("touchmove",n),document.removeEventListener("mouseup",o),document.removeEventListener("touchend",o),m&&m(u,t)}var i,r,s,c,a,u=this,d=e.type?e.type:"all",v=e.dragObj,h=e.container?e.container:document.body;if(e.callback)var l=e.callback.move||null,m=e.callback.end||null;this.dragObj=v,this.startDrag=function(e){e.stopPropagation(),a=t(v),i="touchstart"==e.type?e.touches[0].clientY:e.clientY,r="touchstart"==e.type?e.touches[0].clientX:e.clientX,s=v.offsetTop,c=v.offsetLeft,v.style.transition="none",h.addEventListener("mousemove",n),h.addEventListener("touchmove",n),document.addEventListener("mouseup",o),document.addEventListener("touchend",o)},v.addEventListener("mousedown",this.startDrag.bind(this)),v.addEventListener("touchstart",this.startDrag.bind(this)),h.addEventListener("touchstart",function(t){t.stopPropagation()}),document.addEventListener("pointerup",function(t){t.stopPropagation()})}window.$Drag=e})();