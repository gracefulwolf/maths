"use strict";(function(){function s(s,t){var i=this;return i={container:s.container,slides:[],tabs:[],prevBtn:null,nextBtn:null,length:0,idx:0,dspIdx:0,active:!1,opts:{carousel:{wrapper:null,loop:{left:!1,right:!1},transitionDuration:0,timeout:0},callbacks:{move:void 0,reset:void 0},slideClass:null,tabClass:null,btnClass:null},init:function(){this.setOpts(),this.setSlides(),s.tabs&&this.setTabs(),s.prevBtn&&s.nextBtn&&this.setBtns(),this.opts.carousel?this.setCarousel():this.changeMoves(),this.active||(this.active=!0)},setOpts:function(){this.opts=t,this.opts.slideClass||(this.opts.slideClass="on"),this.opts.tabClass||(this.opts.tabClass="on"),this.opts.btnClass||(this.opts.btnClass="off")},setSlides:function(){this.length=s.slides.length;for(var t=0;t<this.length;t++)this.slides[t]=s.slides[t]},setTabs:function(){for(var t=0;t<s.tabs.length;t++)this.tabs[t]=s.tabs[t];this.tabs.forEach(function(s){s.addEventListener("click",i.tabClick,!1),s.addEventListener("click",$efSound.click)})},setBtns:function(){this.prevBtn=s.prevBtn,this.nextBtn=s.nextBtn,this.prevBtn.addEventListener("click",this.btnClick),this.nextBtn.addEventListener("click",this.btnClick),this.prevBtn.addEventListener("click",$efSound.click),this.nextBtn.addEventListener("click",$efSound.click)},setCarousel:function(){if(this.checkContainer(),this.opts.carousel.wrapper){var s,t,e,o,n=this.opts.carousel.wrapper;$ts.setStyles(n,{top:0,left:0,height:"100%",overflow:"hidden",clear:"left"}),s=this.slides[this.slides.length-1].cloneNode(!0),n.insertBefore(s,this.slides[0]),t=this.slides[0].cloneNode(!0),n.appendChild(t),e=$ts.concatArrays([[s],this.slides,[t]]),this.slides=e,o={float:"left",position:"relative",display:"block"};for(var l=0;l<this.slideLength;l++){var a=this.slides[l];$ts.setStyles(a,o)}this.setCarouselWidth(),i.idx=1,this.changeMoves()}else console.error("slider: carousel wrapper가 없습니다.")},checkContainer:function(){var s,t,i;s=$ts.getStyles(this.container),t="absolute"===s.position||"relative"===s.position,i="hidden"===s.overflow,t?i||console.error("slider: caraousel slider container의 overflow: hidden이어야 합니다."):console.error("slider: caraousel slider container의 position: absolute나 relative이어야 합니다.")},setCarouselWidth:function(){this.opts.carousel.wrapper.style.width=this.containerWidth*this.slideLength+"px";for(var s=0;s<this.slideLength;s++){var t=this.slides[s];t.style.width=this.containerWidth+"px"}},carouselSlideMoves:function(s){var t=s&&s.idx?s.idx:this.idx,i=this.opts.carousel.wrapper,e=s&&s.width?s.width:this.containerWidth,o=e*t;i.style.transform="translateX(-"+o+"px)",i.style.msTransform="translateX(-"+o+"px)",i.style.webkitTransform="translateX(-"+o+"px)"},tabClick:function(){var s=this;i.tabs.forEach(function(t,e){s===t&&(i.idx=i.opts.carousel?e+1:e)}),i.changeMoves()},btnClick:function(){var s,t;s=0===i.idx||i.opts.carousel&&i.opts.carousel.loop&&!i.opts.carousel.loop.left&&1===i.idx,t=i.idx===i.slideLength-1||i.opts.carousel&&i.opts.carousel.loop&&!i.opts.carousel.loop.right&&i.idx===i.slideLength-2,this===i.prevBtn?s||(i.idx--,i.changeMoves()):t||(i.idx++,i.changeMoves())},changeMoves:function(s){this.changeDspIdx(),this.slideMoves(s),this.tabMoves(),this.btnMoves();var i=this.active&&this.opts.callbacks&&this.opts.callbacks.move&&(!s||!s.resetMoves);i&&t.callbacks.move(this)},changeDspIdx:function(){this.opts.carousel?0===this.idx?this.dspIdx=this.length-1:this.idx===this.length+1?this.dspIdx=0:this.dspIdx=this.idx-1:this.dspIdx=this.idx},slideMoves:function(s){var t=this,i=this.opts.slideClass||"";if(this.opts.carousel){var e=this.opts.carousel.wrapper;this.carouselSlideMoves(),!this.active||s&&s.noSlideMoves||(e.style.transition="transform "+this.opts.carousel.transitionDuration+"ms",this.carouselTimeout())}else t.slides.forEach(function(s,e){s.classList.remove(i),t.idx===e&&s.classList.add(i)})},tabMoves:function(){if(this.tabs&&0!==this.tabs.length){var s=this,t=this.opts.tabClass||"";s.tabs.forEach(function(i,e){i.classList.remove(t),s.dspIdx===e&&i.classList.add(t)})}},btnMoves:function(){if(this.prevBtn&&this.nextBtn){var s=this.opts.btnClass||null,t=this.opts.carousel&&this.opts.carousel.loop&&this.opts.carousel.loop.left,i=this.opts.carousel&&this.opts.carousel.loop&&this.opts.carousel.loop.right;s&&(0===this.dspIdx?t||this.prevBtn.classList.add(s):this.prevBtn.classList.remove(s),this.dspIdx===this.length-1?i||this.nextBtn.classList.add(s):this.nextBtn.classList.remove(s))}},disableAll:function(s){var t;if(this.tabs){t=this.tabs.length;for(var i=0;i<t;i++){var e=this.tabs[i];e.style.pointerEvents=s?"none":"auto"}}this.prevBtn&&(this.prevBtn.style.pointerEvents=s?"none":"auto"),this.nextBtn&&(this.nextBtn.style.pointerEvents=s?"none":"auto")},carouselTimeout:function(){var s=this;this.disableAll(!0),s.opts.carousel.timeout=window.setTimeout(function(){s.opts.carousel.wrapper.transition="none",s.disableAll(!1),window.clearTimeout(s.opts.carousel.timeout),s.opts.carousel&&(s.idx===s.length+1?s.idx=1:0===s.idx&&(s.idx=s.length),s.opts.carousel.wrapper.style.transition="none",s.slideMoves({noSlideMoves:!0}))},s.opts.carousel.transitionDuration)},reset:function(s){this.idx=this.opts.carousel?1:0,arguments.length>0&&s.idx&&(this.idx=s.idx),this.changeMoves({noSlideMoves:!0,resetMoves:!0}),this.opts.callbacks&&this.opts.callbacks.reset&&this.active&&this.opts.callbacks.reset(this)},addCallbacks:function(s){if(this.opts.callbacks)for(var t in s)this.opts.callbacks[t]=s[t];else this.opts.callbacks=s},get containerWidth(){return parseInt($ts.getStyles(this.container).width)},get slideLength(){return this.slides.length}},i.init(),i}"undefined"!=typeof module&&void 0!==module.exports?module.exports=s:window.$slider=s})();