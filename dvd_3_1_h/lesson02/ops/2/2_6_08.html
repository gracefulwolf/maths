<!DOCTYPE html>
<html lang="ko">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0 user-scalable=0">
    <link rel="stylesheet" href="../../../../E-curri03-math-H_2022/31/common/libs/css/master.css" />
		<link rel="stylesheet" href="../../../../E-curri03-math-H_2022/31/common/contents/css/math.css" />
		<link rel="stylesheet" href="../../../../__common__/css/custom.css">
		<link rel="stylesheet" href="../../../../default/css/custom.css">
    
  <link rel="stylesheet" href="../../../include/math/style/master.css">
  <link rel="stylesheet" href="../../../include/math_3-1/style/math_3-1.css">
  <link rel="stylesheet" href="./css/2_6_8.css">
  <style>
  </style>
</head>
<body class="lesson_2">
  <div id="wrap">
    <header>
      <div class="js-addThingsMenu addThingsMenu"></div>
      <div class="js-indexButton indexButton" data-hover=""></div>
      <div class="indexBox">
        <span>2. 평면도형</span>
        <span>정사각형을 알아볼까요</span>
        <span class="step quiz">평가</span>
      </div>
      <div class="js-mainBookButton mainBookButton" data-type="ebook" data-page="45">수학<span>45</span>쪽</div>
      <div class="js-subBookButton subBookButton" data-type="ebook_sub" data-page="36">수학 익힘<span>36</span>쪽</div>
      <div class="js-addThingsButton addThingsButton"></div>
      <div class="js-closeButton closeButton" data-type="ebook" data-page="45"></div>
      </header>
    <main class="act quiz">
      <div class="contentsArea">
        <h1 data-index="1">정사각형을 찾아 표시해 보세요.</h1>
        <section>
          <div class="basicSlider" data-slide-container="main">
            <div class="basicSlider_pageMove">
              <ul class="basicSlider_circle_tabs" data-tabs="main">
                <li></li>
                <li></li>
              </ul>
              <div class="basicSlider_btn prev" data-btn-prev="main"></div>
              <div class="basicSlider_btn next" data-btn-next="main"></div>
            </div>
            <ul class="basicSlider_slides" data-slides="main">
              <li class="page_1">
                <div class="quizContainer" data-quiz="ox" data-option="answerSound">
                  <img src="./images/2_6/2_6_8_01.png" width="690px" height="475px" usemap="#workmap">
                  <!-- Image Map Generated by http://www.image-map.net/ -->
                  <svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 690 475" width="690px" height="475px" style="enable-background:new 0 0 690 475;" xml:space="preserve">
                    <polygon  data-svg-obj="102" style="fill:none;" points="19.9,192 88.2,309.3 219.1,309.3 153.6,192.7 "/>
                    <polygon  data-svg-obj="101" style="fill:none;" points="156.5,63.3 153.6,192.7 219.1,305.1 219.1,171.4 "/>
                    <polygon  data-svg-obj="103" style="fill:none;" points="224.1,178.5 224.1,443.7 337.2,380.4 337.2,243.9 "/>
                    <polyline  data-svg-obj="104" style="fill:none;" points="459.5,178.5 459.5,443.7 340.7,380.4 340.7,245.3 "/>
                    <polygon  data-svg-obj="105" style="fill:none;" points="525,66.8 525,192 459.5,300.8 459.5,170.7 "/>
                    <polygon  data-svg-obj="106" style="fill:none;" points="663.7,192 530.7,192 463.1,305.1 594.7,309.3 "/>
                    <polygon  data-svg-obj="107" style="fill:none;" points="251.1,14.2 261.1,137.2 337.2,237.5 328.6,115.2 "/>
                    <polygon  data-svg-obj="108" style="fill:none;" points="432.5,7.1 357.8,107.4 340.7,241.1 420.4,133 "/>
                  </svg>
                  <div class="oxObj obj_o_1" data-answer="" data-ox-obj="1">
                    <div class="icon icon_o" data-ox-target="1"></div>
                  </div>
                  <div class="oxObj obj_o_2" data-answer="" data-ox-obj="2">
                    <div class="icon icon_o" data-ox-target="2"></div>
                  </div>
                  <div class="oxObj obj_o_3" data-answer="" data-ox-obj="3">
                    <div class="icon icon_o" data-ox-target="3"></div>
                  </div>
                  <div class="oxObj obj_o_4" data-answer="" data-ox-obj="4">
                    <div class="icon icon_o" data-ox-target="4"></div>
                  </div>
                  <div class="displayN" data-ox-obj="200" data-answer=""></div>
                  <div class="oxObj obj_x_1"><div data-svg-target="101"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_2"><div data-svg-target="102"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_3"><div data-svg-target="103"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_4"><div data-svg-target="104"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_5"><div data-svg-target="105"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_6"><div data-svg-target="106"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_7"><div data-svg-target="107"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_8"><div data-svg-target="108"><div class="icon icon_x"></div></div></div>
                  <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
                </div>
              </li>
              <li class="page_2">
                <div class="quizContainer" data-quiz="ox" data-option="answerSound">
                  <img src="./images/2_6/2_6_8_02.png" width="550px" height="518px" usemap="#workmap2">
                  <svg version="1.1" id="레이어_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="550px" height="518px" viewBox="0 0 550 518" style="enable-background:new 0 0 550 518;" xml:space="preserve">
                    <polygon data-svg-obj="111" style="fill:none;" points="159,244 108,336 159,433 270,433 324,338.5 270,244 "/>
                    <polygon data-svg-obj="112" style="fill:none;" points="377,244 275,244 326,333 "/>
                    <polygon data-svg-obj="113" style="fill:none;" points="382,433 326,343 275,433 "/>
                    <polygon data-svg-obj="114" style="fill:none;" points="382,244 326,343 382,433 487,433 "/>
                    <polygon data-svg-obj="115" style="fill:none;" points="165,433 270,433 360,487 258,487 "/>
                    <polygon data-svg-obj="116" style="fill:none;" points="250,112 348,143 416,220 317,189 "/>
                    <polygon data-svg-obj="117" style="fill:none;" points="390,16 377,117 419,220 435,112 "/>
                  </svg>
                  
                  
                  <div class="oxObj obj_o_1" data-answer="" data-ox-obj="1">
                    <div class="icon icon_o" data-ox-target="1"></div>
                  </div>
                  <div class="oxObj obj_o_2" data-answer="" data-ox-obj="2">
                    <div class="icon icon_o" data-ox-target="2"></div>
                  </div>
                  <div class="oxObj obj_x_1"><div data-svg-target="111"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_2"><div data-svg-target="112"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_3"><div data-svg-target="113"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_4"><div data-svg-target="114"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_5"><div data-svg-target="115"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_6"><div data-svg-target="116"><div class="icon icon_x"></div></div></div>
                  <div class="oxObj obj_x_7"><div data-svg-target="117"><div class="icon icon_x"></div></div></div>
                  
                  <div class="displayN" data-ox-obj="200" data-answer=""></div>
                  <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
                </div>
              </li>
            </ul>
          </div>
        </section>
      </div>
    </main>
  </div>
  <script src="../../../include/libs/js/ts.min.js"></script>
  <script src="../../../include/libs/js/slider.min.js"></script>
  <script src="../../../include/contents/js/quiz/quiz.min.js"></script>
  <script src="../../../include/contents/js/pageManager.min.js"></script>
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      window.$callBack.oxAnswer = function() {
        var icon = $ts.getEl('.oxObj .icon');
        var answerIcon = $ts.getEl('.oxObj[data-answer] .icon');
        
        icon.forEach(function(target) {
          if(target.classList.contains('on')) {
            target.classList.remove('on');
          }
        })
        answerIcon.forEach(function(answer) {
          answer.classList.add('on');
        })
      }

      var isShowAnswer = false;
        (function() {
          var clickObj = $ts.getEl('[data-svg-obj]');
          var targetObj = $ts.getEl('[data-svg-target]');

          clickObj.forEach(function (obj) {
            obj.addEventListener('click', clickEvent);
            obj.addEventListener('click', $efSound.incorrect);
          })

          function clickEvent() {
            console.log('asdf')
            var idx = this.getAttribute('data-svg-obj');
            console.log(this.getAttribute('class'))
            if(this.getAttribute('class')){
              this.removeAttribute('class');
              $ts.getEl('[data-svg-target="'+idx+'"]')[0].removeAttribute('class');
            }else{
              this.setAttribute('class', 'complete');
              $ts.getEl('[data-svg-target="'+idx+'"]')[0].setAttribute('class', 'on');
            }
          }
          function hideAnswer(obj) {
            obj.removeAttribute('class');
          }

          function toggleAnswer() {
            if (!isShowAnswer) {
              clickObj.forEach(function(obj) {
                hideAnswer(obj);
                if (obj.hasAttribute('data-answer')) obj.setAttribute('class', 'on complete');
              });
              isShowAnswer = true;
            } else {
              clickObj.forEach(hideAnswer);
              isShowAnswer = false;
            }

            var icon = $ts.getEl('.oxObj [data-svg-target]');
            var answerIcon = $ts.getEl('.oxObj[data-answer] .icon');
            
            icon.forEach(function(target) {
              if(target.classList.contains('on')) {
                target.classList.remove('on');
              }
            })
            answerIcon.forEach(function(answer) {
              answer.classList.add('on');
            })
          }

          var answerClickButton = $ts.getEl('.quizButtons.answer');
          answerClickButton.forEach(function(btn) {
            btn.addEventListener('click', toggleAnswer);
          });

          // 페이지 이동할 때 초기화 
          window.$callBack.sliderMove = function(SLIDER) {
            isShowAnswer = false;
            clickObj.forEach(hideAnswer);
            targetObj.forEach(hideAnswer);
          }
        })();
      
      // window.$callBack.oxIncorrect = function(OX) {
        //   var removeOn = function() {
          //     OX.curTarget.forEach(function(target) {
            //       target.classList.remove('on');
            //     });
            //   }
            //   setTimeout(removeOn, 600);
            // }
          });
        </script>
      </body>
      </html>