"use strict";try{window.MODULE||console.error("window.MODULE 객체가 정의되지 않았습니다. ")}catch(err){console.error(err)}!function(){console.log("\n\n"),console.log("# tool module 시작");var e=[MODULE.core.name];window.$$__isEditTool&&e.push("angularSpectrumColorpicker");var t=MODULE.$set(MODULE.tool,e);console.log("	- MODULE TOOL : ",MODULE.$get(MODULE.tool.name)==MODULE.tool.instance),console.log("# tool module 끝"),console.log("\n\n"),t.run(["$injector","$notice","$busy","$toast","$import","$preview","$richEditor",function(e,t,n,i,o,a,l){var r="."+MODULE.tool.project+" .applicationContainer";t.parentSelector=r,n.parentSelector=r,i.parentSelector=r,o.parentSelector=r,a.parentSelector=r,l.parentSelector=r,window.debugMode&&(window.$data={application:e.get("$applications"),project:e.get("$projects"),document:e.get("$documents"),element:e.get("$elements"),history:e.get("$history"),select:e.get("$selects"),asset:e.get("$assets"),group:e.get("$groups"),component:e.get("$components"),template:e.get("$templates"),app:function(){return this._get("$applications")},e:function(){return this._get("$elements")},d:function(){return this._get("$documents")},p:function(){return this._get("$projects")},s:function(){return this._get("$selects")},a:function(){return this._get("$assets")},g:function(){return this._get("$groups")},c:function(){return this._get("$components")},t:function(){return this._get("$templates")},_get:function(t){var n=e.get(t);if(!(n.$$_length<1)){if("$applications"===t)return n.get().$$_original;var i={};for(var o in n.$$_data)i[o]=n.get(o).$$_original;return i}}},console.debug("\n"),console.debug("(참고) window.$data 객체를 통하여 Model 객체에 접근할 수 있습니다."),console.debug("\n"))}])}(),function(){var e=MODULE.tool.instance;e.config(["$mdThemingProvider","$routeProvider","$ariaProvider",function(e,t,n){console.log("# APPLICATION CONFIG"),console.warn("TODO : 기본 router 설정을 /tool --> /home 으로 교체한다."),n.config({bindKeydown:!1}),e.theme("default").primaryPalette("light-blue").accentPalette("indigo"),window.$$__isEditTool&&t.when("/home",{templateUrl:"home.html"}).when("/dashboard",{templateUrl:"dashboard.html"}).when("/tool",{templateUrl:"tool.html"}).otherwise({redirectTo:"/tool"})}])}(),function(){var e=MODULE.tool.instance;e.value("ContentViewName",{CONFIG:"Configuration",PROPERTY:"Property",EVENT:"Event",LAYER:"Layer",LAYOUT:"Layout",INFO:"Info",BASIC:"Basic",IMAGE:"Image",BACKGROUND:"Background",COMPONENT:"Component",TEMPLATE:"Template"}),e.value("ContentViewLabel",{CONFIG:"출판설정",PROPERTY:"속성",EVENT:"이벤트",LAYER:"레이어",LAYOUT:"레이아웃",INFO:"기타 정보",BASIC:"아이템",IMAGE:"이미지",BACKGROUND:"배경",COMPONENT:"컴포넌트",TEMPLATE:"템플릿"}),e.value("EventPrototype",window.$$__EventPrototype),e.value("ActionPrototype",window.$$__ActionPrototype)}(),function(){var e=MODULE.tool.instance;e.controller("GuideRulerController",["$scope","$element","$attrs","$applications","$projects","$documents","$selects","$elements","BeatPattern","$key","$import","$shortcuts","$notice","$sce","$version",function(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){e.ingroupArea,e.ingroupOffset={axisX:0,axisY:0,scale:1},e.mouse={},e.enable=!1;var v=e.$watch(function(){var e=o.get();if(!e)return!1;var t=e.getNoneCopyValue("documents");return!t||t.length<1?!1:!0},function(t){e.enable=t});e.$on("$destroy",function(){e.ingroupArea=null,e.mouse=null,v()})}])}(),function(){var e=MODULE.tool.instance;e.controller("RootController",["$scope","$element","$attrs","$applications","$projects","$documents","$selects","$elements","BeatPattern","$key","$import","$shortcuts","$notice","$sce","$version",function(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){e.isDemoVersion=m.isDemoVersion();var v=e.$watch(function(){return i.power},function(){e.applicationPower=i.power});e.colorTheme;var f=e.$watch(function(){var e=i.get();return e.value("colorTheme")},function(t,n){e.colorTheme=t}),h=e.$watch(function(){var e=i.get();return e?e.uid():null},function(e,t){d.application(e)}),y=e.$watch(function(){var e=o.get();return e?e.uid():null},function(e,t){d.project(e)}),b=e.$watch(function(){var e=a.get();return e?e.uid():null},function(e,t){d.document(e)}),x=e.$watch(function(){var e=l.get();return e?e.getLength():0},function(e,t){var n=0!==e;d.select(n)}),w=e.$watch(function(){return u.counter()},function(e,t){var n=e>0;d.popup(n)}),j=e.$watch(function(){return p.counter()},function(e,t){var n=e>0;d.notice(n)});e.$on("$destroy",function(){f(),h(),y(),b(),x(),j(),w(),v()})}])}(),function(){var e=MODULE.tool.instance;e.controller("ScreenContainerController",["$scope","$element","$attrs","$key","$screenZoom","$selects","$projects","$applications","$timeout","Touch","$commandController","Default","$autoBackup","$richEditor",function(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(){e.protect="none"!==e.cursor||L,e.$applyAsync()}function v(t){var n=function(){var e=l.get();if(!e)return!1;var t=e.getNoneCopyValue("documents");return!t||t.length<1?!1:!0}();n||(t=""),e.cursor=t?t:"none",m(),t?f():h(),e.$applyAsync()}function f(){O&&O.deleteEvent(),O=s.instance(U),O._mouse_slop=0,O.createEvent(t,{start:b,move:w,end:C,click:_},this)}function h(){s.remove(U),U=null,O&&O.deleteEvent()}function y(){B=!1,R=!1,N=!1;var t=l.get(),n=t.getNoneCopyValue("app");n.$$temp_zoomCenter=null,e.tempZoomStyle=null,o.clear()}function b(e){y(),B=!1,e.preventDefault(),M=null}function x(t){var n={x:t.pageX,y:t.pageY,ox:t.offsetX,oy:t.offsetY},i=o.start(n);e.tempZoomStyle={position:"absolute",transformOrigin:i.cx+"px "+i.cy+"px",transform:"scale("+i.scale+","+i.scale+")",left:i.left,top:i.top};var a=l.get(),r=a.getNoneCopyValue("app");r.$$temp_zoomCenter=Boolean(i)}function w(n,a){n.preventDefault();var r=i.spaceFlag;if(!B)return("ctrlSpace"===r||"ctrlAltSpace"===r)&&(B=!0,N=!0,x(n),e.$applyAsync()),void("space"===r&&(B=!0,R=!0));if(R)return void function(){var n=t.scrollLeft()-a.dx,i=t.scrollTop()-a.dy;$(n,i),e.$applyAsync()}();if(N){var c=j(a);if(void 0===c)return;!function(){var t=o.move(c),n=t.cx,i=t.cy,a=t.scale;e.tempZoomStyle.transform="scale("+a+","+a+")",e.tempZoomStyle.transformOrigin=n+"px "+i+"px",e.tempZoomStyle.left=t.left,e.tempZoomStyle.top=t.top;var r=l.get(),s=r.getNoneCopyValue("app");s.$$temp_scale=a}(),e.$applyAsync()}}function j(e){var t,n,i=e.dx,o=e.dy,a=Math.abs(i),l=Math.abs(o);return 0===a&&0===l||0===l?void 0:(t=o>0?1:-1,n=Math.sqrt(Math.pow(a,2)+Math.pow(l,2)),n*=t,n/=d.zoom.dragSensitive)}function $(e,n){(0===e||e)&&t.scrollLeft(e),(0===n||n)&&t.scrollTop(n)}function C(t,n){B&&(t.preventDefault(),R?R=!1:N&&(k(),N=!1),i.spaceFlag||v(),e.$applyAsync())}function k(){var t=o.end();M={x:t.scrollX,y:t.scrollY},y();var n=t.scale;u.zoom(n,function(){}),V=!0,e.$applyAsync()}function _(e){if(!B){if(console.log("onClick : ",i.spaceFlag,M),e.preventDefault(),M)return void console.error("_scrollPos 초기화 안됨.",M);var t,n=i.spaceFlag;if("ctrlSpace"===n)t=1;else{if("ctrlAltSpace"!==n)return;t=-1}var o={direction:t,point:{x:e.pageX,y:e.pageY}};u.zoomStep(o,function(){})}}function E(n){if(!z){I(),M={x:t.scrollLeft()||0,y:t.scrollTop()||0};var i=!0;i&&S(),e.$applyAsync()}}function S(){var e=l.get();if(e){var n=e.value("app"),i=n.$$temp_scale||n.scale,a=t.scrollLeft()||0,r=t.scrollTop()||0,c=n.scale!==i||n.scrollX!==a||n.scrollY!==r;n.scale=i,n.scrollX=a,n.scrollY=r,e.value("app",n),o.scrollSaved(!0),c&&p.execute({ignoreCapture:!0})}}function I(){var n=a.get(e.uid),i=n?n.value("editingUID"):"";if(i){if(p._disable)return A(i);var o=g.isTextEditor(i);if(o){if(!e.startScrollPosition)return void T();var l=e.startScrollPosition.x.min,r=e.startScrollPosition.x.max,c=t.scrollLeft();l>c&&(c=l),c>r&&(c=r);var s=e.startScrollPosition.y.min,u=e.startScrollPosition.y.max,d=t.scrollTop();s>d&&(d=s),d>u&&(d=u),t.scrollLeft(c),t.scrollTop(d)}}}function D(){e.startScrollPosition=null}function T(){function n(){var e=t[0].getBoundingClientRect(),n=i[0].getBoundingClientRect(),o=Math.floor(n.left-e.left),a=Math.floor(n.right-e.right),l=Math.floor(n.top-e.top),r=Math.floor(n.bottom-e.bottom),c=Math.floor(.1*e.width),s=Math.floor(.1*e.height);return{margin:{x:c,y:s},left:o,right:a,top:l,bottom:r}}if(!e.editingUID)return void D();if(!p._disable&&!e.startScrollPosition){var i=t.find('[jj-element-text][uid="'+e.editingUID+'"] [richTextEditor]'),o=i.css("overflow");if("hidden"!==o){var a=n(),l=a.margin.x,r=a.margin.y,c=t.scrollLeft(),s=a.left-l,u=a.right+l,d=a.left>0&&s>0?c:c+s,g=a.right<0&&0>u?c:c+u,m=t.scrollTop(),v=a.top-r,f=a.bottom+r,h=a.top>0&&v>0?m:m+v,y=a.bottom<0&&0>f?m:m+f;e.startScrollPosition={x:{min:d,max:g},y:{min:h,max:y}}}}}function A(t){if(t)var n=e.$watch(function(){var e=!p._disable;return e},function(e){e&&(n(),c(function(){I()}))})}var L=!1;e.$applyAsync(function(){l.get().$$_needScaleFitFlag()&&(l.get().$$_needScaleFitFlag(!1),u.zoomStep({direction:"fit"}))});var O,M,U="spaceShortcuts",P=e.$watch(function(){return i.spaceFlag},function(e){s.isButtonDown||(document.activeElement!==document.body&&document.activeElement.blur(),v(e))}),B=!1,R=!1,N=!1,V=!1;e.tempZoomStyle=null,o.set(t);var F=!1,z=!1;e.$on("jjScreenScrollViewChange",function(e,n){if(F!==n){if(F=n,o._state)return M={x:o._state.scrollX,y:o._state.scrollY},y(),z=!0,void D();if(z)z=!1;else if(V)V=!1;else{var i=t[0];if(i.scrollLeft>0||i.scrollTop>0)M={x:i.scrollLeft,y:i.scrollTop};else{var a=l.get(),r=a.getNoneCopyValue("app");M=a.defaultScrollPosition(r.scale)}}if(M){var c=M.x,s=M.y;$(c,s)}}}),t.on("scroll",E),this.applyLastFocusScroll=function(){var n=l.get();if(n){var i=n.getNoneCopyValue("app"),o=n.getNoneCopyValue("paper");e.$applyAsync(function(){i||(i={scale:1});var n=t[0];i.scrollX||(i.scrollX=(n.scrollWidth-o.width*i.scale)/2-100),i.scrollY||(i.scrollY=(n.scrollHeight-o.height*i.scale)/2-100);var a=i.scrollX||0,l=i.scrollY||0;M={x:a,y:l},z=!0,e.$applyAsync()})}},this.applyNewFocusScroll=function(){var n=r.get().value("screen"),i=Math.max(n.padding-100,0),a=l.get(),c=a?a.getNoneCopyValue("paper"):null,s=t.width(),u=t.height(),d=o._getContentArea(),p=Math.max(d.width-s,0),g=Math.max(d.height-u,0),m=s>c.width?p/2:i,v=u>c.height?g/2:i;M={x:m,y:v},z=!0,e.$applyAsync()},e.$on("jjScreenSizeChange",function(e){D()});var G=e.$watch(function(){var t=a.get(e.uid),n=t?t.value("editingUID"):"";return n},function(t){e.editingUID=t,D()});e.$on("$destroy",function(){D(),t.off("scroll",E),P(),G(),h()})}])}(),function(){var e=MODULE.tool.instance;e.controller("ToolController",["$scope","$element","$attrs","$command","$timeout","$externalAPI","$applications","$projects","$documents","$selects","$newProjectMacro","$openProjectMacro","$closeProjectMacro","$saveProjectMacro","$saveAsProjectMacro","CommandName","CommandParam","$status","ContentViewName","$fileDrop","$key","$richEditor","$elements","ElementType","$commandController",function(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m,v,f,h,y,b,x,w,j,$,C){function k(){S&&(o.cancel(S),S=null),S=o(function(){o.cancel(S),S=null,_()},250)}function _(){if(window.document.body){var e=l.get(),t=e.temp();t.applicationWidth=window.document.body.clientWidth,t.applicationHeight=window.document.body.clientHeight}}function E(e){e=e||"제목 없음",a.setTitle(e)}e.ContentViewName=y,e.openPublishSetting=function(){C.publishSetting()},e.newProject=function(){C.newProject()};var S;angular.element(window).on("resize",k);var I,D=e.$watch(function(){return l.uid()},function(){_()}),T=e.$watch(function(){var e=l.get();return e.state()},function(e,t){h.setState(e)}),A=e.$watch(function(){return l.projectIsOpen()},function(t,n){return t?void l.safetyCall(e,function(){e.projectIsOpen=t}):void(e.projectIsOpen=t)});e.project="",e.projectData={};var L=e.$watch(function(){return r.uid()},function(t,n){return t?void l.safetyCall(e,function(){e.project=t}):void(e.project=t)}),O=e.$watch(function(){var e=r.get();return e?e.getNoneCopyValue("subject"):""},function(t,n){l.safetyCall(e,function(){e.projectData.subject=t||"",E(e.projectData.subject)})});e.document="";var M=e.$watch(function(){return c.uid()},function(t,n){e.document=t});e.editProtecting=!1,e.isTextEditing=!1,e.isRichtextEditing=!1,e.editorConfig=null;var U=e.$watch(function(){var t=s.get(e.document),n=t?t.value("editingUID"):"";return n},function(t){if(e.protect=Boolean(t),e.editProtecting=Boolean(t),e.isTextEditing=!1,e.isRichtextEditing=!1,e.editorConfig=null,t){var n=j.get(t);e.isTextEditing=n?n.type()===$.TEXT:!1,e.isRichtextEditing=e.isTextEditing?n.option().useRichtext||!1:!1,e.isRichtextEditing&&(e.editorConfig=w.setEditorConfig({uid:t,isPopup:!1}))}});e.appProtect=!1;var P=e.$watch(function(){return l.protect},function(t){t?(b.disable(),x.pause()):(b.enable(),x.resume()),e.appProtect=Boolean(t)});e.$on("$destroy",function(){angular.element(window).off("resize",k),e.projectData=null,D(),T(),L(),M(),I(),O(),U(),P(),A()})}])}(),function(){var e=MODULE.tool.instance;e.controller("TopInfoController",["$scope","$element","$attrs","$selects","$groups","$documents","$elements","$commandController",function(e,t,n,i,o,a,l,r){function c(t){var n=i.get();if(!n||!t)return void(e.ingroupDepths=[]);var a=n.value("inGroup");if(!a||a.length<1)return void(e.ingroupDepths=[]);var r=[];a.forEach(function(e){var t=o.get(e),n=t.value("owner"),i=l.get(n).name();r.unshift({name:i,group:e})}),r.unshift({name:"그룹 편집 나가기",group:""}),e.ingroupDepths=r}e.ingroupDepths=[];var s=e.$watchCollection(function(){var e=i.get(),t=e?e.getNoneCopyValue("inGroup"):null;return t},function(e){c(e)});e.onClick_depth=function(e){console.log("# 그룹 편집 이동 : ",e.name,"(",e.group,")");var t={document:a.uid(),group:e.group};r.moveEditGroup(t)};var u=e.$watch(function(){var e=i.get(),t=e?e.value("editingUID"):"";return t},function(t){e.protect=Boolean(t)});e.$on("$destroy",function(){s(),u()})}])}(),function(){function e(e,t,n){function i(e){var t,n,i,o,a,l,r,c,s=document.styleSheets;if("ontouchend"in document&&s&&s.length)for(t=0;t<s.length;++t)if(o=s[t],o.cssRules)for(l=o.cssRules.length,n=0;l>n;++n)if(a=o.cssRules[n],a&&a.selectorText&&e.test(a.selectorText)){for(r=a.selectorText.split(","),c="",i=0;i<r.length;++i)e.test(r[i])||(c&&(c+=","),c+=r[i]);c?a.selectorText=c:o.deleteRule(n)}}function o(e,t){if(e!==a)throw new Error("Touch.instance 메서드로 인스턴스를 생성하세요.");this.uid=t}var a="생성자를 통한 인스턴스 생성 방지";if(t.isTouchDevice()){console.log("# Touch Device 에서 :hover 보정 코드 생성함.");var l=/:hover/;e.on("touchstart",function(e){i(l)})}var r=!0;o.disable=function(){r=!1},o.enable=function(){r=!0};var c={};return o.instance=function(e){return c[e]||(c[e]=new o(a,e)),c[e]},o.remove=function(e){if(c[e]){var t=c[e];t.deleteEvent(),delete c[e]}},o.isButtonDown=!1,o.prototype={$element:void 0,_handler:{down:void 0,start:void 0,move:void 0,end:void 0,click:void 0,dblclick:void 0},preventDefault:!1,createEvent:function(e,n,i){if(!e||!n)throw new Error("parameter가 전달되지 않았습니다.");angular.isArray(e)||(e=angular.element(e)),this.$element=e,this._handler=n,this._context=i,this._bindHandler={down:angular.bind(this,this.onDown),start:angular.bind(this,this.onStart),move:angular.bind(this,this.onMove),end:angular.bind(this,this.onEnd),click:angular.bind(this,this.onClick),dblclick:angular.bind(this,this.onDblclick)},this.$element.css("touch-action","none"),this.$element.on(t.EVENT_MOUSE_DOWN,this._bindHandler.down),this.$element.on(t.EVENT_DBLCLICK,this._bindHandler.dblclick)},deleteEvent:function(){this.$element&&(this._dblclickTimeoutCheck&&(n.cancel(this._dblclickTimeoutCheck),this._dblclickTimeoutCheck=null),this.$element.css("touch-action",""),this.$element.off(t.EVENT_MOUSE_DOWN,this._bindHandler.down),this.$element.off(t.EVENT_DBLCLICK,this._bindHandler.dblclick),this.removeEvent(),this.$element=null,this._handler=null,this._context=null,this._bindHandler=null,this._last=null,this._distTotal=null)},_isStartEventTriggered:!1,trigger:function(e,t){switch(e){case"down":this._bindHandler.down(t);break;case"start":this._isStartEventTriggered=!0,this._bindHandler.start(t);break;case"move":this._bindHandler.move(t);break;case"end":this._bindHandler.end(t);break;case"click":this._bindHandler.click(t);break;case"dblclick":this._bindHandler.dblclick(t)}},addEvent:function(){this.removeEvent(),e.on(t.EVENT_MOUSE_MOVE,this._bindHandler.move),e.on(t.EVENT_MOUSE_UP,this._bindHandler.end);var n=this.$element;n.on(t.EVENT_CLICK,this._bindHandler.click)},removeEvent:function(){e.off(t.EVENT_MOUSE_MOVE,this._bindHandler.move),e.off(t.EVENT_MOUSE_UP,this._bindHandler.end);var n=this.$element;n.off(t.EVENT_CLICK,this._bindHandler.click)},_last:void 0,_distTotal:void 0,isMoved:!1,_mouse_slop:t.SLOP,_isLeftButtonPressed:!1,_checkLeftButtonPressed:function(e){var n;return n=t.isTouchDevice()||t.isTouchAvaliable()?!0:void 0===e.buttons?void 0===e.button?1===e.which:0===e.button:1===e.buttons},onDown:function(e){r&&(this._isLeftButtonPressed=this._checkLeftButtonPressed(e),this._isLeftButtonPressed&&(this.isMoved=!1,o.isButtonDown=!0,e=e||window.event,this.preventDefault&&e.preventDefault(),this._handler.down&&this._handler.down.apply(this._context,[e]),this.onStart(e)))},_getPositionInfo:function(e){var t,n="touchstart touchmove touchend";if(n.indexOf(e.type)<0)t={clientX:e.clientX,clientY:e.clientY};else{var i=e.originalEvent||e;if(!i||!i.targetTouches)return void console.error("터치 위치값 알 수 없음");var o=i.targetTouches[0];t={clientX:o.clientX,clientY:o.clientY}}return t},_isTouchEvent:!1,onStart:function(e){if(e=e||window.event,this.preventDefault&&e.preventDefault(),console.log("# TouchJS("+e.type+") onStart : ",this.uid,this.preventDefault),!this._isTouchEvent&&(this._isTouchEvent=e.type.indexOf("touchstart")>-1,this._isLeftButtonPressed)){this.addEvent();var t=this._getPositionInfo(e);t||console.warn("BUG 체크 코드 : Touch 정보를 얻을 수 없는 상태임",t,e),this._last||(this._last={}),this._last.x=t.clientX,this._last.y=t.clientY,this.isMoved=!1,this._handler.start&&this._handler.start.apply(this._context,[e])}},onMove:function(e){if(e=e||window.event,!(this._isTouchEvent&&e.type.indexOf("touch")<0)){if(!this._isLeftButtonPressed)return console.warn("BUG 체크 코드 : 마우스 버튼이 눌리지 않은 상태임",e.which,e.button,e.buttons),console.log(e),this.isMoved=!1,void this.removeEvent();var t=this._getPositionInfo(e);if(!t)return console.warn("BUG 체크 코드 : 위치 이동 정보를 얻을 수 없는 상태임",e),this.isMoved=!1,void this.removeEvent();this.preventDefault&&e.preventDefault(),console.log("# TouchJS("+e.type+") onMove preventDefault : ",this.preventDefault);var n=t.clientX-this._last.x,i=t.clientY-this._last.y;!this.isMoved&&this._mouse_slop>=0&&Math.abs(n)<=this._mouse_slop&&Math.abs(i)<=this._mouse_slop||(this._last.x=t.clientX,this._last.y=t.clientY,this.isMoved=!0,this._distTotal||(this._distTotal={dx:n>0?-this._mouse_slop:this._mouse_slop,dy:i>0?-this._mouse_slop:this._mouse_slop}),this._distTotal.dx+=n,this._distTotal.dy+=i,this._handler.move&&this._handler.move.apply(this._context,[e,{dx:n,dy:i,total:this._distTotal}]))}},onEnd:function(e){o.isButtonDown=!1,e=e||window.event,this.preventDefault&&e.preventDefault(),console.log("# TouchJS("+e.type+") end : ",this.uid,this.preventDefault);var n=this;if(setTimeout(function(){n._isTouchEvent=!1},50),!(this._isTouchEvent&&e.type.indexOf("touch")<0)&&this._isLeftButtonPressed){var i=!1,a=this.isMoved;a?(this.removeEvent(),i=!0):this._isStartEventTriggered&&(this._isStartEventTriggered=!1,this.removeEvent()),this._handler.end&&this._handler.end.apply(this._context,[e,this._distTotal]),this._distTotal=null,a?this.isMoved=!1:!i&&t.isTouchAvaliable()&&this.onClick(e)}},_DBLCLICK_TIME:150,_dblclickTimeoutCheck:void 0,useDblclickManually:!1,onClick:function(e){function t(){if(this._handler.click){this._dblclickTimeoutCheck&&n.cancel(this._dblclickTimeoutCheck);var t=this;this._dblclickTimeoutCheck=n(function(){console.log("# TouchJS("+e.type+") click : ",t.uid),t._handler.click.apply(t._context,[e,t])},this._DBLCLICK_TIME)}}return o.isButtonDown=!1,e=e||window.event,this.preventDefault&&e.preventDefault(),this.isMoved||this.removeEvent(),this.isMoved=!1,this.useDblclickManually?void t.apply(this):void(this._handler.click&&(console.log("# TouchJS("+e.type+") click : ",this.uid),this._handler.click.apply(this._context,[e,this])))},onDblclick:function(e){r&&(o.isButtonDown=!1,this._dblclickTimeoutCheck&&(n.cancel(this._dblclickTimeoutCheck),this._dblclickTimeoutCheck=null),e=e||window.event,this.preventDefault&&e.preventDefault(),this._handler.dblclick&&(console.log("# TouchJS("+e.type+") dblclick : ",this.uid,this.preventDefault),this._handler.dblclick.apply(this._context,[e,this])))}},o}var t=MODULE.tool.instance;t.factory("Touch",e),e.$inject=["$document","$device","$timeout"]}(),function(){function e(){function e(e,t,n){function i(e){var n=t.hasClass("disable");n&&(console.log("# iconField 버튼 클릭 동작 막음 (disable 상태)"),e.stopImmediatePropagation())}t.on("click",i),e.$on("$destroy",function(){t.off("click",i)})}return e.$inject=["$scope","$element","$attrs"],{restrict:"A",scope:!1,controller:e}}var t=MODULE.tool.instance;t.directive("iconField",e),t.directive("subIconField",e)}(),function(){function e(e,t){function n(n,i,o){function a(n){var i=o.jjClipboard;if(i){var a=t.copyTo(i,n.target);a&&e.message("클립보드에 복사되었습니다.",{delay:e.SHORTEST})}}i.on("click",a),n.$on("$destroy",function(){i.off("click",a)})}return n.$inject=["$scope","$element","$attrs"],{restrict:"A",scope:!1,controller:n}}var t=MODULE.tool.instance;t.directive("jjClipboard",e),e.$inject=["$toast","$clipboard"]}(),function(){function e(e,t,n,i){function o(){return function(o,a,l){function r(){if(null!==o.scrollView){if(isNaN(u)||1>u){var e=a.find("[ng-repeat]:first");u=e.height()}var t=a[0],n=t.scrollHeight,i=a.height(),l=n-i,r=a.scrollTop();o.scrollView.initialize=l>0,o.scrollView.min=r,o.scrollView.max=r+i,o.scrollView.unitHeight=u,o.scrollView.scroll=r}}function c(){s()}function s(){g&&t.cancel(g),g=t(function(){r(),g=null},100)}var u;o.scrollView={initialize:!1,min:0,max:a.height(),unitHeight:0,scroll:0},r();var d=o.$watch("project",function(e,t){t!==o.project&&i.safetyCall(o,function(){r()})}),p=o.$watch(function(){if(!o.project)return 0;var e=n.get(o.project);return e?e.documents().length:0},function(e,t){t!==e&&i.safetyCall(o,function(){r()})});a.on("scroll",s),angular.element(e).on("resize",c);var g;o.$on("$destroy",function(){a.off("scroll",s),angular.element(e).off("resize",c),o.scrollView=null,d(),p()})}}return{restrict:"A",compile:o}}var t=MODULE.tool.instance;t.directive("jjScroller",e),e.$inject=["$window","$timeout","$projects","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r){var c=e,s=c.extend("CommandController",{openShortcutsPage:function(){t.open({isTop:!0,templateUrl:"popup/iframe.html",controller:["$scope","$notice",function(e,t){e.close=function(e){t.close(e)},e.config={title:"단축키 목록",closeButton:!0,style:{backgroundColor:"#FFFFFF"},source:"plugin/shortcuts.html"},e.$on("$destroy",function(){e.config=null})}]})},openPopup_easterEgg:function(){l.preventDefault();var e=this;t.open({isTop:!0,templateUrl:"popup/egg.html",controller:["$scope","$notice",function(t,n){t.close=function(e){n.close(e)},t.config={modal:!0,project:i.project(),version:i.version(),email:i.email()},t.auth=window.$$_auth,t.authURL=window.$$_authURL,process&&(t.processVersions=process.versions),t.$on("$destroy",function(){return t.config=null,l.isSuccess?void 0:(alert("사용 인증되지 않은 상태이므로 프로그램을 종료합니다."),e.exit())})}]})},zoomStep:function(e,t){var i=n.get();if(i){e=e||{};var a=e.scale;void 0===a&&(a=o.getZoomScale(e));var l=e.direction;a="portrait"===l||"landscape"===l||"fit"===l?o.initScroll(a):o.focus(a,e.point),this.zoom(a,t)}},zoom:function(e,t){var i=n.get();if(i){var o={data:{app:{scale:e}}};this.modifyProject(o,function(){var e=i.getNoneCopyValue("app");e.$$temp_scale=void 0,t&&t()})}},selectCategoryMenu:function(e,t){var n='[jj-category-menu-item="'+e+'"]',i=angular.element(n)[t];if(i){var o=angular.element(i).scope();o&&o.onClick()}},fileEditor:function(e){function n(t,n){return t?console.log("결과 에러 : ",t):(console.log("# 결과 : ",n),void(e&&e()))}t.versionLimitMessage("파일 가져오기/내보내기 설정")||a.open({template:'<div jj-file-list-editor-dialog-box popup-dialog config="config">'},n)},autoScrollSelectedPage:function(){var e=angular.element("[tree-container][jj-scroller]"),t=e.controller();t&&t.autoScrollSelectedPage()}});return new s}var t=MODULE.tool.instance;t.service("$commandController",e),e.$inject=["CommandControllerService","$notice","$projects","$version","$screenZoom","$import","$auth2","$exitApplicationMacro"]}(),function(){function e(e){function t(){}return t.prototype={_state:e.DEFAULT,set:function(t,n){t=angular.copy(t||e.DEFAULT),void 0===n||n||(t.cursor=""),this._state=t},get:function(){return this._state}},new t}var t=MODULE.tool.instance;t.service("$cursor",e),t.value("Cursor",{DEFAULT:{mouse:"",target:"",cursor:""},DRAG_ELEMENT:{mouse:"drag",target:"screen",cursor:"move"},DRAG_SELECT:{mouse:"drag",target:"screen",cursor:"crosshair"}}),e.$inject=["Cursor"]}(),function(){function e(){function e(){this.SCALE_FACTOR=window.devicePixelRatio||1,console.log("# Device SCALE_FACTOR : ",this.SCALE_FACTOR),this.isMobile()&&(this.SLOP=10),window.navigator.pointerEnabled?(this.EVENT_MOUSE_DOWN="pointerdown",this.EVENT_MOUSE_MOVE="pointermove",this.EVENT_MOUSE_UP="pointerup"):window.navigator.msPointerEnabled?(this.EVENT_MOUSE_DOWN="MSPointerDown",this.EVENT_MOUSE_MOVE="MSPointerMove",this.EVENT_MOUSE_UP="MSPointerUp"):this.isTouchAvaliable()?(this.EVENT_MOUSE_DOWN="touchstart mousedown",this.EVENT_MOUSE_MOVE="touchmove mousemove",this.EVENT_MOUSE_UP="touchend mouseup"):(this.EVENT_MOUSE_DOWN="mousedown",this.EVENT_MOUSE_MOVE="mousemove",this.EVENT_MOUSE_UP="mouseup")}return e.prototype={SCALE_FACTOR:1,SLOP:0,EVENT_MOUSE_DOWN:"mousedown",EVENT_MOUSE_MOVE:"mousemove",EVENT_MOUSE_UP:"mouseup",EVENT_CLICK:"click",EVENT_DBLCLICK:"dblclick",isMobile:function(){var e=/mobile|tablet|ip(ad|hone|od)|android/i;return e.test(navigator.userAgent)},isTouchAvaliable:function(){var e="ontouchstart"in window;return e},isTouchDevice:function(){return this.isTouchAvaliable()&&this.isMobile()},isDragNDropable:function(){var e=!this.isMobile();return e},browser:function(){function e(){var e,t,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|edge|trident(?=\/))\/?\s*(\d+)/i)||[];if(-1!==n.indexOf("Win")&&(t="Windows"),-1!==n.indexOf("Mac")&&(t="OS X"),-1!==n.indexOf("X11")&&(t="UNIX"),-1!==n.indexOf("Linux")&&(t="Linux"),-1!==n.indexOf("Android")&&(t="Android"),/iPad|iPhone|iPod/.test(n)&&(t="iOS"),-1!==n.indexOf("Windows Phone")&&(t="Windows Phone"),/trident/i.test(i[1])){e=/\brv[ :]+(\d+)/g.exec(n)||[];var o=/\b(Tablet|WebView)/gi.exec(n);return o?{name:"IETablet",version:e[1]||"",os:t}:{name:"IE",version:e[1]||"",os:t}}if("MSIE"===i[1])return e=/\brv[ :]+(\d+)/g.exec(n)||[],{name:"IEMobile",version:e[1]||"",os:t};if("Chrome"===i[1]){if(e=n.match(/\bOPR\/(\d+)/),null!==e)return{name:"Opera",version:e[1],os:t};if(e=n.match(/\bEdge\/(\d+)/),null!==e)return{name:"Edge",version:e[1],os:t}}return i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=n.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),{name:i[0],version:i[1],os:t}}return e()}},new e}var t=MODULE.tool.instance;t.service("$device",e)}(),function(){function e(e,t,n,i,o,a,l,r){function c(){}function s(e,t){return e===b?-1:t===b?1:e===y?-1:t===y?1:e===x?-1:t===x?1:t>e?-1:e>t?1:0}function u(e,t){var n=e.label,i=t.label;return"시스템 글꼴"===n?-1:"시스템 글꼴"===i?1:i>n?-1:n>i?1:0}function d(e){var t=a.getItems(e),n=t.map(function(e){var t=a.getInfo(e),n=h(t.label);return p(t.categoryName,n,e)});return n.push({group:x,style:"",label:"시스템 글꼴",value:""}),n}function p(e,t,n){return{group:e||x,label:t,value:t,uid:n}}function g(e){return o.parsePath(e)}function m(e){return function(t,n){var i=o.pathToActual(e.folder),a=g(n.pathString.replace(i,"")),r={bundle:!0,categoryPath:a.folder,categoryName:a.folderName,label:a.file,dataName:t,baseFolder:i,source:n.pathString,uid:l.ASSET+"-"+n.uid};return r}}function v(e,t){var n="font",i=o.parsePath(t.source),a=o.WORK_OPS_FOLDER+o.CUSTOM,l=a+"/"+t.uid+"."+i.ext.toLowerCase(),r={type:n,path:l,original:t.source,property:{bundle:t.bundle,label:t.label},uid:t.uid};return r}function f(){var e=[],o=t.get(),a=o?o.files():[],l=n.get(),r=l?l.files():[];r=r.filter(function(e,t,n){return a.indexOf(e)<0});var c=a.concat(r);return c.forEach(function(t,n,o){var l=i.get(t);if("font"===l.type()){var r=a.indexOf(t)<0?b:y,c=h(l.getNoneCopyValue("property").label),s=p(r,c,t);e.push(s)}}),e}function h(e){var t=o.parsePath(e),n=t.fileName;return n}var y="project 등록",b="document 등록",x="default",w={loaded:!1,items:null};return c.prototype={list:null,groupList:null,getItem:function(e){var t=i.get(e);return t?t.$$_original:t=a.getContent(e)},findFontFamilyItem:function(e){return r("filter")(w.items,{value:e},!0)},load:function(e){function t(e,t){var n=e.dataName;e.iterate=m(e),a.loadItems(e,function(){w.loaded=a.dataLoaded(n),w.items=d(n),t&&t()})}function n(){var t=w.items,n=f();r.list=t.concat(n),r.groupList=r.list.reduce(function(e,t){return-1===e.indexOf(t.group)&&e.push(t.group),e},[]),r.list.sort(u),r.groupList.sort(s),e&&e()}var i="font";if(w.loaded=a.dataLoaded(i),w.loaded)return void(e&&e());var l,r=this;l={dataName:i,folder:o.BUNDLE_RESOURCE+"/font",getContent:v},t(l,function(){n()})}},new c}var t=MODULE.tool.instance;t.service("$fontList",e),e.$inject=["$timeout","$projects","$documents","$assets","FileSystem","$contentAssetSetting2","UIDType","$filter"]}(),function(){function e(e,t,n){function i(){var e=t.get();if(!e)return 1;var n=e.getNoneCopyValue("documents");if(!n||n.length<1)return 1;var i=e.getNoneCopyValue("app");return void 0===i.$$temp_scale?i.scale:i.$$temp_scale}function o(){}var a,l,r,c;return o.prototype={set:function(e){this.container=e},clear:function(){this._startState=null,a=null,l=null,r=null,c=null,this._state=null},container:void 0,screen:void 0,paper:void 0,contentArea:void 0,_startState:void 0,_getContentArea:function(){var n=e.get().value("screen"),i=n.padding,o=t.get(),a=o?o.getNoneCopyValue("paper"):null,l=a.width+2*i,r=a.height+2*i;return{width:l,height:r}},_scrollSaved:!0,scrollSaved:function(e){return arguments.length<1?this._scrollSaved:void(this._scrollSaved=e)},start:function(t){this.clear(),this.screen=this.container.find("[screenContent]"),this.paper=this.container.find("[jj-paper]"),this.contentArea=this._getContentArea(),a=this._getRange("x"),l=this._getRange("y");var n=this._getPointFromPaper(t),o=e.get().value("screen"),s=n.x+o.padding,u=n.y+o.padding,d=i(),p=s*(d-1),g=u*(d-1),m=this.screen.outerWidth(),v=this.screen.outerHeight();return this._startState={horizontalScroll:m<=this.contentArea.width,verticalScroll:v<=this.contentArea.height,ox:t.ox,oy:t.oy},this._state={scrollX:void 0,scrollY:void 0,cx:s,cy:u,left:p,top:g,scale:d},r||(r={}),c||(c={}),this.scrollSaved(!1),this._state},_getNextScale:function(e){var t=i(),o=100*t,a=o+e;return a<n.zoom.min&&(a=n.zoom.min),a>n.zoom.max&&(a=n.zoom.max),a/100},move:function(e){var t=this._getNextScale(e);return this._state.scale=t,this._updateRange("x"),this._updateRange("y"),this.setState("x"),this.setState("y"),this._state},end:function(){return this._state},_getPointFromPaper:function(e){this.paper||(this.paper=this.container.find("[jj-paper]"));var t=this.paper.offset(),n=e.x-t.left,o=e.y-t.top,a=i();return n/=a,o/=a,{x:n,y:o}},_getRange:function(e){var t,n="x"==e,i=this.container[0],o=n?i.scrollWidth:i.scrollHeight,a=n?this.container.width():this.container.height();t=n?i.offsetWidth-i.clientWidth:i.offsetHeight-i.clientHeight;var l=a-o-t,r=n?i.scrollLeft:i.scrollTop;return{minScroll:l,maxScroll:0,currentScroll:r}},_getCenter:function(e){var t="x"==e;return t?this._state.cx:this._state.cy},_updateRange:function(e){var t="x"==e,i=this._state.scale,o=n.zoom.min/100,r=n.zoom.max/100,c=this._getCenter(e),s=c*(o-1),u=c*(r-1),d=t?a:l;d.min=Math.min(s,u),d.max=Math.max(s,u),d.value=c*(i-1)},setState:function(e){var t,n="x"===e,i=this._getCenter(e),o=n?this.container.width():this.container.height(),r=n?this.screen.outerWidth():this.screen.outerHeight(),c=n?this.contentArea.width:this.contentArea.height;

t=0>i?this._setBelowState(e):i>c?this._setOverState(e,o,r):this._setRangeState(e,o,r);var s=this._state.scale,u=n?a:l,d=this._checkLimit(e,t.min,t.max),p=d-i*(s-1),g=u.currentScroll-p;n?(this._state.left=d,this._state.scrollX=g):(this._state.top=d,this._state.scrollY=g)},_checkLimit:function(e,t,n){var i,o="x"==e,r=o?a:l;return i=r.value<=t?t:r.value>=n?n:r.value},_setBelowState:function(e){var t,n,i="x"==e,o=i?a:l;return t=Math.min(o.min,o.minScroll),n=o.value,{min:t,max:n}},_setOverState:function(e,t,n){var i,o,r="x"==e,c=r?a:l,s=this._state.scale,u=r?this.contentArea.width:this.contentArea.height;if(i=Math.min(c.min,c.minScroll),n>u)o=c.value;else{var d=n*s-t;o=c.value-d}return{min:i,max:o}},_setRangeState:function(e,t,n){var i="x"==e,o=i?a:l;i?this.container.scrollLeft(o.currentScroll):this.container.scrollTop(o.currentScroll);var s=0,u=Math.min(o.min,o.minScroll),d=Math.max(o.max,o.maxScroll),p=i?this.contentArea.width:this.contentArea.height,g="",m=i?r:c,v=i?this._state.left:this._state.top;if(n>p)m.name?"small_to_big_changed"===m.name?(g="// A-3. 작은 크기 --> 큰 크기 -> 작은 크기로 변경된 경우",o.value=Math.min(m.value,o.value)):"clickBig"===m.name?(g="// B-2. 큰 크기에서 작은 크기로 처음으로 변경된 경우",m.name="big_to_small_changed"):g="big_to_small_changed"===m.name?"// B-4. 큰 크기 --> 작은 크기 --> 큰 크기 반복":"// C. 작은 크기에서 계속 변동":(g="// A-1. 작은 크기에서 처음으로 클릭된 경우",m.name="clickSmall",m.value=v),i?this._startState.horizontalScroll=!1:this._startState.verticalScroll=!1;else{if(m.name)if("clickSmall"===m.name){g="// A-2. 작은 크기에서 큰 크기로 처음으로 변경된 경우 (OK)",m.name="small_to_big_changed";var f=t/p,h=this._getCenter(e);m.value=h*(f-1),o.value=m.value}else"small_to_big_changed"==m.name?(g="// A-4. 작은 크기 --> 큰 크기 -> 작은 크기 --> 큰 크기 반복",o.value=m.value):"big_to_small_changed"===m.name?(g="// B-3. 큰 크기 --> 작은 크기 --> 큰 크기로 변경된 경우 (OK)",o.value=m.value,s=this._checkGap(e,t,n)):(g="// D. 큰 크기에서 계속 변동",o.value=m.value,s=this._checkGap(e,t,n));else g="// B-1. 큰 크기에서 처음 클릭한 경우 (OK)",m.name="clickBig",m.value=v,o.value=m.value;i?this._startState.horizontalScroll=!0:this._startState.verticalScroll=!0}return 0!==s&&(u-=s,d-=s,o.value=o.value-s),{min:u,max:d}},_checkGap:function(e,t,n){var i="x"==e,o=i?this._startState.ox:this._startState.oy,a=this._getCenter(e),l=this._state.scale,r=o-a*l,c=r,s=o+(n-a)*l,u=s-t;c=Math.max(c,0),u=Math.min(u,0);var d=c+u;return d},focus:function(e,t){var n=this.container.offset();(function(){var e=this.container.width()/2+n.left,i=this.container.height()/2+n.top;t=t||{},t.x=t.x||e,t.y=t.y||i}).apply(this);var o=i(),a=100*(e-o);e=this._getNextScale(a),console.info("# Scale 변경 : ",o," --> ",e);var l={x:t.x,y:t.y,ox:t.x-n.left,oy:t.y-n.top};return this.start(l),this._state.scale=e,this._getScroll("x"),this._getScroll("y"),console.log("# Focus Zoom : ",o,e,this._state,this._startState),this._state.scale},_getScroll:function(e){var t="x"==e,n=t?a:l,o=this._getCenter(e),r=i(),c=this._state.scale,s=t?this.container.width():this.container.height(),u=t?this.contentArea.width:this.contentArea.height,d=s/u,p=r,g=c;c>r?d>r&&c>d&&(p=d):r>d&&d>c&&(p=r,g=d);var m=o*(g-p),v=n.currentScroll+m;v=Math.max(v,0);var f=0;t?this._state.scrollX=v-f:this._state.scrollY=v-f},getZoomScale:function(e){var i=t.get();if(i){e=e||{},e.min=e.min||n.zoom.min,e.max=e.max||n.zoom.max,e.unit=e.unit||n.zoom.unit;var o,a=e.direction;return o="portrait"===a?this._calculatePortraitScale(e):"landscape"===a?this._calculateLandscapeScale(e):"fit"===a?this._calculateFitScale(e):this._calculateStepedScale(e)}},_fitScaleOffset:{x:80,y:80},initScroll:function(n,i){function o(t){var n=e.get().value("screen"),i=n.padding*t;return i}function a(e,n){var i="x"===e,o=i?c.width():c.height(),a=t.get(),l=a.getNoneCopyValue("paper"),s=i?l.width:l.height,u=s*n,d=r._fitScaleOffset[e]/2*n,p=(o-u)/2;return 0>p&&(p=d),p}var l=o(n),r=this,c=this.container,s=a("x",n),u=a("y",n);return this._state={scrollX:Math.ceil(l-s),scrollY:Math.ceil(l-u)},n},_calculateStepedScale:function(e){var n=t.get(),i=n.value("app"),o=100*i.scale,a=e.direction,l=void 0===a;l&&(a=1);var r,c=e.unit,s=e.max,u=e.min;return r=l?Math.ceil(o/c):a>0?Math.ceil(o/c):Math.floor(o/c),o%c===0&&(r+=a),o=r*c,l?o>s&&(o=u):(o>s&&(o=s),u>o&&(o=u)),o/100},_calculateLandscapeScale:function(e){var t=this._getFixedScale("x");return t=100*t,t>e.max&&(t=e.max),t<e.min&&(t=e.min),t/100},_calculatePortraitScale:function(e){var t=this._getFixedScale("y");return t=100*t,t>e.max&&(t=e.max),t<e.min&&(t=e.min),t/100},_calculateFitScale:function(e){var t=this._getFixedScale("x"),n=this._getFixedScale("y"),i=Math.min(t,n);return i=100*i,i>e.max&&(i=e.max),i<e.min&&(i=e.min),i/100},_getFixedScale:function(e){var n="x"===e,i=n?this.container.width():this.container.height(),o=this._fitScaleOffset[e],a=t.get(),l=a.getNoneCopyValue("paper"),r=n?l.width:l.height,c=i/(r+o);return c=Math.floor(100*c)/100}},new o}var t=MODULE.core.instance;t.service("$screenZoom",e),e.$inject=["$applications","$projects","Default"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(){this.dragConfig={},this.dropConfig={}}var u,d;u=d=t.isDragNDropable();var p={};s.prototype={dragConfig:void 0,disable:!1,addDragEvent:function(e){this.removeDragEvent(),this.dragConfig=e||{};var t=this.dragConfig.element;t&&(u&&this.dragConfig.id?(t.on("dragstart",angular.bind(this,this.onDragStart)),t.on("dragend",angular.bind(this,this.onDragEnd))):console.debug("jjLayer : Drag & Drop 기능이 지원되지 않습니다."))},removeDragEvent:function(){var e=this.dragConfig.element;e&&u&&this.dragConfig.id&&(e.off("dragstart",angular.bind(this,this.onDragStart)),e.off("dragend",angular.bind(this,this.onDragEnd)))},dataTransfer:function(){return arguments.length<1?n.get().dataTransfer():void n.get().dataTransfer(arguments[0])},_effectAllowed:"copyMove",_dropEffect:"copyMove",onDragStart:function(e){if(e=e.originalEvent||e,this.disable)return e.preventDefault(),e.stopPropagation(),!1;if(this.dragConfig.dragStart){var t={id:this.dragConfig.id};this.dragConfig.dragStart(e,t)}e.dataTransfer.effectAllowed=this._effectAllowed,this.dataTransfer(t),this.setGhostImage(e,t),l.$apply()},onDragEnd:function(e){if(e&&(e=e.originalEvent||e,e.preventDefault(),e.stopPropagation()),this.disable)return!1;if(console.warn("mouseup trigger : nwJS 새버전에서는 필요없을수도..."),c.triggerHandler("mouseup"),this.dragConfig.dragEnd){var t=this.dataTransfer();this.dragConfig.dragEnd(e,t)}return this.dataTransfer(null),this.setGhostImage(),$(document.body)[0].focus(),!0},setGhostImage:function(e,t){var n=this.dragConfig.ghostName;if(n){if(!t){var i="["+n+"]";return void $(i).remove()}var o=angular.copy(t.selects);this.dragConfig.ghostSort&&this.dragConfig.ghostSort(o);var a=$("<div "+n+">");Array.isArray(o)||(o=[o]);for(var l in o){var r="string"==typeof o[l]?o[l]:o[l].id,c=p[r].dragConfig,s=c.ghost?c.ghost(c):c.element,u=s[0].cloneNode(!0);$(u).find("[notghost]").remove(),a.append(u)}var d=a[0];$(".applicationContainer").append(d);var g=0,m=0;t.ghostOffset&&(g=t.ghostOffset.x||0,m=t.ghostOffset.y||0);var v=e.offsetX||e.layerX,f=e.offsetY||e.layerY;v=(v||0)+g,f=(f||0)+m;var h=this.dragConfig.ghostScale;h&&(a.css({transformOrigin:v+"px "+f+"px",transform:"scale("+h+")"}),v*=h,f*=h),e.dataTransfer.setDragImage(d,v,f)}},dropConfig:void 0,addDropEvent:function(e){this.removeDropEvent(),this.dropConfig=e||{};var t=this.dropConfig.element;t&&d&&this.dropConfig.id&&(t.on("dragenter",angular.bind(this,this.onDragEnter)),t.on("dragleave",angular.bind(this,this.onDragLeave)),t.on("dragover",angular.bind(this,this.onDragOver)),t.on("drop",angular.bind(this,this.onDrop)))},removeDropEvent:function(){var e=this.dropConfig.element;e&&d&&this.dropConfig.id&&(e.off("dragenter",angular.bind(this,this.onDragEnter)),e.off("dragleave",angular.bind(this,this.onDragLeave)),e.off("dragover",angular.bind(this,this.onDragOver)),e.off("drop",angular.bind(this,this.onDrop)))},isDropAllowed:function(e){var t=this.dataTransfer();if(t&&t.id===this.dropConfig.id){if(this.dropConfig.isDropAllowed){var n=this.dropConfig.isDropAllowed(t);if(!n)return!1}return t}},onDragEnter:function(e){if(e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),this.disable)return e.dataTransfer.dropEffect="none",!1;var t=this.isDropAllowed(e);return t?(e.dataTransfer.dropEffect=this._dropEffect,void(this.dropConfig.dragEnter&&this.dropConfig.dragEnter(e,t)===!1&&(e.dataTransfer.dropEffect="none"))):(e.dataTransfer.dropEffect="none",!1)},onDragOver:function(e){if(e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),this.disable)return e.dataTransfer.dropEffect="none",!1;var t=this.isDropAllowed(e);return t?(e.dataTransfer.dropEffect=this._dropEffect,void(this.dropConfig.dragOver&&this.dropConfig.dragOver(e,t)===!1&&(e.dataTransfer.dropEffect="none"))):(e.dataTransfer.dropEffect="none",!1)},onDragLeave:function(e){if(e=e.originalEvent||e,this.disable)return!1;e.preventDefault(),e.stopPropagation();var t=this.isDropAllowed(e);return t?void(this.dropConfig.dragLeave&&this.dropConfig.dragLeave(e,t)):!1},onDrop:function(e){if(e=e.originalEvent||e,this.disable)return!1;e.preventDefault(),e.stopPropagation();var t=this.isDropAllowed(e);return t?void(this.dropConfig.drop&&this.dropConfig.drop(e,t)):!1}};var g=e.create("DragNDropService",{disable:function(e,t){if(!e)return void console.error("드래그&드랍 uid가 지정되지 않음.");var n=p[e];if(n)return arguments.length<2?n.disable:void(n.disable=t)},create:function(e){p[e]&&this.remove(e),p[e]=new s},remove:function(e){p[e]&&delete p[e]},addDragEvent:function(e,t){var n=p[e];n&&n.addDragEvent(t)},removeDragEvent:function(e){var t=p[e];t&&t.removeDragEvent()},addDropEvent:function(e,t){var n=p[e];n&&n.addDropEvent(t)},removeDropEvent:function(e){var t=p[e];t&&t.removeDropEvent()}});return g}var t=MODULE.tool.instance;t.factory("DragNDropService",e),e.$inject=["$superClass","$device","$applications","$selects","$commandController","$documents","$rootScope","$mask","$document"]}(),function(){var e=MODULE.tool.instance;e.controller("CategoryMenuController",["$scope","ContentViewName","ContentViewLabel","$applications","$commandController","$selects","$documents","$projects",function(e,t,n,i,o,a,l,r){e.ContentViewName=t,e.categories=[{name:t.PROPERTY,level:3,label:n.PROPERTY},{name:t.LAYER,level:3,label:n.LAYER},{name:"separater"},{name:t.BASIC,level:3,label:n.BASIC},{name:t.IMAGE,level:3,label:n.IMAGE},{name:t.BACKGROUND,level:3,label:n.BACKGROUND},{name:t.TEMPLATE,level:3,label:n.TEMPLATE},{name:t.COMPONENT,level:3,label:n.COMPONENT},{name:"separater"},{name:t.LAYOUT,level:3,label:n.LAYOUT,protectDocument:!0},{name:t.EVENT,level:3,label:n.EVENT,protectGroup:!1},{name:t.CONFIG,level:2,label:n.CONFIG},{name:""},{name:t.INFO,level:1,label:n.INFO}],e.selectedElements=[];var c=e.$watch(function(){var e=a.get();return e?e.getNoneCopyValue("select"):null},function(t,n){var i=a.get();e.selectedElements=i?i.get():[],e.selects=i?i.get():null},!0);e.contentView={name:"",fixed:!1,level:0,enable:!1,isGroup:!1,isDocument:!1},e.changeContentView=function(t){if(!e.contentView.fixed){var n={data:{panel:{category:t}}},i=!1;o.modifyApplication(n,null,i)}};var s=e.$watch(function(){var e=i.get().getNoneCopyValue("panel");return e.category},function(t){console.log("* ContentView 변경 : ",t),e.contentView.name=t}),u=e.$watch(function(){if(!i.safety())return"not safety";if(e.project){if(e.document){if(e.selectedElements.length<1)return e.document;if(e.selectedElements.length>1)return"group";var t=a.get().value("currentGroup");return t?"group":e.selectedElements[0]}return e.project}return null},function(t,n){if(i.safety()){var o,a=!1,l=!1;if(t)switch(t){case e.selectedElements[0]:o=4;break;case"group":o=3,a=!0;break;case e.document:o=3,l=!0;break;case e.project:o=2;break;default:o=1}else o=1;e.contentView.level=o,e.contentView.isGroup=a,e.contentView.isDocument=l}});e.labelIcon="showLabel";var d=e.$watch(function(){var e=i.get();return e.value("showLabel")},function(t,n){e.labelIcon=t?"showLabel":"hideLabel"});e.toggleLabel=function(){var e=i.get(),t=e.value("showLabel"),n={data:{showLabel:!t}};o.modifyApplication(n)},e.outlineIcon="showOutline";var p=e.$watch(function(){var e=i.get();return e.value("outline")},function(t,n){e.outlineIcon=t?"showOutline":"hideOutline"});e.toggleOutline=function(){var e=i.get(),t=e.value("outline"),n={data:{outline:!t}};o.modifyApplication(n)},e.removeSelectElement=function(){var t={document:l.uid(),elements:e.selects};o.removeElement(t)},e.$on("$destroy",function(){e.selectedElements=null,e.project=null,e.document=null,c(),u(),s(),d(),p()})}])}(),function(){var e=MODULE.tool.instance;e.controller("DocumentMenuController",["$scope","$commandController","$history","HistoryData","$mask","$selects","$projects","$elements","$documents","$groups",function(e,t,n,i,o,a,l,r,c,s){function u(e){if(e){var t={id:"editout",title:"수정 종료",forcedEnable:!0,text:"수정 종료"};return t}var n={id:"edit",title:"수정하기",enable:!1,text:"수정하기"};return n}function d(){var e=a.get(),t=e?e.value("editingUID"):"";return t}function p(){var e=a.get(),t=e?e.get():[];return t}function g(){var e=a.get(),t=e?e.value("currentGroup"):"";return t}function m(){var t=e.buttons;for(var n in t)t[n].enable=e.protect||!1;var i=d();if(t.edit=u(i),i)return t.edit.forcedEnable=!0,void e.$applyAsync();var o=p();if(!o||o.length<1);else if(t.del.enable=!0,o.length>1)t.group.enable=!0;else{var a=g();if(a){t.groupIn.enable=!0,t.group.enable=!0;var l=s.get(a).getNoneCopyValue("capsule");t.ungroup.enable=!l.schemaLock}else{t.group.enable=!0;var c=o[0],m=r.get(c);m.isEditable()&&(t.edit.enable=!0)}}e.$applyAsync()}function v(){var e={document:c.uid(),elements:p()};t.removeElement(e)}function f(){var e=angular.element("[screen-container] [jj-screen] [jj-paper]"),t=e.controller("jjPaper"),n=p();t.startEdit(n)}function h(){var e=angular.element("[screen-container] [jj-screen]"),t=e.controller("jjScreen"),n="screen",i="element";t.endEdit(n,i)}function y(){var e=a.get();if(!(e.getLength()<1)){var n=p(),i={document:c.uid(),data:{indexes:o.sort(n)}};t.createGroup(i)}}function b(){var e=g();if(e){var n={document:c.uid(),group:e};t.removeGroup(n)}}function x(){var e=g();if(e){var n={document:c.uid(),group:e};t.moveEditGroup(n)}}function w(){var e={document:c.uid()};t.moveEditGroup(e)}e.undoEnable=!1,e.redoEnable=!1;var j=e.$watch(function(){var e=n.get();return e?e.getState():i.INIT},function(t,n){switch(t){case i.FIRST:e.undoEnable=!1,e.redoEnable=!0;break;case i.LAST:e.undoEnable=!0,e.redoEnable=!1;break;case i.MIDDLE:e.undoEnable=!0,e.redoEnable=!0;break;case i.INIT:default:e.undoEnable=!1,e.redoEnable=!1}}),$=e.$watchCollection(function(){return p()},function(t,n){var i=t&&t.length>0;e.copyEnable=i,e.cutEnable=i,m()}),C=e.$watch(function(){var e=l.get();if(!e)return null;var t=e.copyPasteData();return t},function(t,n){var i=Boolean(t);e.pasteEnable=i},!0);e.copyEnable=!1,e.cutEnable=!1,e.pasteEnable=!1,e.undo=function(){t.undo(function(){e.$applyAsync()})},e.redo=function(){t.redo(function(){e.$applyAsync()})},e.copy=function(){t.copy(function(){e.$applyAsync()})},e.cut=function(){t.cut(function(){e.$applyAsync()})},e.paste=function(){t.paste({},function(){e.$applyAsync()})},e.$on("$destroy",function(){j(),$(),C(),_(),E()});var k={edit:u(),del:{id:"del",title:"삭제",enable:!1,text:"삭제"},groupIn:{id:"groupIn",title:"그룹 수정",enable:!1,text:"그룹 수정"},group:{id:"group",title:"그룹화",enable:!1,text:"그룹화"},ungroup:{id:"ungroup",title:"그룹 해제",enable:!1,text:"그룹 해제"}};e.buttons=k;var _=e.$watch(function(){return g()},function(e,t){m()}),E=e.$watch(function(){return d()},function(e){m()});e.callToolFunction=function(e,t){switch(e){case"del":v();break;case"edit":f();break;case"editout":h();break;case"group":y();break;case"ungroup":b();break;case"groupIn":x();break;case"groupOut":w()}}}])}(),function(){function e(e,t,n,i,o,a,l,r){e.icon="exit";var c=e.$watchCollection(function(){return n.get()},function(t,n){var o=t;e.icon=o&&o.icon==i.PROCESS||o.icon==i.WAIT?"waiting":"exit"});e.exit=function(){t.exit()},e.preview=function(){t.preview()},e.publish_viewer=function(){t.publish_viewer()},e.publish=function(){t.publish()},e.$on("$destroy",function(){c()})}var t=MODULE.tool.instance;t.controller("EtcMenuController",e),e.$inject=["$scope","$commandController","$status","StatusIcon","UIDType","$projects","$documents","$timeout"]}(),function(){var e=MODULE.tool.instance;e.controller("ProjectMenu2Controller",["$scope","$commandController","$auth2","$selects","$groups","$documents","$epubUpload","$componentUtil","$templateUtil","$version","$explorerPopup",function(e,t,n,i,o,a,l,r,c,s,u){e.companyNotSupport=s.companyLimit(),e.enable_publishSetting=!1,e.enable_contentEditor=!1,e.enable_fileEditor=!1,e.enable_installTemplate=!1,e.enable_installComponent=!1,e.enable_openExplorer=!1,e.enable_openUploadList=n.isSuccess;var d=e.$watch(function(){return n.isSuccess},function(t,n){e.enable_openUploadList=t}),p=e.$watch("project",function(t,n){var i=Boolean(t);e.enable_publishSetting=i,e.enable_contentEditor=i,e.enable_fileEditor=i}),g=e.$watch("document",function(t,n){var i=Boolean(t);e.enable_installTemplate=i,e.enable_openExplorer=i}),m=e.$watch(function(){var e=i.get();return e?e.getLength():-1},function(t,n){var i=t>0;e.enable_installComponent=i});e.publishSetting=function(){e.project&&t.publishSetting()},e.contentEditor=function(){t.contentEditor()},e.fileEditor=function(){t.fileEditor()},e.createTemplate=function(){var e={};c.create(e,function(e){})},e.createComponent=function(){var e={};r.create(e,function(e){})},e.openExplorer=function(){u.openExplorer({templateUrl:"explorer/explorer.html",title:"Explorer",closeButton:!0,showButton:!1,protectEnterKey:!0,selects:!0,style:{},options:{keepHierarchy:!0},filters:{}},function(e,t){e&&console.error("Explorer result err : ",e)})},e.openUploadContentsList=function(){l.openUploadContentsList()},e.$on("$destroy",function(){d(),p(),g(),m()})}])}(),function(){var e=MODULE.tool.instance;e.controller("ProjectMenuController",["$scope","$commandController","$applications","FileSystem",function(e,t,n,i){e.useWebService="server"==i._nativeType,e.newEnable=!0,e.openEnable=!0,e.saveEnable=!1,e.closeEnable=!1;var o=e.$watch("project",function(t,n){var i=Boolean(t);e.saveAsEnable=i,e.closeEnable=i}),a=e.$watch(function(){return n.get().needToSave()},function(t,n){e.saveEnable=t});e.newProject=function(){t.newProject()},e["import"]=function(){t.importDocuments()},e.openProject=function(){t.openProject()},e.saveProject=function(){t.saveProject({},function(){})},e.saveAsProject=function(){t.saveAsProject({},function(){})},e.closeProject=function(){t.closeProject()},e.$on("$destroy",function(){o(),a()})}])}(),function(){var e=MODULE.tool.instance;e.controller("TreeController",["$scope","$element","$timeout","$applications","$projects","$command","$documents","$commandController","AnimationSpeed","$treeDragNDrop","$document",function(e,t,n,i,o,a,l,r,c,s,u){function d(e){var t=!!s.clickTarget;if(s.clickTarget=null,!t){s.clearMultiselect();var n=l.uid();n&&s.addMultiselect(n)}}function p(){var n=e.documents;if(n&&!(n.length<1)){var i=l.uid();if(i){var o=n.indexOf(i);if(!(0>o)){var a=t.find(".treeItemContainer")[0],r=a.offsetHeight,c=r*o,s=t.find("[jj-scroller]")[0],u=s.clientHeight,d=(u-r)/2;s.scrollTop=c-d}}}}e.useTransition=!1,e.documents=[];var g="",m=e.$watchCollection(function(){var e=o.get(),t=e?e.getNoneCopyValue("documents"):[];return t},function(t,n){i.safetyCall(e,function(){e.setTree(),s.clearMultiselect()})});e.setTree=function(){var t=o.get(),n=t?t.documents():[];e.documents=n;var i=t?t.uid():"";g!==i&&(g=i,i&&e.$applyAsync(function(){p()}))};var v=e.$watch(function(){return l.uid()},function(t,n){e.document=t,s.clearMultiselect(),t&&s.addMultiselect(t)});u.on("click",d);var f=!1;e.newProject=function(){f||(f=!0,n(function(){r.newProject(),f=!1},c.HIGH))},e.addDocument=function(){f||(f=!0,n(function(){r.addDocument({position:0},function(){}),f=!1},c.NONE))},this.autoScrollSelectedPage=function(){p()},e.autoScrollSelectedPage=function(){p()},e.$on("$destroy",function(){u.off("click",d),m(),v()})}])}(),function(){var e=MODULE.tool.instance;e.controller("TreeItemController",["$scope",function(e){function t(){var t=e.state;if(!e.scrollView.initialize||e.scrollView.unitHeight<0)t="activate";else{var n=e.scrollView.unitHeight,i=n*e.$index,o=i+n;t=o<e.scrollView.min||i>e.scrollView.max?"deactivate":"activate"}e.state!=t&&(e.state=t)}e.state="deactivate";var n=e.$watch(function(){return e.$index},function(e,n){t()}),i=e.$watch(function(){return e.scrollView},function(e,n){t()},!0);e.$on("$destroy",function(){n(),i()})}])}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(){}return u.prototype={alignBoundaryOption:function(t){var n=e.get();if(arguments.length<1)return n.value("alignOption");var i={};for(var o in t)i[o]=t[o];var a={data:{alignOption:i}};c.modifyApplication(a)},sort:function(e,t){if(e&&!(t.length<1)){var n=this.alignBoundaryOption(),i=this._getAlignBoundary(t,n.sortByPage,e);console.log("# 정렬 기준 : ",e,i);var a;a="page"===n.sortByPage&&n.sortByPage_virtualGroup?this.moveAll(t,e,i):this.moveEach(t,e,i);var l={document:o.uid(),elements:a};c.modifyElement(l)}},_temporary:!1,isTemporary:function(){return this._temporary},moveDirection:function(e,t,n,i){if(e&&t&&(n||(n=s.get().get()),!(n.length<1))){var a=this._getAlignBoundary(n,"element",t);a+=e,console.log("# 이동 기준 : ",t,a),i=i||!1;var l=this.moveAll(n,t,a,i);if(this._temporary=i,!i){var r={document:o.uid(),elements:l};c.modifyElement(r)}}},_rect2boundary:function(e,t){switch(t){case"left":case"top":case"width":case"height":return e[t];case"right":return e.left+e.width;case"center":return e.left+e.width/2;case"bottom":return e.top+e.height;case"middle":return e.top+e.height/2;default:return{left:e.left,top:e.top,width:e.width,height:e.height,right:e.left+e.width,center:e.left+e.width/2,bottom:e.top+e.height,middle:e.top+e.height/2}}},_getAlignBoundary:function(e,t,n){var i,o;if("page"===t){var l=a._parentSize(e[0]);return i={left:0,top:0,width:l.width,height:l.height},o=this._rect2boundary(i,n)}return"element"===t?(i=r.getRotatedBoundary(e),o=this._rect2boundary(i,n)):void console.error("alignBoundaryOption 값에 대해 구현되지 않았습니다. (값:",t,")")},moveAll:function(e,t,i,o){var a=this._getAxis(t);if(a){var l=r.getRotatedBoundary(e),c=this._rect2boundary(l,t),s={x:0,y:0};s[a]=i-c;var u=[];for(var d in e){var p,g=e[d],m=n.get(g),v=m.value("currentState"),f=m.tempdata("liveMove_fromKey"),h=angular.isDefined(f);if(o){var y=h?angular.copy(f):m;p=this._getStateData(v,y,s),console.log("# 이동 라이브 업데이트 : ",p[v].css.left);var b={uid:g,currentState:v,css:p[v].css,layout:m.layout()};m.tempdata("liveMove_fromKey",b)}else{h?(p={},p[f.currentState]={css:angular.copy(f.css)},console.log("# 이동 라이브 업데이트를 종료 : ",f.css.left),m.tempdata("liveMove_fromKey",void 0)):(p=this._getStateData(v,m,s),console.log("# 이동 업데이트 종료 : "));var x={element:g,data:{currentState:v,state:p}};u.push(x)}}return u}},moveEach:function(e,t,i){var o=this._getAxis(t);if(o){var a=[];for(var l in e){var c=e[l],s=r.getRotatedBoundary([c]),u=this._rect2boundary(s,t),d={x:0,y:0};d[o]=i-u;var p=n.get(c),g=p.value("currentState"),m=this._getStateData(g,p,d);console.log("	-",c," : ",o,"축으로 ",d[o],"만큼 이동");var v={element:c,data:{currentState:g,state:m}};a.push(v)}return a}},_getAxis:function(e){var t;return"left"===e||"center"===e||"right"===e?t="x":"top"===e||"middle"===e||"bottom"===e?t="y":console.error("layout direction 값에 대해 구현되지 않았습니다. (값:",e,")"),t},_getStateData:function(e,t,n){var i={},o=a.move(t,n);return i[e]={css:o},i}},new u}var t=MODULE.tool.instance;t.factory("$align",e),e.$inject=["$applications","$projects","$elements","$groups","$documents","$layout","$history","$mask","$commandController","$selects"]}(),function(){function e(e,t,n,i){function o(){}return o.prototype={_defaultHtmlAssets:{assets:void 0,editAssets:{add:{edit:[],saved:[]},remove:{saved:[]},datas:{}}},_map:null,set:function(e,n,i){this._map||(this._map=angular.merge({},this._defaultHtmlAssets)),n&&(this._map.editAssets=angular.extend(this._map.editAssets,angular.copy(n)));var o={};if(e&&e.length>0)for(var a=0;a<e.length;++a){var l=e[a],r=t.get(l),c=r.getNoneCopyValue("property"),s=c.name,u=c.size;o[l]={uid:l,type:r.type(),name:s,size:u,path:r.path()}}this._map.assets=o,this._updateList(i)},_list:void 0,_updateList:function(e){function t(e){e=e.replace(/\\/gim,"/");var t=e.lastIndexOf("/")+1,i=e.substring(t),o="."+n.CUSTOM+"/"+i;return o}var i=[];!function(e,n){var i=e.assets;if(i){var o=e.editAssets,a=o.remove.saved,l=o.add.saved;for(var r in i)if(a.indexOf(r)<0){var c,s;l.indexOf(r)<0?(c=angular.copy(i[r]),s=c.path):(c=angular.copy(o.datas[r]),s=c.copyPath),c.actualName=t(s),n.push(c)}}}(this._map,i),function(e,n){for(var i=e.editAssets,o=i.add.edit,a=0;a<o.length;++a){var l=o[a],r=angular.copy(i.datas[l]);r.actualName=t(r.copyPath),n.push(r)}}(this._map,i),this._list=i,e&&e()},get:function(){return this._list},getSize:function(e){void 0===e&&(e=0,this._list.forEach(function(t){e+=t.size}));var t=e,n="byte";return t>1024&&(t=Math.ceil(t/1024*1e3)/1e3,n="Kb"),t>1024&&(t=Math.ceil(t/1024*1e3)/1e3,n="Mb"),t>1024&&(t=Math.ceil(t/1024*1e3)/1e3,n="Gb"),{num:t,unit:n}},_isRegisted:function(e){for(var t,n=this._list,i=0;i<e.length;++i){var o=e[i],a=o.name;n.forEach(function(e){a===e.name&&(t||(t=[]),o.uid=e.uid,t.push(o))})}return t},regist:function(e,o){function a(e,t){var n="<ul>";e.forEach(function(e){n+="<li>"+e.name+"</li>"}),n+="</ul>",i.confirm({content:"같은 이름의 파일이 이미 등록되어 있습니다.<br> 교체 하시겠습니까?"+n,title:"중복된 파일",ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(e){t(1>e)},function(e){console.error("[err] : "+e)})}var l,r=this,c=[],s=!1,u=this._map.editAssets;c.push(function(t){return(l=r._isRegisted(e))?void a(l,function(e){s=e,t(s)}):t()}),c.push(function(i){for(var o={edit:{copy:[]},saved:{copy:[]}},a=e.length,l=0;a>l;++l){var r=e[l],c=r.uid,s=!1;c?u.add.edit.indexOf(c)>-1?o.edit.copy.push(c):(u.add.saved.indexOf(c)<0&&u.add.saved.push(c),o.saved.copy.push(c),s=!0):(c=t.createUID(),u.add.edit.push(c),o.edit.copy.push(c));var d=n.TEMP_ROOT_MARKER+n.WORK_SPACE_MARKER+n.PROJECT_SPACE_MARKER,p=d+n.WORK+n.OPS+n.CUSTOM,g=p+"/"+c+"."+r.type+(s?"_temp":"");r.uid=c,r.copyPath=g,r.path=r.path.replace(/\\/g,"/"),u.datas[c]=r}u.task=o,i()}),c.push(function(e){r._updateList(e)}),async.waterfall(c,function(e){o&&o(e,s,u)})},unregist:function(e,t){var n=this,i=[],o=!1,a=this._map.editAssets;i.push(function(t){for(var n={edit:{remove:[]},saved:{remove:[]}},i=e.length,o=0;i>o;++o){var l,r=e[o];a.add.edit.indexOf(r)>-1?(l=a.datas[r].copyPath,n.edit.remove.push(l),a.add.edit.splice(a.add.edit.indexOf(r),1),delete a.datas[r]):a.add.saved.indexOf(r)>-1?(l=a.datas[r].copyPath,n.saved.remove.push(l),a.add.saved.splice(a.add.saved.indexOf(r),1),a.remove.saved.push(r),delete a.datas[r]):a.remove.saved.push(r)}a.task=n,t()}),i.push(function(e){n._updateList(e)}),async.waterfall(i,function(e){t&&t(e,o,a)})}},o}var t=MODULE.tool.instance;t.factory("AssetLibrary",e),e.$inject=["$documents","$assets","FileSystem","$notice"]}(),function(){function e(e,t,n,i,o,a,l){function r(){return function(i,r,c){function s(e){f&&(f(),f=null),h&&(h(),h=null),e&&(f=i.$watchCollection(function(){var t=o.get(e);return t?t.getNoneCopyValue("assets"):null},function(t){a.safetyCall(i,function(){u(e)})}))}function u(e){var t=o.get(e),n=t?t.value("assets"):void 0,i=t.getNoneCopyValue("property"),a=i.temp?i.temp.assets:void 0;y.set(n,a,function(){m()})}function d(e,t){var n=e.name.toUpperCase(),i=t.name.toUpperCase();return i>n?-1:n>i?1:0}function p(e,t){var n=e.type.toUpperCase(),i=t.type.toUpperCase();return i>n?-1:n>i?1:0}function g(e,t){return e.size-t.size}function m(){var e;switch(i.sortMode){case"type":e=p;break;case"size":e=g;break;case"name":e=d;break;default:e=d}i.files=y.get().sort(e),i.totalSize=y.getSize(),i.$applyAsync()}var v=l.allowTypes();i.$on("$destroy",function(){b(),f&&f(),f=null,h&&h(),h=null,i.config=null,i.selectList=null,y=null});var f,h,y=new n,b=i.$watch("config.element",function(e){s(e)});i.getSize=function(e){var t=y.getSize(e);return t.num.toFixed(3)+" "+t.unit},i.openFileDialogBox=function(){function n(e){if(!e||!e.path||e.path.length<1)return void console.log("경로가 지정되지 않았습니다.");var n=e.path.map(function(e){var n=t.parsePath(e.name);return e.type=n.ext.toLowerCase(),e});y.regist(n,function(e,t,n){return e&&!t?console.error("등록 실패 : ",e):void(t||(i.changed({edit:n}),m()))})}var o={multiple:!0,accept:v,task:"assetFile",autoRemove:!0};e.getOpenInformation(o,n)},i.selectList=[],i.selectToggle=function(e){var t=i.selectList.indexOf(e);0>t?i.selectList.push(e):i.selectList.splice(t,1)},i.isSelect=function(e){var t=i.selectList.indexOf(e);return t>-1},i.removeAssets=function(){var e=i.selectList;y.unregist(e,function(e,t,n){return e&&!t?console.error("삭제 실패 : ",e):void(t||(i.selectList=[],i.changed({edit:n}),m()))})},i.sortMode="name",i.sort=function(e){i.sortMode!==e&&(i.sortMode=e,m())}}}return{restrict:"EA",templateUrl:"assetLibrary/jj-asset-library.html",replace:!0,scope:{config:"=",changed:"&?"},compile:r}}var t=MODULE.tool.instance;t.directive("jjAssetLibrary",e),e.$inject=["$externalAPI","FileSystem","AssetLibrary","$notice","$elements","$applications","$mime"]}(),function(){function e(e,t,n,i){var o=["string","boolean","number","array","object"],a={string:["text","checkbox","radio","select","textarea"],"boolean":["text","checkbox","radio","select"],number:["text","radio","select","number"],array:["text","radio","select","list"],object:["text","radio","select"]},l=e.create("Capsulize",{_selectItem:null,select:function(e){return arguments.length<1?this._selectItem:void(this._selectItem=arguments[0])},allowDataTypes:function(){return o},allowEditorTypes:function(e){return a[e]},getSchema:function(e,t){function n(){var e=window.$$_createNameCounter("property"),t={name:e,label:"이름 ("+e+") ",desc:"",type:"string",value:""};return t}if(e=e||"string",t=t||"text",a[e].indexOf(t)<0)return void console.error("Schema : 지정한 dataType과 editorType이 서로 맞지 않습니다.");var i=n();return i.editorType=t,i.editor=this.getEditor(e,t),i},getEditor:function(e,t){var n;switch(t){case"list":n=this._getEditor_list(e);break;case"select":n=this._getEditor_select(e);break;case"radio":n=this._getEditor_radio(e);break;case"checkbox":n=this._getEditor_checkbox(e);break;case"number":n=this._getEditor_number(e);break;case"textarea":n=this._getEditor_textarea(e);break;case"text":default:n=this._getEditor_text(e)}return n},_getEditor_text:function(e){var t={type:"input",inputType:"text",placeholder:"",pattern:"",min:void 0,max:void 0,data:[]};return t},_getEditor_textarea:function(e){var t={type:"textarea",placeholder:"",pattern:"",min:void 0,max:void 0,data:[]};return t},_getEditor_number:function(e){var t={type:"input",inputType:"number",placeholder:"",pattern:"",min:void 0,max:void 0,data:[]};return t},_getEditor_radio:function(e){var t={type:"radio",caption:"",data:[]};return t},_getEditor_select:function(e){var t={type:"select",data:[]};return t},_getEditor_checkbox:function(e){var t={type:"input",inputType:"checkbox",pattern:"(true|false)",label:"label",data:[]};return t},_getEditor_list:function(e){var t={multiSelect:!0,data:[]};return t},openImporter:function(e,o){e=angular.merge({yes:"선택",cancel:"취소",style:{overflowX:"hidden"},options:{hideHeader:!0,rootSelectable:!1,multiSelect:!0,selectToggle:!0,selectAndClose:!1},clickOutsideToClose:!0,filters:{checkbox:"capsule",selectable:"capsule",display:"element capsule"}},e),t.openDroplist(e,function(e,t){if(e)return o();var a=[];t.forEach(function(e){var t=i.get(e.target),o=t.isGroupContainer(),l=n.get(o);if(l){var r=l.value("capsule");a.push(r)}}),o(a)})}}),r=new l;return r}var t=MODULE.tool.instance;t.service("$capsulize",e),e.$inject=["$superClass","$explorerPopup","$groups","$elements"]}(),function(){function e(){function e(e,t,n){function i(){var t;switch(e.type){case"text":case"textarea":case"number":t=["placeholder","pattern","min","max"];

break;case"list":t=["multiSelect"];break;case"radio":t=["caption"];break;case"checkbox":t=["label"];break;case"select":default:t=[]}e.properties=t}var o=e.$watch(function(){return e.type},function(e){i()});e.$on("$destroy",function(){o(),e.properties=null}),e.getPlaceholder=function(e){var t;switch(e){case"placeholder":t="빈값일때 표시할 문구";break;case"pattern":t="유효한 값인지 체크할 수 있는 정규 표현식";break;case"min":t="최소값 (또는 최소 글자수)";break;case"max":t="최대값 (또는 최대 글자수)";break;default:t=""}return t}}return e.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"capsulize/jj-capsule-config.html",replace:!0,scope:{editor:"=",type:"@",edit:"="},controller:e}}var t=MODULE.tool.instance;t.directive("jjCapsuleConfig",e)}(),function(){function e(e,t,n,i,o){function a(a,l,r){function c(){var e,t=a.copyItem.value;e="string"==typeof t?t.split(i.SEP_ARRAY):[t];var n=a.copyItem.editor.data||[];a.list=n.map(function(t){var n=t.value,i=!(e.indexOf(n)<0);return{select:i,data:t}});var o=!a.uid;a.isDefaultValue=o?!1:angular.equals(a.copyItem.value,a.item.value),a.isError=s(e),a.$applyAsync()}function s(e){if("list"!==a.copyItem.editorType)return!1;var t=a.copyItem.editor.multiSelect;if(void 0===t)return!1;var n=e;if(void 0===e){var o=a.copyItem.value;n="string"==typeof o?o.split(i.SEP_ARRAY):[o]}var l=!1;return t||(l=n.length>1),l}function u(e){var t;return t="string"==typeof e?e.split(i.SEP_ARRAY):[e],a.list.forEach(function(e){e.select=!(t.indexOf(e.data.value)<0)}),t}function d(e){a.copyItem=a.uid?angular.copy(e):e,p(),v(),"list"===a.copyItem.editorType&&c()}function p(){var e=!a.uid;if(!e){var t=g();a.copyItem.value=t,console.log("* 캡슐화(사용자) 데이터 적용 - ",a.copyItem.label," : ",a.copyItem.value),a.placeholder=m(),a.isError=s()}}function g(){var t,n=e.get(a.uid).getNoneCopyValue("capsule"),i=a.copyItem.name;if(n.values&&i in n.values){var o=a.copyItem.editorType;"text"===o||"textarea"===o?t=n.values[i]:(t=n.values[i],(""===t||void 0===t)&&(t=a.item.value))}else t=a.item.value;void 0===t&&(t="");var l=!a.uid;return a.isDefaultValue=l?!1:angular.equals(t,a.item.value),t}function m(){var e=a.copyItem.editor.placeholder;return void 0!==e&&""!==e?e:e=i.decoding(a.item.type,a.item.value)}function v(){h&&(h(),h=null),a.uid&&(h=a.$watch(function(){return a.copyItem.value},function(e,t){e!==t&&f()},!0)),y&&(y(),y=null),a.values&&(y=a.$watch(function(){return a.values},function(e,t){e!==t&&p()},!0))}function f(){var e={};e[a.copyItem.name]=a.copyItem.value;var i={document:t.uid(),groups:[{group:a.uid,data:{capsule:{values:e}}}]};n.modifyGroup(i)}var h,y;a.$on("$destroy",function(){b(),h&&h(),y&&y()});var b=a.$watch(function(){return a.item},function(e){d(e)},!0);a.showMessage=function(e){if(e){var t=e.replace(/(\r\n|\n\r|\n|\r)/g,"<br>");o.alert({title:"속성 도움말",content:t,ok:"확인"})}},a.isDefaultValue=!1,a.onListSelectChanged=function(e){var t=[],n=a.copyItem.editor.multiSelect;n?a.list.forEach(function(e){e.select&&t.push(e.data.value)}):(a.list.forEach(function(t){t.select=t===e}),e.select&&t.push(e.data.value));var o="",l=!a.uid;o=l?t.join(i.SEP_ARRAY):t.length<1?angular.copy(a.item.value):t.join(i.SEP_ARRAY),t=u(o),a.copyItem.value=o,a.isDefaultValue=l?!1:angular.equals(a.copyItem.value,a.item.value),a.isError=s(t),a.$applyAsync()}}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"capsulize/jj-capsule-view.html",replace:!0,scope:{item:"=",values:"=",uid:"="},controller:a}}var t=MODULE.tool.instance;t.directive("jjCapsuleView",e),e.$inject=["$groups","$documents","$commandController","$casting","$notice"]}(),function(){function e(e){function t(t,n,i,o){o.$parsers.push(function(n){void 0===n&&(n="");var a="encoding"===i.jjCapsulizeCasting;if(a){var l=t.$parent.item.type;n=e.decoding(l,o.$viewValue)}var r=i.type||"text",c=e.inputboxToValue(n,r);return c}),o.$formatters.push(function(n){void 0===n&&(n="");var o="encoding"===i.jjCapsulizeCasting;if(o){var a=t.$parent.item.type;n=e.decoding(a,n)}var l=i.type||"text",r=e.valueToInputbox(n,l);return r})}return{require:"ngModel",link:t}}var t=MODULE.tool.instance;t.directive("jjCapsulizeCasting",e),e.$inject=["$casting"]}(),function(){function e(e,t,n,i,o,a){function l(){return function(e,l,r){function c(){s()}function s(){e.result=null,e.items=null,e.info=null,e._nameMap=null}function u(){var t=n.get(e.config.uid),i=t.getNoneCopyValue("capsule")||{},a=i.values||{},l=[],r=e.result.schema,c={};r.forEach(function(e){if(l.push(e.name),e.name in a){var t=a[e.name];c[e.name]=Array.isArray(t)?t.join(o.SEP_ARRAY):t}else c[e.name]=""}),function(){for(var e in a)l.indexOf(e)<0&&(c[e]="$$__force_delete")}(),e.result.values=c}function d(){var i=e.config.uid;if(!i)return s(),void p("그룹 uid가 없습니다.");var o=n.get(i);if(!o)return s(),void p("그룹 데이터가 없습니다.");var a=o.value("owner");e.info={uid:i,name:t.get(a).name()};var l=o.value("capsule")||{};e.updateData(l)}function p(e){a.alert({modal:!0,title:"오류 발생",content:e,ok:"확인"})}e.$on("$destroy",function(){s()}),e.saveData=function(){u(),e.callback(null,e.result),e.$applyAsync()},e.cancel=function(){c(),e.callback("취소"),e.$applyAsync()},e.select=function(t){i.select(e.items[t])},e.updateNameMap=function(){var t={};e.items.forEach(function(e){void 0===t[e.name]?t[e.name]=1:++t[e.name]}),e._nameMap=t},e.add=function(){var t="string",n="text",o=i.getSchema(t,n);o&&(console.log("# add item : ",o.editorType,o),e.items.push(o),e.updateNameMap(),e.result.values[o.name]="")},e.remove=function(t){if(!(0>t)){var n=e.items.splice(t,1);e.updateNameMap(),n[0]&&e.result.values&&(e.result.values[n[0].name]="$$__force_delete")}},e.refresh=function(){d()},e.updateData=function(t){t.schema=t.schema||[],t.values=t.values||{},e.schemaLock=t.schemaLock,e.result=t,e.items=t.schema,e.updateNameMap(),e.$applyAsync()},e.importData=function(t){var n=e.result;t.forEach(function(e){n.schema=n.schema.concat(e.schema||[]),n.values=angular.merge({},e.values||{},n.values)}),e.updateData(n)},d()}}return{restrict:"EA",templateUrl:"capsulize/jj-capsulize-editor.html",replace:!0,scope:!1,compile:l}}var t=MODULE.tool.instance;t.directive("jjCapsulizeEditor",e),e.$inject=["$applications","$elements","$groups","$capsulize","$casting","$notice"]}(),function(){function e(e,t,n,i){function o(){return function(o,a,l){function r(t){e.power=t}function c(){r(!0),o.config=null}function s(){o.config.id=o.config.id||"CapsulizeEditor",o.config.title=o.config.title||"캡슐화 목록 편집",o.config.yes="확인",o.config.no="취소"}r(!1),o.$on("$destroy",function(){c()}),o.enterKey=function(){o.saveData()},o.escKey=function(){o.cancel()},o.selectNone=function(e){e.stopImmediatePropagation(),t.select(null)},s(),o.openJJPage_api=function(){var e="https://vulcan9.gitbooks.io/jjapi/content/tutorial/capsulize.html#capsule";n.weblink(e)},o.importProperties=function(e){var n=i.capsuleUID_byGroup(o.config.uid),a=n?[n]:[],l={filters:{disable:a,highlight:a},style:{left:e.clientX,top:e.clientY}};t.openImporter(l,function(e){e&&o.importData(e)})}}}return{restrict:"EA",templateUrl:"capsulize/jj-capsulize-editor-popup.html",replace:!0,scope:!1,compile:o}}var t=MODULE.tool.instance;t.directive("jjCapsulizeEditorPopup",e),e.$inject=["$applications","$capsulize","$util","$explorerTree"]}(),function(){function e(e,t){function n(n,i,o){function a(){var e=n.item.editorType;n.availableEditorType=n.allowEditorTypes.indexOf(e)>-1,n.useDataField=["text","textarea","number","checkbox"].indexOf(e)<0,n.useConfigField=["select"].indexOf(e)<0,n.availableDataField=n.item.editor.data.length>0&&!n.item.editor.data.some(function(e){return void 0===e.value||""===e.value}),l()}function l(){if(!n.availableEditorType)return n.availableDefaultValue=!1,n.item.editorType="text",n.editorTypeChange(),void n.$applyAsync();var e=!0;n.availableDefaultValue=e,n.$applyAsync()}n.$on("$destroy",function(){n.allowDataTypes=null,n.allowEditorTypes=null,r(),u(),c(),s()});var r=n.$watch(function(){return e.select()},function(e){n.isEditMode=e&&n.item===e,a()});n.select=function(e){e.preventDefault(),e.stopImmediatePropagation(),n.$parent.select(n.index)},n.remove=function(e){e.preventDefault(),e.stopImmediatePropagation(),n.$parent.remove(n.index)},n.allowDataTypes=e.allowDataTypes(),n.allowEditorTypes=e.allowEditorTypes(n.item.type),n.dataTypeChange=function(){n.allowEditorTypes=e.allowEditorTypes(n.item.type),a()},n.editorTypeChange=function(){var t=n.item.type,i=n.item.editorType,o=e.getEditor(t,i);for(var l in n.item.editor)"data"===l&&(o.data=n.item.editor.data),l in o||(o[l]=void 0);n.item.editor=o,a()};var c=n.$watch(function(){return n.item.name},function(e,t){e!==t&&n.$parent.updateNameMap()}),s=n.$watch(function(){return n.$parent._nameMap},function(e){var t=n.item.name;n.availableName=t&&e[t]<2},!0),u=n.$watch(function(){return n.item.value},function(e){l()});n.addData=function(){n.item.editor.data.push({label:"이름",value:""}),a()},n.removeData=function(e){n.item.editor.data.splice(e,1),a()},n.getDecodeDefaultValue=function(e){void 0===e&&(e="");var n=decodeURIComponent(e),i=n.split(t.SEP_ARRAY).join(", ");return i},n.getDecodeDataValue=function(e){void 0===e&&(e="");var t=decodeURIComponent(e);return t}}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"capsulize/jj-capsulize-item.html",replace:!0,scope:{item:"=",index:"@",uid:"@"},controller:n}}var t=MODULE.tool.instance;t.directive("jjCapsulizeItem",e),e.$inject=["$capsulize","$casting"]}(),function(){function e(e,t,n,i,o){function a(e,t,n){function i(){var t=e.contentView.level,n=e.contentView.isGroup,i=e.contentView.isDocument,o=e.category.level>t;i&&e.category.protectDocument&&(o=!0),n&&e.category.protectGroup&&(o=!0),e.activate=o?"disable":"enable",e.contentView.name==e.category.name&&(e.contentView.enable=!o)}e.activate="disable";var o=e.$watch("contentView.isDocument",function(e,t){i()}),a=e.$watch("contentView.isGroup",function(e,t){i()}),l=e.$watch("contentView.level",function(e,t){i()});e.state="normal";var r=e.$watch("contentView.name",function(t,n){e.state=t===e.category.name?"selected":"normal",i()});e.onClick=function(){"disable"!=e.activate&&(e.state="selected",e.contentView.name!==e.category.name&&e.changeContentView(e.category.name))},e.$on("$destroy",function(){o(),a(),l(),r(),e.category=null,e.contentView=null})}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-category-menu-item.html",replace:!0,scope:!0,controller:a}}var t=MODULE.tool.instance;t.directive("jjCategoryMenuItem",e),e.$inject=["$commandController","$projects","$status","MessageType","$timeout"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(n,a,l){function r(){return k.MASTER}function g(){n.dataName=r(),v({folder:t.BUNDLE_RESOURCE+"/masters",getContent:m})}function m(t,n){var i={type:e.MASTER,source:n.source,uid:n.uid};return i}function v(e){var t=n.dataName;n.data[t].loaded=o.dataLoaded(t),n.data[t].loaded?y(t):(e.dataName=t,e.iterate=f(e),o.loadItems(e,function(){null!==n.data&&(n.data[t].loaded=o.dataLoaded(t),n.$applyAsync())}))}function f(e){return function(n,o){var a=t.pathToActual(e.folder),l=h(o.pathString.replace(a,"")),r={bundle:!0,categoryPath:l.folder,categoryName:l.folderName,label:l.fileName,dataName:n,baseFolder:a,source:o.pathString,uid:i.ASSET+"-"+o.uid},c=t.parsePath(r.source);return n===k.MASTER&&c.file===t.MASTER_DELETE_FILE_NAME&&(r.source=null,r.label=" 배경 없음"),r}}function h(e){return t.parsePath(e)}function y(e){function t(){var t,i=n.listViewMode.background;switch(i){case"tree":t=b(e);break;case"list":t=w(e);break;case"box":default:t=x(e)}n.data[e].items=t,j(e)}t()}function b(e){var t=o.getTree(e);return t}function x(e){var t=o.getItems(e);return t.map(function(e){return o.getInfo(e)})}function w(e){var t=o.getItems(e);return t.map(function(e){return o.getInfo(e)})}function j(e){var t=n.data[e].items,i=n.slider,o=n.sliderEextendAll;"tree"===n.listViewMode.background&&(t=t.children);var a={};for(var l in t){var r=t[l],c=r.categoryPath||"/";c in i||(i[c]=o),a[c]=!0}for(var s in i)s in a||delete i[s];$(e)}function $(e){var t=n.slider,i=!1;for(var o in t)if(t[o]){i=!0;break}n.sliderEextendAll=i}function C(){s.get().isChanged(!0),c.execute({ignoreCapture:!0})}n.companyNotSupport=p.companyLimit(),n.viewName=u.BACKGROUND,n.viewLabel=d.BACKGROUND,n.listViewMode=s.get().getNoneCopyValue("listViewMode"),n.slider=s.get().getNoneCopyValue("sliderCategory").background,n.sliderEextendAll=!1;var k={MASTER:"master"};n.data={},function(){function e(e){n.data[e]||(n.data[e]={loaded:!1,items:null})}e(k.MASTER),g()}();var _=n.$watchCollection(function(){return o.getItems(k.MASTER)},function(e,t){e&&y(k.MASTER)});n.listViewModeChanged=function(e){n.listViewMode.background!==e&&(n.listViewMode.background=e,y(n.dataName),C())},n.toggleSliderExtendAll=function(e){n.sliderEextendAll=!n.sliderEextendAll;var t=n.slider;for(var i in t)t[i]=n.sliderEextendAll;C()},n.changeSliderExtend=function(e,t,i){n.slider[e]=t,$(i),C()},n.$on("$destroy",function(){_(),n.data=null,n.slider=null})}return m.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-background.html",replace:!0,scope:!0,controller:m}}var t=MODULE.tool.instance;t.directive("jjViewContentBackground",e),e.$inject=["ElementType","FileSystem","Default","UIDType","$contentAssetSetting2","$contentTemplateSetting","$commandController","$templates","$autoBackup","$applications","ContentViewName","ContentViewLabel","$version","$timeout"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(n,i,o){n.companyNotSupport=r.companyLimit(),n.viewName=a.BASIC,n.viewLabel=l.BASIC;var c=[t.getSetting(e.TEXT),t.getSetting(e.INPUT),t.getSetting(e.VIDEO),t.getSetting(e.AUDIO),t.getSetting(e.IMAGE),t.getSetting(e.MASK)],s=r.companyLimit();s||(c=c.concat([t.getSetting(e.HTML),t.getSetting(e.WEB)])),n.elementItems=c,n.$on("$destroy",function(){n.elementItems=null})}return u.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-basic.html",replace:!0,scope:!0,controller:u}}var t=MODULE.tool.instance;t.directive("jjViewContentBasic",e),e.$inject=["ElementType","$contentItemSetting","$componentLoader","$contentComponentSetting","$commandController","ContentViewName","ContentViewLabel","$version","$applications","$autoBackup"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(e,s,u){function d(){j(),p()}function p(){m(),e.installComplete||i.installComponent(function(t,n){console.log("Component 리스트 얻어오기 완료 : ",n),e.$applyAsync()})}function g(n){var i=[],o=[];for(var a in n){var l=n[a];l.bundle?o.push(l):i.push(l)}var r=t.installed();r.bundle?(e.bundleComponentItems=o,v("bundle")):e.bundleComponentItems=null,r.user?(e.userComponentItems=i,v("user")):e.userComponentItems=null}function m(){$=e.$watch(function(){return n.getSetting()},g,!0)}function v(t){var n,i="user"===t,o=i?e.listViewMode.userComponent:e.listViewMode.component,a=i?e.userComponentItems:e.bundleComponentItems;switch(o){case"tree":n=f(t,a);break;case"list":n=h(a);break;case"box":default:n=y(a)}i?e.userData=n:e.bundleData=n,b(t)}function f(e,t){n.setTree(e,angular.copy(t));var i=n.getTree(e);return i}function h(e){return e}function y(e){return e}function b(t){var n="user"===t,i=n?e.userData:e.bundleData,o=n?e.slider_user:e.slider,a=n?e.sliderEextendAll_user:e.sliderEextendAll,l=n?e.listViewMode.userComponent:e.listViewMode.component;"tree"===l&&(i=i.children);var r={};for(var c in i){var s=i[c],u=s.categoryPath||"/";u in o||(o[u]=a),r[u]=!0}for(var d in o)d in r||delete o[d];x(t)}function x(t){var n="user"===t,i=n?e.slider_user:e.slider,o=!1;for(var a in i)if(i[a]){o=!0;break}n?e.sliderEextendAll_user=o:e.sliderEextendAll=o}function w(){r.get().isChanged(!0),c.execute({ignoreCapture:!0})}function j(){e.bundleComponentItems=null,e.userComponentItems=null,e.userData=null,e.bundleData=null,$&&$(),$=null}e.companyNotSupport=l.companyLimit(),e.viewName=o.COMPONENT,e.viewLabel=a.COMPONENT,function(){d()}();var $;e.installComplete=!1;var C=e.$watch(function(){var e=t.installed();return e},function(i,o){e.installComplete=t.installComplete(),e.installComplete&&C(),g(n.getSetting())},!0);e.listViewMode=r.get().getNoneCopyValue("listViewMode"),e.userData=null,e.bundleData=null,e.listViewModeChanged=function(t,n){var i="user"===n;i?e.listViewMode.userComponent!==t&&(e.listViewMode.userComponent=t,v("user"),w()):e.listViewMode.component!==t&&(e.listViewMode.component=t,v("bundle"),w())},e.importComponent=function(){i.importComponent()},e.exportComponent=function(){i.exportComponent()},e.slider=r.get().getNoneCopyValue("sliderCategory").component,e.sliderEextendAll=!0,e.slider_user=r.get().getNoneCopyValue("sliderCategory").userComponent,e.sliderEextendAll_user=!1,e.toggleSliderExtendAll=function(t){var n="user"===t;n?e.sliderEextendAll_user=!e.sliderEextendAll_user:e.sliderEextendAll=!e.sliderEextendAll;var i=n?e.slider_user:e.slider;for(var o in i)i[o]=n?e.sliderEextendAll_user:e.sliderEextendAll;w()},e.changeSliderExtend=function(t,n,i){var o="user"===i,a=o?e.slider_user:e.slider;a[t]=n,x(i),w()},e.$on("$destroy",function(){C&&C(),e.installComplete=!1,e.slider=null,e.slider_user=null,j()})}return s.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-component.html",replace:!0,scope:!0,controller:s}}var t=MODULE.tool.instance;t.directive("jjViewContentComponent",e),e.$inject=["ElementType","$componentLoader","$contentComponentSetting","$commandController","ContentViewName","ContentViewLabel","$version","$applications","$autoBackup"]}(),function(){function e(e,t,n,i){function o(o,a,l){o.viewName=t.CONFIG,o.viewLabel=n.CONFIG,o.slider=e.get().getNoneCopyValue("slider"),o.toggleSlider=function(t){o.slider[t]=!o.slider[t],e.get().isChanged(!0),i.execute({ignoreCapture:!0})},o.$on("$destroy",function(){})}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-config.html",replace:!0,scope:!0,controller:o}}var t=MODULE.tool.instance;t.directive("jjViewContentConfig",e),e.$inject=["$applications","ContentViewName","ContentViewLabel","$autoBackup"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d){function p(n,i,o){function s(e){var o;if(e.length<1)o=r.DOCUMENT,n.protect=!1;else if(e.length>1)o=r.DOCUMENT,n.protect=!0;else{var a=e[0];o=t.get(a).value("type"),n.protect=!1}var l="jj-event-basic",s="<div "+l+' class="eventPanel"></div>',u=angular.element(s),g=n.$new(!1);g.type=o,c(u)(g);var m=i.find("[element-event]");d&&(d.remove(),d=null),p&&(p.$destroy(),p=null),m.append(u),d=u,p=g}n.viewName=a.EVENT,n.viewLabel=l.EVENT;var d,p,g=n.$watch(function(){var t=e.get();return t?t.getNoneCopyValue("select"):null},function(t,n){var i=e.get(),o=i?i.get():[];s(o)},!0);n.submit=function(e,t){u.submit(e,t,function(){console.log("# 변경된 속성 submit 완료")})},n.$on("$destroy",function(){d&&(d=null),p&&(p.$destroy(),p=null),g()})}return p.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-event.html",replace:!0,scope:!0,controller:p}}var t=MODULE.tool.instance;t.directive("jjViewContentEvent",e),e.$inject=["$selects","$elements","$documents","$applications","$timeout","ContentViewName","ContentViewLabel","ElementType","$compile","$commandController","$propertyManager","$animate"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(a,l,r){function g(){return _.IMAGE}function m(){a.dataName=g(),f({folder:t.BUNDLE_RESOURCE+"/images",getContent:v})}function v(t,i){var o={type:e.IMAGE,css:{width:n.element.width,height:n.element.height,minWidth:n.element.minWidth,minHeight:n.element.minHeight},option:{useCacheImage:!0,_$$flexibleSize:!1,_$$editable:!0,layout:angular.copy(n.layout)},source:i.source,uid:i.uid};return o}function f(e){var t=a.dataName;a.data[t].loaded=o.dataLoaded(t),a.data[t].loaded?b(t):(e.dataName=t,e.iterate=h(e),o.loadItems(e,function(){null!==a.data&&(a.data[t].loaded=o.dataLoaded(t),a.$applyAsync())}))}function h(e){return function(n,o){var a=t.pathToActual(e.folder),l=y(o.pathString.replace(a,"")),r={bundle:!0,categoryPath:l.folder,categoryName:l.folderName,label:l.fileName,dataName:n,baseFolder:a,source:o.pathString,uid:i.ASSET+"-"+o.uid},c=t.parsePath(r.source);return n===_.MASTER&&c.file===t.MASTER_DELETE_FILE_NAME&&(r.source=null,r.label=" 배경 없음"),r}}function y(e){return t.parsePath(e)}function b(e){function t(){var t,n=a.listViewMode.image;switch(n){case"tree":t=x(e);break;case"list":t=j(e);break;case"box":default:t=w(e)}a.data[e].items=t,$(e)}t()}function x(e){var t=o.getTree(e);return t}function w(e){var t=o.getItems(e);return t.map(function(e){return o.getInfo(e)})}function j(e){var t=o.getItems(e);return t.map(function(e){return o.getInfo(e)})}function $(e){var t=a.data[e].items,n=a.slider,i=a.sliderEextendAll;"tree"===a.listViewMode.image&&(t=t.children);var o={};for(var l in t){var r=t[l],c=r.categoryPath||"/";c in n||(n[c]=i),o[c]=!0}for(var s in n)s in o||delete n[s];C(e)}function C(e){var t=a.slider,n=!1;for(var i in t)if(t[i]){n=!0;break}a.sliderEextendAll=n}function k(){s.get().isChanged(!0),c.execute({ignoreCapture:!0})}a.companyNotSupport=p.companyLimit(),a.viewName=u.IMAGE,a.viewLabel=d.IMAGE,a.listViewMode=s.get().getNoneCopyValue("listViewMode"),a.slider=s.get().getNoneCopyValue("sliderCategory").image,a.sliderEextendAll=!1;var _={IMAGE:"image"};a.data={},function(){function e(e){a.data[e]||(a.data[e]={loaded:!1,items:null})}e(_.IMAGE),m()}();var E=a.$watchCollection(function(){return o.getItems(_.IMAGE)},function(e,t){e&&b(_.IMAGE)});a.listViewModeChanged=function(e,t){a.listViewMode.image!==e&&(a.listViewMode.image=e,b(a.dataName),k())},a.toggleSliderExtendAll=function(e){a.sliderEextendAll=!a.sliderEextendAll;var t=a.slider;for(var n in t)t[n]=a.sliderEextendAll;k()},a.changeSliderExtend=function(e,t,n){a.slider[e]=t,C(n),k()},a.$on("$destroy",function(){E(),a.data=null,a.slider=null})}return m.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-image.html",replace:!0,scope:!0,controller:m}}var t=MODULE.tool.instance;t.directive("jjViewContentImage",e),e.$inject=["ElementType","FileSystem","Default","UIDType","$contentAssetSetting2","$contentTemplateSetting","$commandController","$templates","$autoBackup","$applications","ContentViewName","ContentViewLabel","$version","$timeout"]}(),function(){function e(e,t,n,i,o,a,l){function r(l,r,c){function s(){var t=a.getVersions(),n=a.getRrequestError();l.updater={versions:t,select:t[t.length-1],versionName:e.versionName(),error:n,isError:Boolean(n)}}l.viewName=i.INFO,l.viewLabel=o.INFO,l.version=e.version(),l.openShortcutsPage=function(){t.openShortcutsPage()},l.openJJPage_api=function(){var e="https://vulcan9.gitbooks.io/jjapi/content/";n.weblink(e)},l.openJJPage_issues=function(){var e="https://github.com/vulcan9/jikji.editor/issues";n.weblink(e)},l.openJJBinder_api=function(){var e="https://vulcan9.github.io/jik-ji-Binder/";n.weblink(e)},l.updater={},l.updateVersion=function(){var e=l.updater.select;a.updateVersion(e)};var u=l.$watch(function(){var e=a.getVersions();return e},function(e,t){s()},!0),d=l.$watch(function(){var e=a.getRrequestError();return e},function(e,t){s()});l.$on("$destroy",function(){u(),d()})}return r.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-info.html",replace:!0,scope:!0,controller:r}}var t=MODULE.tool.instance;t.directive("jjViewContentInfo",e),e.$inject=["$version","$commandController","$util","ContentViewName","ContentViewLabel","$updater","$explorerPopup"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(o,u,d){function p(){var e=l.get(),t=e?e.get():null;o.selects=t;var n=r.ctrl&&!r.pressedKey&&!r.pressedSpace;c.isMultiSelecting=n&&t&&t.length>0}function g(){var e=!0,t=!0,a=!0,l=n.get(o.uid),r=l?l.elements():[];r.forEach(function(n){var o=i.get(n);o.isGroupContainer()&&(e&&!o.layer("isFold")&&(e=!1),t&&!o.layer("isLock")&&(t=!1),a&&!o.layer("isHide")&&(a=!1))}),o.isFold=e,o.isLock=t,o.isHide=a}function m(e){var t=n.get(o.uid),l=t.elements();l.forEach(function(t){var n=i.get(t);n.isGroupContainer()&&n.layer("isFold",e)}),a.execute({ignoreCapture:!0})}function v(e,t){var i=n.get().elements();if(i&&!(i.length<1)){i=i.map(function(n){var i={layer:{}};return i.layer[e]=t,{element:n,data:i}});var o={document:n.uid(),elements:i};s.modifyElement(o)}}function f(){o.isDragOver=!1}function h(e){o.dropId&&(c.create(e),c.addDropEvent(e,{id:o.dropId,element:u.find("[layer-footer]"),dragEnter:b,dragOver:x,dragLeave:w,drop:j}))}function y(e){o.dropId&&(c.removeDropEvent(e),c.remove(e))}function b(e,t){o.$applyAsync()}function x(e,t){var n=$();t.index=n.index,t.group=n.group,t._groupName=n._groupName,o.isDragOver=!0,o.$applyAsync()}function w(e,t){delete t.index,delete t.group,delete t._groupName,f(),o.$applyAsync()}function j(e,t){C(t),f(),o.$applyAsync()}function $(){return{index:0,_groupName:"Document",group:""}}function C(e){void 0!==e.index&&s.changeIndexedPosition({document:n.uid(),selects:e.selects,group:e.group,index:e.index})}o.viewName=e.LAYER,o.viewLabel=t.LAYER;var k=o.$watch(function(){return n.uid()},function(e,t){o.uid=e,t&&y(t),e&&h(e),g()}),_=o.$watchCollection(function(){var e=l.get(),t=e?e.get():null;return t},function(e,t){p()}),E=o.$watch(function(){return r.ctrl&&!r.pressedKey&&!r.pressedSpace},function(e){p()}),S=o.$watch(function(){var e=n.get();return e?e.elements().length:0},function(e,t){o.counter=e}),I=o.$watch(function(){return c.isDragging},function(e){o.isDragging=e});o.isFold=!1,o.isLock=!1,o.isHide=!1,g(),o.collapseAllToggle=function(){o.isFold=!o.isFold,m(o.isFold)},o.unlockAllToggle=function(){o.isLock=!o.isLock,v("isLock",o.isLock)},o.showAllToggle=function(){o.isHide=!o.isHide,v("isHide",o.isHide)},o.onClick_unSelectAll=function(e){var t=u.find(".contentPanel")[0],i=u.find("[layer-footer]")[0];(e.target==t||e.target==i)&&s.selectElement({document:n.uid(),selects:[]})},o.$on("$destroy",function(){k(),_(),E(),S(),I(),c.removeDropEvent(o.uid),c.remove(o.uid)}),o.dropId=d.dropId,o.isDragOver=!1}return u.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-layer.html",replace:!0,scope:!0,controller:u}}var t=MODULE.tool.instance;t.directive("jjViewContentLayer",e),e.$inject=["ContentViewName","ContentViewLabel","$documents","$elements","$projects","$autoBackup","$selects","$key","$layerDragNDrop","$commandController"]}(),function(){function e(e,t){function n(n,i,o){n.viewName=e.LAYOUT,n.viewLabel=t.LAYOUT,n.$on("$destroy",function(){})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-layout.html",replace:!0,scope:!0,controller:n}}var t=MODULE.tool.instance;t.directive("jjViewContentLayout",e),e.$inject=["ContentViewName","ContentViewLabel"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u){function d(d,p,g){function m(n){var i,o=!1;if(n.length<1)i=r.DOCUMENT;else if(n.length>1)i=r.GROUP;else{var a=e.get().value("currentGroup");if(a)i=r.GROUP;else{var l=n[0],s=t.get(l);i=s.value("type"),o=!(i===r.HTML||i===r.WEB)}}d.type=i,d.stateSelectVisible=o;var u="jj-property-"+i,g="ng-class=\"{jj_form_disable: (state == 'over' && !overStateEnabled) || (state == 'down' && !downStateEnabled)}\"",m="<div "+u+" "+g+' class="propertyPanel"></div>',v=angular.element(m),f=d.$new(!1);c(v)(f);var b=p.find("[element-property]");h&&(h&&(h.remove(),h=null),y&&(y.$destroy(),y=null)),b.append(v),h=v,y=f}function v(e){if(w&&w(),j&&j(),$&&$(),1!=e.length)return d.status.state="",d.status.overStateEnabled=!1,void(d.status.downStateEnabled=!1);var n=e[0];return n?(w=d.$watch(function(){var e=t.get(n),i=e?e.value("currentState"):"";return i},function(e,t){d.status.state=e}),j=d.$watch(function(){var e=t.get(n);return e?e.value("overStateEnabled"):!1},function(e,t){d.status.overStateEnabled=e}),void($=d.$watch(function(){var e=t.get(n);return e?e.value("downStateEnabled"):!1},function(e,t){d.status.downStateEnabled=e}))):(d.status.state="",d.status.overStateEnabled=!1,void(d.status.downStateEnabled=!1))}function f(){var e=!1;"over"===d.status.state?e=!d.status.overStateEnabled:"down"===d.status.state&&(e=!d.status.downStateEnabled),d.status.protect=e}d.viewName=o.PROPERTY,d.viewLabel=a.PROPERTY,d.status={protect:!1,state:"",overStateEnabled:!1,downStateEnabled:!1},d.stateEnableChanged=function(i){function o(e){if(!e)return!0;for(var t in e)return!1;return!0}var a=e.get();if(a){var l=a.isSingleSelected();if(l){var r=t.get(l);if(r){var c,u,p={};if("over"==i)c="overStateEnabled",u=d.status.overStateEnabled;else{if("down"!=i)return;c="downStateEnabled",u=d.status.downStateEnabled}p[c]=u;var g={},m=r.value("state"),v=o(m[i].css)||o(m[i].option)||o(m[i].style);if(u&&v){var f=m[i],h=m.normal;o(f.css)&&(f||(f={}),f.css=angular.copy(h.css)),o(f.style)&&(f||(f={}),f.style=angular.copy(h.style)),o(f.option)&&(f||(f={}),f.option=angular.copy(h.option)),g[i]=f,p.state=g}var y={document:n.uid(),elements:[{element:l,data:p}]};s.modifyElement(y)}}}},d.stateChange=function(t){var i=e.get().isSingleSelected();if(!i)return void(d.status.state="");var o={ignoreCapture:!0,ignoreBackup:!0,document:n.uid(),elements:[{element:i,data:{currentState:d.status.state}}]};s.modifyElement(o)};var h,y,b=d.$watch(function(){var t=e.get();return t?t.getNoneCopyValue("currentGroup"):""},function(t,n){var i=e.get(),o=i?i.get():[];m(o),v(o)}),x=d.$watch(function(){var t=e.get();return t?t.getNoneCopyValue("select"):null},function(t,n){var i=e.get(),o=i?i.get():[];m(o),v(o)},!0);d.slider=i.get().getNoneCopyValue("slider"),d.toggleSlider=function(e){d.slider[e]=!d.slider[e],i.get().isChanged(!0),l.execute({ignoreCapture:!0})};var w,j,$,C=d.$watch(function(){var e=!1;return"over"===d.status.state?e=!d.status.overStateEnabled:"down"===d.status.state&&(e=!d.status.downStateEnabled),e},function(e,t){f(e)}),k=d.$watch(function(){var t=e.get(d.uid),n=t?t.value("editingUID"):"";return n},function(e){f()});d.getCurrentPropertyValue=function(e,n,i){var o=t.get(e),a=o[n]()||{};return a[i]},d.submit=function(e,t){u.submit(e,t,function(){console.log("# 변경된 속성 submit 완료")})},d.$on("$destroy",function(){h&&(h=null),y&&(y.$destroy(),y=null),x(),b(),C(),k(),w&&w(),j&&j(),$&&$()})}return d.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-property.html",replace:!0,scope:!0,controller:d}}var t=MODULE.tool.instance;t.directive("jjViewContentProperty",e),e.$inject=["$selects","$elements","$documents","$applications","ContentViewName","ContentViewLabel","$autoBackup","ElementType","$compile","$commandController","$propertyManager"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(e,s,u){function d(){j(),p()}function p(){m(),e.installComplete||i.installTemplate(function(t,n){console.log("Template 리스트 얻어오기 완료 : ",n),e.$applyAsync()})}function g(n){var i=[],o=[];for(var a in n){var l=n[a];l.bundle?o.push(l):i.push(l)}var r=t.installed();r.bundle?(e.bundleTemplateItems=o,v("bundle")):e.bundleTemplateItems=null,r.user?(e.userTemplateItems=i,v("user")):e.userTemplateItems=null}function m(){$=e.$watch(function(){return n.getSetting()},g,!0)}function v(t){var n,i="user"===t,o=i?e.listViewMode.userTemplate:e.listViewMode.template,a=i?e.userTemplateItems:e.bundleTemplateItems;switch(o){case"tree":n=f(t,a);break;case"list":n=h(a);break;case"box":default:n=y(a)}i?e.userData=n:e.bundleData=n,b(t)}function f(e,t){n.setTree(e,angular.copy(t));var i=n.getTree(e);return i}function h(e){return e}function y(e){return e}function b(t){var n="user"===t,i=n?e.userData:e.bundleData,o=n?e.slider_user:e.slider,a=n?e.sliderEextendAll_user:e.sliderEextendAll,l=n?e.listViewMode.userTemplate:e.listViewMode.template;"tree"===l&&(i=i.children);var r={};for(var c in i){var s=i[c],u=s.categoryPath||"/";u in o||(o[u]=a),r[u]=!0}for(var d in o)d in r||delete o[d];x(t)}function x(t){var n="user"===t,i=n?e.slider_user:e.slider,o=!1;for(var a in i)if(i[a]){o=!0;break}n?e.sliderEextendAll_user=o:e.sliderEextendAll=o}function w(){
r.get().isChanged(!0),c.execute({ignoreCapture:!0})}function j(){e.bundleTemplateItems=null,e.userTemplateItems=null,e.userData=null,e.bundleData=null,$&&$(),$=null}e.companyNotSupport=l.companyLimit(),e.viewName=o.TEMPLATE,e.viewLabel=a.TEMPLATE,function(){d()}();var $;e.installComplete=!1;var C=e.$watch(function(){var e=t.installed();return e},function(i,o){e.installComplete=t.installComplete(),e.installComplete&&C(),g(n.getSetting())},!0);e.listViewMode=r.get().getNoneCopyValue("listViewMode"),e.userData=null,e.bundleData=null,e.listViewModeChanged=function(t,n){var i="user"===n;i?e.listViewMode.userTemplate!==t&&(e.listViewMode.userTemplate=t,v("user"),w()):e.listViewMode.template!==t&&(e.listViewMode.template=t,v("bundle"),w())},e.importTemplate=function(){i.importTemplate()},e.exportTemplate=function(){i.exportTemplate()},e.slider=r.get().getNoneCopyValue("sliderCategory").template,e.sliderEextendAll=!1,e.slider_user=r.get().getNoneCopyValue("sliderCategory").userTemplate,e.sliderEextendAll_user=!1,e.toggleSliderExtendAll=function(t){var n="user"===t;n?e.sliderEextendAll_user=!e.sliderEextendAll_user:e.sliderEextendAll=!e.sliderEextendAll;var i=n?e.slider_user:e.slider;for(var o in i)i[o]=n?e.sliderEextendAll_user:e.sliderEextendAll;w()},e.changeSliderExtend=function(t,n,i){var o="user"===i,a=o?e.slider_user:e.slider;a[t]=n,x(i),w()},e.$on("$destroy",function(){C&&C(),e.installComplete=!1,e.slider=null,e.slider_user=null,j()})}return s.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/jj-view-content-template.html",replace:!0,scope:!0,controller:s}}var t=MODULE.tool.instance;t.directive("jjViewContentTemplate",e),e.$inject=["ElementType","$templateLoader","$contentTemplateSetting","$commandController","ContentViewName","ContentViewLabel","$version","$applications","$autoBackup"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(e,t,n){function i(){e.templateLoaded=r.installed(),e.templateLoaded||l.installTemplate(function(t){null!==e.templateItems&&(console.log("template 리스트 얻어오기 완료 : ",t),e.templateLoaded=r.installed(),e.$applyAsync())})}function o(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}}e.companyNotSupport=p.companyLimit(),e.viewName=u.TEMPLATE,e.viewLabel=d.TEMPLATE,e.importTemplate=function(){l.importTemplate()},function(){i()}();var c=e.$watchCollection(function(){return a.getSetting()},function(t,n){var i=[];for(var a in t){var l=t[a];i.push(l)}i.length>0&&i.sort(o("label")),e.templateItems=i});e.$on("$destroy",function(){c(),e.templateItems=null,e.templateLoaded=!1})}return m.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/__jj-view-content-template.html",replace:!0,scope:!0,controller:m}}var t=MODULE.tool.instance;t.directive("__jjViewContentTemplate",e),e.$inject=["ElementType","FileSystem","Default","UIDType","$contentAssetSetting2","$contentTemplateSetting","$commandController","$templates","$autoBackup","$applications","ContentViewName","ContentViewLabel","$version","$timeout"]}(),function(){function e(e,t,n,i){function o(){}o.prototype={_setConfiguration:function(e){e=e||{};var t=angular.merge({title:"",yes:"",cancel:"",hasBackdrop:!0,clickOutsideToClose:!1,uid:i.uid(),root:n.createUID(),style:{},options:{}},e);t.showButton=Boolean(t.yes||t.no||t.cancel);var o=t.style||{};return t.title||t.showButton||void 0===o.borderRadius&&(o.borderRadius=0),t.style=o,t},openExplorer:function(e,n){var i=this._setConfiguration(e);i=angular.merge(i,{template:'<div jj-explorer popup-dialog config="config">'}),t.open(i,function(e,t){e&&console.log("# 결과 에러 : ",e),n&&n(t)})},_droplistStyle:function(e){var t=e.style||{};return(void 0!==t.left||void 0!==t.top)&&void 0===t.position&&(t.position="absolute"),void 0===t.minWidth&&(t.minWidth=450),void 0===t.maxWidth&&(t.maxWidth=450),void 0===t.minHeight&&(t.minHeight=200),void 0===t.maxHeight&&(t.maxHeight="70%"),t},openDroplist:function(t,i){function o(e){var t;-1===e&&(t={isCancel:!0}),i&&i(t,c)}var a=this._setConfiguration(t),l=!1,r=this._droplistStyle(a);"absolute"===r.position&&(l=!0),a.style=r;var c,s=e.open({isTop:!0,hasBackdrop:a.hasBackdrop,clickOutsideToClose:a.clickOutsideToClose,templateUrl:a.templateUrl||"explorer/explorer-droplist.html",controller:["$scope","$notice","$explorerTree","$timeout",function(e,t,i,o){e.config=a,e.close=function(e){if(console.log("	# 팝업창 선택 결과 : ",e),1===e){var n=i.get(a.root),o=n.getSelects(),l=i.getSelectInfomation(o);c=l}t.close(e)},e.$on("$destroy",function(){e.config=null}),l&&e.$applyAsync(function(){var i=angular.element(t.parentSelector),o=i.find('[explorer-tree-container="'+a.root+'"]'),l=n.position(o,{left:o.position().left,top:o.position().top,margin:20});e.config.style.left=l.left,e.config.style.top=l.top})}]});s.then(function(e){o(e)},function(){console.log("# Explorer 선택 취소"),o(-1)})}};var a=new o;return a}var t=MODULE.tool.instance;t.service("$explorerPopup",e),e.$inject=["$notice","$import","$util","$documents"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(e){var t={isRoot:!1,state:{isGroup:!1,isFold:!1,selectable:!0,selected:!1,showCheckbox:!1,disable:!1,highlight:!1},indexes:[],info:{}};return angular.merge(t,e||{})}function s(e,t,n){this._uid=e,this._options=angular.merge({},d,t||{}),this._filters=angular.merge({},p,n||{}),this._tree={},this._selects=[]}function u(){this._map={}}var d={selectAndClose:!1,multiSelect:!1,multiSelectInGroup:!1,selectToggle:!1,showRoot:!0,rootLabel:"",rootSelectable:!0,showLabelDetail:!1,hideHeader:!0,keepHierarchy:!0},p={selectable:"all",checkbox:"none",fold:"none",display:"all",disable:[],highlight:[]};s.prototype={_uid:void 0,_options:void 0,options:function(e,t){return arguments.length<1?this._options:arguments.length<2?this._options[e]:void(this._options[e]=t)},_filters:void 0,setFilters:function(e,t){if(e in this._filters){"selectable"===e&&this._unselectAll(),t||(t=p[e]);var n=new RegExp("\\b"+i.GROUP+"\\b","g"),o=t.replace(n,i.MASK);this._filters[e]=o}},getFilters:function(e){if(!(e in this._filters))return null;var t=this._filters[e]||p[e];if("string"==typeof t){var n=new RegExp("\\b"+i.GROUP+"\\b","g");t=t.replace(n,i.MASK)}return t},hasFilter:function(e,t){var n=this.getFilters(e);if(!n)return!1;var o="string"==typeof n;if(o){if(n=n.split(" "),n.indexOf("all")>-1)return!0;if(n.indexOf("none")>-1)return!1}return n.length<1?!1:arguments.length<2?n.length>0:(t||(t=p[e]),"string"==typeof t&&(t===i.GROUP&&(t=i.MASK),t=t.split(" ")),Array.isArray(t)?t.some(function(e){return n.indexOf(e)>-1}):!1)},_tree:void 0,add:function(e,t){this._tree[e]&&console.error("* 이미 설정된 Tree 데이터가 있습니다.(",e,")");var n=c(t||{});return this._tree[e]=n,n},remove:function(e){e in this._tree&&(this._tree[e]=null,delete this._tree[e])},get:function(e){return this._tree[e]},_selects:void 0,getSelects:function(){return this._selects},isSelected:function(e){return this._selects.indexOf(e)>=0},_unselectAll:function(){var e=this;this._selects.forEach(function(t){var n=e.get(t);n&&(n.state.selected=!1)}),this._selects=[]},initSelects:function(e){if("string"==typeof e)return this._unselectAll(),void this.setSelects(e,!0);if(Array.isArray(e)){this._unselectAll();var t=this,n=this._selects;e.forEach(function(e){var i=t.get(e);i&&(i.state.selected=!0,n.push(e))})}},setSelects:function(e,t){if(arguments.length<1)return this._unselectAll(),this._selects;this._options.multiSelect||this._unselectAll();var n=this.get(e);n&&(n.state.selected=t);var i=this._selects,o=i.indexOf(e),a=o>=0;return t?a||i.push(e):a&&i.splice(o,1),this._selects}},u.prototype={_map:void 0,create:function(e,t,n){this._map[e]&&console.error("* 이미 설정된 TreeObject 데이터가 있습니다.(",e,")");var i=new s(e,t,n);return this._map[e]=i,i},get:function(e){return this._map[e]},destroy:function(e,t){if(e in this._map){var n=this._map[e];arguments.length<2?(n.setSelects(),this._map[e]=null,delete this._map[e]):(n.setSelects(t,!1),n.remove(t))}},_isCategoryUID:function(e,t){return e.indexOf(":"+t+":")<0?void 0:e.split(":")},setAssetUID:function(e,t){return t+":asset:"+e},getAssetUID:function(e){if(e){var t="asset",n=this._isCategoryUID(e,t);if(n)return{category:t,owner:n[0],target:n[2],uid:e}}},setEventUID:function(e,t,n){return e+":event:"+t+":"+n},getEventUID:function(e){if(e){var t="event",n=this._isCategoryUID(e,t);if(n)return{category:t,owner:n[0],target:n[0],uid:e,eventType:n[2],index:Number(n[3])}}},setCapsuleUID:function(e,t){return t||(t="capsulize-properties"),e+":capsule:"+t},getCapsuleUID:function(e){if(e){var t="capsule",n=this._isCategoryUID(e,t);if(n)return{category:t,owner:n[0],target:n[0],uid:e,name:n[2]}}},capsuleUID_byGroup:function(e){if(e){var t=r.get(e);if(t&&t.hasCapsule()){var n=t.value("owner"),i=this.setCapsuleUID(n);return i}}},getOwnerUID:function(e){return this._parseUID(e,"owner")},getTargetUID:function(e){return this._parseUID(e,"target")},_parseUID:function(e,t){var n;return n=this.getEventUID(e),n&&(e=n[t]),n=this.getCapsuleUID(e),n&&(e=n[t]),n=this.getAssetUID(e),n&&(e=n[t]),e},getSelectInfomation:function(e){function t(e){var t=n.getEventUID(e);if(t)return t;var i=n.getCapsuleUID(e);if(i)return i;var l=n.getAssetUID(e);if(l)return l;if(0===e.indexOf(o.type))return{category:"document",owner:e,target:e,uid:e};var r=a.get(e),c=r.isGroupContainer();return{category:c?"group":"element",owner:e,target:e,uid:e,group:c||!1}}if(e){var n=this;return e.map(function(e){return t(e)})}},getAsynchronousSelects:function(){var e=l.get(),t=e.get();if(t.length<1){var n=e.currentEditGroup();if(n){var i=r.get(n),a=i.getNoneCopyValue("owner");t=[a]}else t=[o.uid()]}return t},itemsToOwnerUIDs:function(e){var t=e.map(function(e){return e.owner});return t},elementFilters:function(){var e="project document master template component group button",t={ALL:""};for(var n in i){var o=i[n];if(e.indexOf(o)<0){var a=o===i.MASK?"GROUP":n;t[a]=i[n]}}return t},infoFilters:function(){var e={ALL:"",ELEMENT:"element",EVENT:"event",ASSET:"asset",CAPSULE:"capsule"};return e}};var g=new u;return g}var t=MODULE.tool.instance;t.service("$explorerTree",e),e.$inject=["$notice","$util","$sce","ElementType","$documents","$elements","$selects","$groups"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(){return function(n,o,r){function c(e){i.power=e}function s(){c(!0),g&&g(),n.contentView=null,n.config=null,n.result=null}function u(){}function d(){var t,i=e.get(n.config.root);if(i){var o=i.getSelects(),a=e.getSelectInfomation(o);t=e.itemsToOwnerUIDs(a)}p(t)}function p(e){var n=[];e&&(n=e.filter(function(e){return e&&0===e.indexOf(l.type)})),t.selectElement({document:a.uid(),selects:n})}c(!1),n.$on("$destroy",function(){s()}),n.enterKey=n.close=function(){n.callback(null,n.result),n.$applyAsync()},n.escKey=n.cancel=function(){s(),n.callback("취소"),n.$applyAsync()},u();var g=n.$watchCollection(function(){var t=e.get(n.config.root);return t?t.getSelects():null},function(e,t){d()})}}return{restrict:"EA",templateUrl:"explorer/jj-explorer.html",replace:!0,scope:!1,compile:c}}var t=MODULE.tool.instance;t.directive("jjExplorer",e),e.$inject=["$explorerTree","$commandController","$timeout","$applications","$selects","$documents","$elements","$groups"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(){return{_global:!1,_enable:!1,uid:void 0,type:void 0,path:void 0,property:{label:"이름 없음",template:void 0},error:void 0}}function d(e){function t(e){return function(t,n){return e.indexOf(t.uid)<e.indexOf(n.uid)?-1:1}}function a(e,t){return e.property.label.toLowerCase()<t.property.label.toLowerCase()?-1:1}var l={project:[],document:[],disable:[]},r=n.get(),c=r?r.getNoneCopyValue("files"):[],s=i.get(),u=s?s.getNoneCopyValue("files"):[];for(var d in e){var g=o.get(d);if(g){var m=c.indexOf(d)>-1,v=m?!0:u.indexOf(d)>-1,f=g.error(),h={_global:m,_enable:v,uid:d,type:g.value("type"),path:g.value("path"),property:g.value("property"),error:f?P+"\n"+f:void 0},y=p(h);l[y].push(h)}}R&&(l.project.sort(t(c)),l.document.sort(t(u)),l.disable.sort(a)),M=l}function p(e){return e._global?"project":e._enable?"document":"disable"}function g(e){if(!e)return M;var t;for(var n in M)if(M[n].some(function(n,i,o){return n.uid===e?(t={index:i,item:n},!0):!1}),t)return t}function m(e){var t;for(var n in M)if(M[n].some(function(n,i,o){return n.property.label===e?(t={index:i,item:n},!0):!1}),t)return t}function v(e,t,o,l){var r;if("boolean"==typeof e){if(r=e,o)return console.error("task를 지정하려면 item 객체를 전달해야 합니다.");console.log("# 파일 Map 업데이트 : ",e)}else r=e._global,console.log("# 파일 ",o," : ",e);var c=r?"project":"document",s=r?n.uid():i.uid(),u={ignoreHistory:!0,ignoreCapture:!0,data:t};if(u[c]=s,o){var d=e.uid;"add"===o?u.asset={add:f(e,!0)}:"remove"===o&&(u.asset={remove:h(d,e._global)})}var p=r?a.modifyProject:a.modifyDocument;p(u,function(t){console.log("* 파일 업데이트  : ",o),console.log("* 추가 결과 : ",t),l&&l(null,e.uid)},B)}function f(e,t){var a=e.uid;a||console.error("uid가 지정되지 않았습니다.");var l=e._global?"project":"document",c=e._global?n.uid():i.uid(),s={asset:a};if(s[l]=c,!t){var u=o.isURL(e.path),d=e.path;if(!u){var p=r.parsePath(e.path);d="WORK_ASSET_CUSTOM_FOLDER/"+a+"."+p.ext.toLowerCase()}s.data={original:e.path,path:d,type:e.type,property:{bundle:!1,label:e.property.label}}}var g={assets:[s]};return g[l]=c,g}function h(e,t){var o=t?"project":"document",a=t?n.uid():i.uid(),l={asset:e,data:void 0};l[o]=a;var r={assets:[l]};return r[o]=a,r}function y(t,n){function i(){console.log("# 취소되었습니다."),n()}function o(e,t){return angular.extend(e,t)}Array.isArray(t)||(t=[t]);var a=[],l=[],r=[],d="",p=!1,g=!1;t.forEach(function(e){var t=b(e||{});if(t)return void a.push(t);var n,i=m(e.property.label);i?(n=o(i.item,e),r.push(n),d=d+"<li>"+e.property.label+"</li>"):(n=o(u(),e),l.push(n))});var v=[];v.push(function(t){return r.length<1?t():(d="<ul>"+d+"</ul>",void e.confirm({content:"같은 이름의 파일이 이미 등록되어 있습니다.<br> 교체 하시겠습니까?"+d,title:"중복된 파일",ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(e){e>0?p=!0:0>e&&(g=!0),c(function(){t()})}))}),r.forEach(function(e){v.push(function(t){return g?t():p?(console.error("# 파일 교체 : ",r),s.open({message:"파일을 교체 합니다.",delay:500}),void k(e,function(){t()})):t()})}),l.forEach(function(e){v.push(function(t){return g?t():(console.error("# 파일 등록 : ",l),s.open({message:"새 파일을 등록 합니다.",delay:500}),void j(e,function(n){e._global=!1,e._enable=!0,e.error=n?P+"\n"+n:void 0,_(e,function(){t()})}))})}),async.waterfall(v,function(e){s.close(1e3),g?i():n(a)})}function b(e){e.url=x(e.url),e.path=x(e.path);var t=e.url,n=e.path,i=e.type;if(!t&&!n)return"파일 경로 또는 URL 주소가 입력되지 않았습니다.";if(t&&0!==t.indexOf("http"))return"URL 주소는 http로 시작되어야 합니다.";var o=t?t:n;e.path=o,delete e.url;var a=r.parsePath(o),l=a.file,c=t?t:l;if(e.property={label:c},i||(i=w(a.ext)),i=i.toLowerCase(),"js"!==i&&"font"!==i&&"css"!==i){var s="[ "+i.toUpperCase()+" ] 파일 유형은 추가할 수 없습니다.<br>js 파일 및 폰트("+U+") 파일만 추가할 수 있습니다.";return s}e.type=i}function x(e){return e?e=e.replace(/\\/g,"/"):void 0}function w(e){return e=e.toLowerCase(),"js"===e?"js":"css"===e?"css":U.indexOf(e)>=0?"font":e}function j(e,t){var i=o.createUID();e.uid=i;var l={};l[i]=e.property.label;var r={project:n.uid(),data:{fileMap:l},asset:{add:$(e)}};a.modifyProject(r,function(n){if(console.log("* 파일 등록 결과 : ",n),"css"===e.type){var i=o.get(e.uid),a=i.path(),l={source:a,dest:a};C(l,e,function(e){t&&t(e)})}else t&&t()},B)}function $(e){e.global||(e=angular.copy(e),e._global=!0);var t=f(e);return t.assets[0]._ignoreAssetCounter=!0,t.assets[0].data.property.template=void 0,t}function C(e,n,i){return"css"!==n.type?void(i&&i()):void l.less(e,function(e,a){var l=o.get(n.uid);if(e){console.error("# CSS --> LESS 과정 : ",e),l.error(e);var r=P+"<br>"+e;t.message(r,{delay:t.LONG})}else l.error("");if(1===a.result){var c=l.value("property");c.content=a.input,l.value("property",c)}i&&i(e,a)})}function k(e,t){var n=$(e),i=o.get(e.uid),l=n.assets[0].data.original,r=i.path(),c={source:l,dest:r};C(c,e,function(i){n.assets[0].data.error=i||"",(i||"css"!==e.type)&&(n.assets[0]._replaceAssetFile=!0),a.modifyAsset(n,function(n){console.log("* 파일 데이터 수정 : ",e),console.log("* 수정 결과 : ",n),t&&t(i,e.uid)})})}function _(e,t){var o,a=e._global?n.get():i.get(),l=a.files(),r=e.uid;if(e._enable){if(l.indexOf(r)>-1)return;l.push(r),o="add"}else{var c=l.indexOf(r);if(0>c)return;l.splice(c,1),o="remove"}var s={files:l};v(e,s,o,t)}function E(e){var t=e._global?n.get():i.get();return t}function S(e,t){var n=e.uid,i=E(e),o=i.files(),a=o.indexOf(n);0>a||(o.splice(a,1),v(e,{files:o},"remove",t))}function I(e,t){var n=e.uid,i=E(e),o=i.files();o.indexOf(n)>-1||(e._global?o.push(n):o.unshift(n),v(e,{files:o},"add",t))}function D(e,t){var n,i,o=[];e._global?(n=!1,i=!0):(n=!0,i=!0),function(){if(n){var t=angular.copy(e);t._global=!t._global,o.push(function(e){S(t,function(){e()})})}}(),function(){if(i){var t=e;o.push(function(e){I(t,function(){e()})})}}(),async.waterfall(o,function(n){t&&t(null,e.uid)})}function T(t,n){var a;if(t&&void 0!==t.item&&(a=t.item),!a)return console.error("삭제하려는 item을 찾을수 없습니다.");var l,r=o.get(a.uid),c=r.counter(),s=!1;a._global?2>=c?l="삭제 하시겠습니까?<br> (* debug : 파일 카운터가 잘못된 경우입니다.)":(l="프로젝트의 전체 문서에 적용되고 있는 파일입니다.<p>이 파일을 삭제하면 다른 문서에서도 파일을 사용할 수 없습니다.<br>삭제 하시겠습니까?</p>",s=!0):1===c?l="삭제 하시겠습니까?":a._enable&&2===c?l="삭제 하시겠습니까?":(l="이 파일을 사용중인 다른 페이지가 있습니다.<p>이 파일을 삭제하면 사용중인 페이지에서도 이 파일을 사용할 수 없습니다.<br>모든 페이지에서 사용을 해지하고 삭제 하시겠습니까?</p>",s=!0);var u=[];!function(t){t&&u.push(function(n){e.confirm({content:t,title:"파일 삭제",ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(e){n(null,e)},function(e){console.error("[err] : "+e),n(e)})})}(l),function(){u.push(function(e,t){if(1!==e)return t("취소");console.log("# fileMap 에서 제거");var n={};n[a.uid]=void 0,v(!0,{fileMap:n},null,function(){t()})})}(),s&&!function(){u.push(function(e){var t=a.uid,n=i.getDatas();console.log("# asset : ",t);for(var l in n){var r=n[l],c=r.getNoneCopyValue("files");c.indexOf(t)<0||(r.$removeFile(t),o.remove(t),console.log("# 다른 문서들의 files 에서 제거 : ",l),console.log("# docFiles 결과 : ",c),c.indexOf(t)>-1&&alert(t))}e()})}(),function(){u.push(function(e){var t=o.get(a.uid),n=t.counter();console.log("# project 또는 해당 문서 files 데이터에서 제거 counter : ",n),n>3&&alert("파일 관리 counter 로직이 잘못됨 : "+n);var l=1-n;if(0!=l&&(n=t.counter(l),1!==n))return alert("asset counter 재설정 오류 : "+n);if(a._global)S(a,function(){e()});else{var r,c=a.uid,s=i.uid(),u=i.get(s),d=u.files(),p=d.indexOf(c);0>p?r={}:(d.splice(p,1),r={files:d}),v(a,r,"remove",function(){e()})}})}(),async.waterfall(u,function(e){n&&n(e,a.uid)})}function A(e,t,n,i){if(t!==n){console.log("# 드래그 앤 드랍 데이터 처리 : ",t,"-->",n);var o=p(e),a=M[o],l=a[t],r=E(l),c=r.files();t=c.indexOf(l.uid);var s=a[n];n=!s||c.indexOf(s.uid)<0?c.length:c.indexOf(s.uid);var u=c[t];n>t?(c.splice(t,1),c.splice(n-1,0,u)):t>n&&(c.splice(t,1),c.splice(n,0,u));var d={files:c};v(l,d,null,i)}}var L,O=!1,M={},U="ttf, woff, eot, otf",P="CSS 파일 문법에 오류가 없는지 확인 바랍니다.",B=!1,R=!0;return{set:d,get:g,regist:y,unregist:T,globalChange:D,enableChange:_,_getType:w,dndData:function(e){return arguments.length<1?L:(L=e,void console.log("* 목록 드래그 SET : ",e))},move:A,$_isEditing:function(e){return arguments.length<1?O:O=e},cssToFile:C,sortByCategory:R}}var t=MODULE.tool.instance;t.service("$fileListDataService",e),e.$inject=["$notice","$toast","$projects","$documents","$assets","$commandController","$externalAPI","FileSystem","$timeout","$busy"]}(),function(){function e(e,t,n,i,o,a,l){function r(){return function(r,c,s){function u(e){o.power=e}function d(){var e=t.get(),i=e?e.getNoneCopyValue("fileMap"):{};n.set(i);var o=n.get();r.projectFiles=o.project,r.documentFiles=o.document,r.disableFiles=o.disable}function p(e,t){n.regist(e,function(e,n){if(e&&e.length>0){var i="";e.forEach(function(e){i=i+"<li>"+e+"</li>"}),i="<p>실행 도중 다음과 같은 문제가 발생하였습니다.</p><ul>"+i+"</ul>";var o={isTop:!0,closeButton:!1,content:i,ok:"확인"};return void a.alert(o).then(function(){t&&t(n)})}t&&t(n)})}function g(){n.$_isEditing(!1),m()}function m(){u(!0),v(),f(),r.config=null,r.projectFiles=null,r.documentFiles=null,r.disableFiles=null,r.backup=null,r.input=null}u(!1),r.config.id=r.config.id||"FileListEditorDialogBox",r.config.title="파일 가져오기/내보내기 설정",r.config.yes="확인";var v=r.$watch(function(){var e=t.get(),n=e?e.getNoneCopyValue("files"):[];return n},function(e,t){d()},!0),f=r.$watch(function(){var e=i.get(),t=e?e.getNoneCopyValue("files"):[];return t},function(e,t){d()},!0);r.input={url:""},r.addURL=function(){var e={url:r.input.url};p(e,function(e){e&&(r.input.url="",r.$applyAsync())})},r.openFileDialogBox=function(t){function i(e){if(console.error("files: ",e),!e||!e.path||e.path.length<1)return void console.log("경로가 지정되지 않았습니다.");var i="",o=[];e.path.forEach(function(e){var a=l.parsePath(e.path),r=n._getType(a.ext);if(t===r.toUpperCase())return void o.push({type:t,path:e.path});var c='<li><p><div>"'+r+'" 파일은 "'+t+'" 타입의 파일이 아닙니다.</div><br><span class="markBlock">'+a.file+"</span></p></li>";i+=c}),i&&(i="<ul>"+i+"</ul>",a.alert({modal:!0,title:"파일 가져오기 취소",content:i,ok:"확인"}).then(function(){})),o.length<1||(console.error("* 파일 경로 : ",o),p(o,function(e){}),r.$applyAsync())}var o="*",c="";"JS"===t&&(o=".js",c="importJS"),"FONT"===t&&(o=".ttf,.woff,.eot",c="importFONT"),"CSS"===t&&(o=".css",c="importCSS");var s={accept:o,multiple:!0,task:c};e.getOpenInformation(s,i)},r.enterKey=r.close=function(){g(),r.callback(null,"확인"),r.$applyAsync()},n.$_isEditing(!0),r.escKey=r.cancel=function(){g(),r.callback(null,"취소"),r.$applyAsync()},r.$on("$destroy",function(){m()})}}return{restrict:"EA",templateUrl:"fileListEditor/jj-file-list-editor-dialog-box.html",replace:!0,scope:!1,compile:r}}var t=MODULE.tool.instance;t.directive("jjFileListEditorDialogBox",e),e.$inject=["$externalAPI","$projects","$fileListDataService","$documents","$applications","$notice","FileSystem"]}(),function(){function e(e,t,n,i,o,a,l){function r(r,c,s){function u(){return arguments.length<1?e.dndData():void e.dndData(arguments[0])}function d(t,n){e.move(r.data.item,t,n)}function p(t){var n=t.dataTransfer.files[0];if(n)return void t.preventDefault();var i=u();if(i&&i.id===s.dropId){if(e.sortByCategory){var o=i.data.item;if(o._global!==r.data.item._global)return}return i.data}}function g(e){var t=s.dragId;v(),t&&e?(c.attr("draggable","true"),m()):c.removeAttr("draggable")}function m(){S?(c.on("dragstart",f),c.on("dragend",h)):console.debug("jjContentItem : Drag & Drop 기능이 지원되지 않습니다.")}function v(){S&&(c.off("dragstart",f),c.off("dragend",h))}function f(e){if(e=e.originalEvent||e,e.stopPropagation(),!(e.target instanceof HTMLElement))return void e.preventDefault();var t={id:s.dragId,data:r.data};u(t);var n=c[0].cloneNode(!0);$(n).find("[notghost]").remove(),n.className="drag_drop_jj-file-list-item"+(r.data.item._global?" global":""),document.body.appendChild(n),e.dataTransfer.setDragImage(n,n.offsetWidth/2,n.offsetHeight/2),r.isDragging=!0,r.$apply()}function h(e){e=e.originalEvent||e,e.stopPropagation(),console.warn("mouseup trigger : nwJS 새버전에서는 필요없을수도..."),n.triggerHandler("mouseup"),r.isDragging=!1,angular.element(".drag_drop_jj-file-list-item").remove(),u(null),r.$apply()}function y(){c.on("dragenter",x),c.on("dragleave",k),c.on("dragover",w),c.on("drop",C)}function b(){c.off("dragenter",x),c.off("dragleave",k),c.off("dragover",w),c.off("drop",C)}function x(e){e=e.originalEvent||e,e.preventDefault(),e.stopPropagation();var t=p(e);t?(r.dropDirection=e.offsetY<c.height()/2?"top":"bottom",r.isDragOver=!0):(r.dropDirection="",r.isDragOver=!1,e.dataTransfer.dropEffect="none"),r.$apply()}function w(e){e=e.originalEvent||e,e.preventDefault(),e.stopPropagation();var t=p(e);return t?(r.dropDirection=j(),r.$apply(),!0):(e.dataTransfer.dropEffect="none",!1)}function j(){var e=u();if(!e||!e.data)return"";var t=e.data,n=event.offsetY<c.height()/2?"top":"bottom",i=t.index-r.data.index;return 1==i?"bottom"===n&&(n=""):-1==i&&"top"===n&&(n=""),n}function C(e){e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),r.isDragOver=!1,r.$apply();var t=p(e);if(!t)return!0;var n=t.index,i=j();if(!i)return!0;var o=r.data.index;return o>n?"bottom"==i&&(o+=1):n>o&&"bottom"==i&&(o+=1),n!=o?(d(n,o),!1):void 0}function k(e){r.isDragOver=!1,r.$apply()}r.data=e.get(r.key),r.label=r.data.item.property.label,r.template=r.data.item.property.template,r.isURL=i.isURL(r.data.item.path);var _=r.$watch("data.item._enable",function(t,n){t!==n&&r.$applyAsync(function(){e.enableChange(r.data.item)})}),E=r.$watch("data.item._global",function(t,n){t!==n&&r.$applyAsync(function(){e.globalChange(r.data.item)})});r.unregist=function(){e.unregist(r.data,function(e){})};var S=t.isDragNDropable();r.isDragging=!1,r.isDragOver=!1,g(r.data.item._enable),function(){b();var e=s.dropId;e&&y()}(),r.$on("$destroy",function(){_(),E(),v(),b(),r.data=null}),r.editCode=function(){function t(e,t){return e?console.error("[결과 에러] : ",e):void 0}function n(e){function t(e,t){var n=e.path(),i={encoding:"utf8"};a.readFile(n,i,function(e,n){e&&(console.error("[Read 실패] ",e),l.message("내용을 로드하지 못하였습니다.")),t&&t(n)})}var n=i.get(s.uid);if("css"===s.type){var o=n.value("property");o.content}t(n,function(t){return"css"!==s.type?e(t):(function(){t=t.replace(/(\[jj(-render)?-paper\] \[jj(-render)?-page\] \[jj(-render)?-element-container\],?\s?)/gim,""),t=t.replace(/(.+),\n\1/gim,"$1"),t=t.replace(/\/\* Generated Jik-ji\. Do not erase it\. \*\/\n+?/gim,""),t=t.replace(/^\{(.|\s)+?\n?\}\n+?/gim,"");var e="<h3>하위 버전 보정</h3><p>0.5.11 이하 버전에서 import된 CSS 파일은 데이터가 일부 변형되었을 수도 있습니다. <br>예상과 다르게 동작할 경우 원본을 다시 import하여 사용해 보시기 바랍니다.</p>";l.open(e,{isSimple:!1})}(),void e(t))})}function c(t,n){t=t||"";var o=i.get(s.uid),r=o.path();if("css"===s.type){var c={content:t||"",dest:r};return void e.cssToFile(c,s,function(e,t){n&&n(Boolean(e))})}var u={encoding:"utf8"};a.outputFile(r,t,u,function(e){e&&(console.error("[Write 실패] ",e),l.message("저장에 실패했습니다.")),n&&n(Boolean(e))})}var s=r.data.item,u={template:'<div jj-code-editor-dialog-box popup-dialog config="config">',mode:s.type,title:"코드 편집",save:"임시 저장",yes:"저장",read:n,write:c,codeTest:!0};o.open(u,t)}}return r.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"fileListEditor/jj-file-list-item.html",replace:!0,scope:{key:"@"},controller:r}}var t=MODULE.tool.instance;t.directive("jjFileListItem",e),e.$inject=["$fileListDataService","$device","$document","$assets","$import","$externalAPI","$toast"]}(),function(){function e(e,t,n,i,o,a){function l(){return function(e,t,n){function i(){e.config=null}e.config.id=e.config.id||"InsertTemplateCheck",e.config.title="중복되는 파일",e.config.ok="예",e.config.cancel="아니요",e.config.closeButton=!0,e.close=function(t){e.callback(null,t),i()},e.$on("$destroy",function(){i()})}}return{restrict:"EA",templateUrl:"fileListEditor/jj-insert-template-check.html",replace:!0,scope:!1,compile:l}}var t=MODULE.tool.instance;t.directive("jjInsertTemplateCheck",e),e.$inject=["$externalAPI","$projects","$fileListDataService","$applications","$notice","FileSystem"]}(),function(){function e(e,t,n,i,o,a){function l(){}return l.prototype={gridSize:1,magneticSize:10,_boundarys:void 0,_guideLines:void 0,_magneticLines:void 0,_centerSnap:!0,clear:function(){this._boundarys=null,this._guideLines=null,this._magneticLines=null},filter:function(e,t,n,i){function o(){var e=a.get(),t=e.getNoneCopyValue("app"),n=void 0===t.$$temp_scale?t.scale:t.$$temp_scale;return n}1===arguments.length&&"object"==typeof arguments[0]&&(e=arguments[0].x||arguments[0].left,t=arguments[0].y||arguments[0].top,n=arguments[0].w||arguments[0].width,i=arguments[0].h||arguments[0].height);var l={};this._snapBoundary(l,e,t,n,i),this._snapGuideLine(l,e,t,n,i),this.gridSize>1&&this._snapGrid(l,e,t,n,i),this._snapUnit(l,e,t,n,i);var r={x:0,y:0},c=o();return Math.abs(l.x*c)<=this.magneticSize&&(r.x=l.x),Math.abs(l.y*c)<=this.magneticSize&&(r.y=l.y),this._displayMagneticLines(r,e,t,n,i),r},getBoundarys:function(){function l(e,t){var n=(t-1)*e.width,i=(t-1)*e.height,o={left:e.left-n/2,top:e.top-i/2,width:e.width+n,height:e.height+i};return o}function r(e){var n=i.get(e),o=n.value("owner"),a=t.get(o),l=a.css();return{left:0,top:0,width:l.width,height:l.height}}function c(){var e=a.get(),t=e.getNoneCopyValue("paper");return{left:0,top:0,width:t.width,height:t.height}}var s=n.get().get(),u=n.get(),d=u.currentEditGroup(),p=d?i.get(d):e.get(),g=p.getNoneCopyValue("indexes"),m=[],v=s.length>1;if(g.map(function(e){if(!(v&&s.indexOf(e)>-1)){var n,i=t.get(e),a=i.css(),r=a.transform.scale;if(a.transform.angle?(n=o.getRotatedBoundary([e],!1),n={left:n.left,top:n.top,width:n.width,height:n.height}):(n={left:a.left,top:a.top,width:a.width,height:a.height},m.push(n)),m.push(n),1!==r){var c=l(n,r);m.push(c)}}}),v){var f=o.getRotatedBoundary(s);m.push(f)}if(d){var h=r(d);m.push(h)}else{var y=c();m.push(y)}return m},_snapBoundary:function(e,t,n,i,o){function a(e,t,n,i){var o=e-t;return isNaN(n)?o:Math.abs(o)<Math.abs(n)?o:n}this._boundarys||(this._boundarys=this.getBoundarys());var l=this._centerSnap;this._boundarys.forEach(function(r){if(e.x=a(t,r.left,e.x,"l-l"),e.y=a(n,r.top,e.y),e.x=a(t,r.left+r.width,e.x,"l-r"),e.y=a(n,r.top+r.height,e.y),0!==i&&(e.x=a(t+i,r.left,e.x,"r-l")),0!==o&&(e.y=a(n+o,r.top,e.y)),0!==i&&(e.x=a(t+i,r.left+r.width,e.x,"r-r")),0!==o&&(e.y=a(n+o,r.top+r.height,e.y)),l){var c=t+i/2,s=n+o/2;0!==i&&(e.x=a(c,r.left,e.x,"c-l")),0!==o&&(e.y=a(s,r.top,e.y)),0!==i&&(e.x=a(c,r.left+r.width,e.x,"c-r")),0!==o&&(e.y=a(s,r.top+r.height,e.y)),0!==i&&(e.x=a(c,r.left+r.width/2,e.x,"c-c")),0!==o&&(e.y=a(s,r.top+r.height/2,e.y))}})},_displayMagneticLines:function(e,t,n,i,o){if(!this._boundarys||this._boundarys.length<1)return void(this._magneticLines={x:[],y:[]});var a=t-e.x,l=n-e.y,r=a+i,c=l+o,s=this._centerSnap,u=t+i/2-e.x,d=n+o/2-e.y,p={};this._boundarys.some(function(e){return(!p.left&&a===e.left||a===e.left+e.width)&&(p.left=!0),(!p.right&&r===e.left||r===e.left+e.width)&&(p.right=!0),(!p.top&&l===e.top||l===e.top+e.height)&&(p.top=!0),(!p.bottom&&c===e.top||c===e.top+e.height)&&(p.bottom=!0),s?((!p.center&&u===e.left||u===e.left+e.width/2||u===e.left+e.width)&&(p.center=!0),(!p.middle&&d===e.top||d===e.top+e.height/2||d===e.top+e.height)&&(p.middle=!0),p.left&&p.right&&p.top&&p.bottom&&p.center&&p.middle):p.left&&p.right&&p.top&&p.bottom});var g=[];!p.left||p.center&&p.right||g.push(a),!p.right||p.left&&p.center||g.push(r);var m=[];!p.top||p.middle&&p.bottom||m.push(l),!p.bottom||p.top&&p.middle||m.push(c),p.center&&g.push(u),p.middle&&m.push(d),this._magneticLines={x:g,y:m}},_snapGuideLine:function(e,t,n,i,o){console.log("TODO: _snapGuideLine")},_snapGrid:function(e,t,n,i,o){var a=t-Math.floor(t/this.gridSize)*this.gridSize,l=n-Math.floor(n/this.gridSize)*this.gridSize;this.gridSize<=this.magneticSize?(this.magneticSize<=Math.abs(e.x)&&(e.x=a),this.magneticSize<=Math.abs(e.y)&&(e.y=l)):(Math.abs(a)<Math.abs(e.x)&&(e.x=a),Math.abs(l)<Math.abs(e.x)&&(e.y=l))},_snapUnit:function(e,t,n,i,o){var a=t-Math.floor(t),l=n-Math.floor(n);this.magneticSize<=Math.abs(e.x)&&(e.x=a),this.magneticSize<=Math.abs(e.y)&&(e.y=l)}},new l}var t=MODULE.tool.instance;t.service("$snap",e),e.$inject=["$documents","$elements","$selects","$groups","$mask","$projects"]}(),function(){function e(e,t,n,i,o,a){function l(e,t,n){function i(){var t=o.get(),n=t.temp(),i=t?n.selectBoundary:null;if(!i)return e.select.horizontal=[],void(e.select.vertical=[]);var a=e._condition.scale*e.ingroupOffset.scale,l=i.left,r=l+i.width,c=e.ingroupArea.left||0,s=e.ingroupArea.top||0;e.select.vertical=[c+l*a,c+r*a];var u=i.top,d=u+i.height;e.select.horizontal=[s+u*a,s+d*a]}e.select={horizontal:[],vertical:[]};var l=e.$watch(function(){var e=o.get(),t=e.temp();return t?t.selectBoundary:null},function(){i()},!0),r=e.$watch(function(){var t=e._condition.scale*e.ingroupOffset.scale;return t},function(){i()}),c=e.$watch("ingroupArea",function(e){i()},!0),s=e.$watch(function(){return a._magneticLines},function(t){if(!t)return void(e.snapline=null);var n=e._condition.scale*e.ingroupOffset.scale,i=e.ingroupArea.left||0,o=e.ingroupArea.top||0;

e.snapline={horizontal:t.y.map(function(e){return o+e*n}),vertical:t.x.map(function(e){return i+e*n})}},!0);e.$on("$destroy",function(){l(),c(),r(),s()})}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"guide/jj-guide.html",replace:!0,scope:!0,controller:l}}var t=MODULE.tool.instance;t.directive("jjGuide",e),e.$inject=["$projects","$document","$documents","Default","$applications","$snap"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d){function p(u,d,p){function g(){var t,n,o,a=e.get();if(a){var l=a.getNoneCopyValue("app");t=void 0===l.$$temp_scale?l.scale:l.$$temp_scale,n=l.scrollX,o=l.scrollY}return{scale:void 0===t?1:t,scrollX:void 0===n?i.screenPadding:n,scrollY:void 0===o?i.screenPadding:o}}function m(e){var t=r.getEditGroupOffset();u.ingroupOffset.axisX=t.axisX,u.ingroupOffset.axisY=t.axisY,u.ingroupOffset.scale=t.scale}function v(){var t=u._condition.scale*u.ingroupOffset.scale,n=u.origin.x-u._condition.scrollX,i=u.origin.y-u._condition.scrollY,o=l.get(),a=o?o.currentEditGroup():"";if(!a){var r=e.get(),d=r?r.getNoneCopyValue("paper"):null;return void(u.ingroupArea={left:n,top:i,width:d?d.width*t:0,height:d?d.height*t:0})}var p=c.get(a),g=p.value("owner"),m=s.get(g),v=m.getNoneCopyValue("state"),f=v.normal.css;u.ingroupArea={left:n,top:i,width:f.width*t,height:f.height*t}}function f(){return{horizontal:{labels:[],style:{backgroundPosition:"0px 0px"},offsetStyle:{},labelStyle:{}},vertical:{labels:[],style:{backgroundPosition:"0px 0px"},offsetStyle:{},labelStyle:{}}}}function h(){var e=a.scrollSaved();if(e){u._condition=g();var t=u._condition.scale;if(u.origin={x:(i.screenPadding+u.ingroupOffset.axisX)*t,y:(i.screenPadding+u.ingroupOffset.axisY)*t},y(),!n.uid())return u.ruler=f(),w(),b(),void u.$applyAsync();w(),b(),x(),u.$applyAsync()}}function y(){var e=u._condition.scale*u.ingroupOffset.scale,t=1;.3>e?(t=.5,M=2,O=400):.6>e?(t=1,M=2,O=200):1>=e?(t=2,M=2,O=100):1.5>=e?(t=2,M=1,O=50):2.3>=e?(t=4,M=2,O=50):4>=e?(t=4,M=1,O=25):(t=5,M=1,O=20),T=100/t,L=t;var n=T*e;A=Math.round(n)}function b(){function e(e,t,n,i){for(var o=e*M,a=t*o,l=Math.floor(a/o),r=a-(n+l*o),c=-Math.floor(t),s=Math.ceil(i/o)+c,u=[];s>=c;){var d=c*O;u.push(d),c+=1}return{labelLength:o,labels:u,translate:r}}var t=u.ruler.horizontal.offset,n=u.ruler.vertical.offset,i=A*M,o=u.origin.x-u._condition.scrollX,a=o/i,l=u.origin.y-u._condition.scrollY,r=l/i,c=e(A,a,t,d.width());u.ruler.horizontal.labels=c.labels,u.ruler.horizontal.labelStyle={transform:"rotateZ(0deg) translateX("+c.translate+"px)",width:c.labelLength};var s=e(A,r,n,d.height());u.ruler.vertical.labels=s.labels,u.ruler.vertical.labelStyle={transform:"rotateZ(-90deg) translateX(-"+(s.translate+s.labelLength)+"px)",width:s.labelLength,height:s.labelLength}}function x(){if(n.uid()){var e=u.ruler.horizontal.offset,t=u.ruler.vertical.offset;u.ruler.horizontal.offsetStyle={marginLeft:e+"px"},u.ruler.vertical.offsetStyle={marginTop:t+"px"}}}function w(){function e(e,t){function n(){var t="1px";r+="linear-gradient("+e+", "+l+" 0, "+l+" "+t+", transparent "+t+" ), "}function i(e){e+="%",r+="linear-gradient("+t+", "+a+" "+e+", transparent "+e+" ), "}function o(t,n){var i=Math.floor(A*(t/100)),o=i+"px",a=i+1+"px";r+="linear-gradient("+e+", transparent "+o+", "+l+" "+o+", "+l+" "+a+", transparent "+a+" )",n||(r+=", ")}var a="#2B2B2B",l="rgba(255, 255, 255, 0.2)",r="";return n(),i(50),o(50),i(70),o(10),o(20),o(30),o(40),o(60),o(70),o(80),o(90,!0),r}var t=(u.origin.x-u._condition.scrollX)%A,n=(u.origin.y-u._condition.scrollY)%A;u.ruler.horizontal.offset=t,u.ruler.vertical.offset=n,u.ruler.horizontal.style={backgroundSize:A+"px "+U+"px",backgroundRepeat:"repeat-x",backgroundPosition:t+"px 0px",backgroundImage:e("90deg","180deg")},u.ruler.vertical.style={backgroundSize:U+"px "+A+"px",backgroundRepeat:"repeat-y",backgroundPosition:"0px "+n+"px",backgroundImage:e("180deg","90deg")}}function j(){var e=d.parent()[0],t=e.getBoundingClientRect(),n=25;B.x=t.x+n,B.y=t.y+n,B.w=t.width,B.h=t.height,u.$applyAsync()}function $(){k(),n.uid()&&C()}function C(){t.on("mousemove",_)}function k(){t.off("mousemove",_)}function _(e){var t=e.clientX-B.x,n=e.clientY-B.y,i=B.x+B.w,o=B.y+B.h;u.mouse.x=t>0&&i>n?t:null,u.mouse.y=n>0&&o>n?n:null,u.$applyAsync()}u._condition={scale:1,scrollX:void 0,scrollY:void 0};var E=u.$watch(function(){return g()},function(e){h(),v()},!0),S=u.$watch(function(){var e=o.get(),t=e.temp();return{w:t.applicationWidth,h:t.applicationHeight}},function(e){e.w>0&&e.h>0&&(h(),v())},!0),I=u.$watch(function(){return o.power},function(e){e&&(h(),v())}),D=u.$watch(function(){var e=l.get(),t=e?e.currentEditGroup():"";return t},function(e){m(e),h(),v()});u.origin={x:0,y:0},u.ruler=f();var T,A,L,O,M,U=25,P=u.$watch(function(){return n.uid()},function(e){$(),h(),v()}),B={x:0,y:0};j(),u.$on("$destroy",function(){k(),E(),P(),S(),D(),I()})}return p.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"guide/jj-ruler.html",replace:!0,scope:!1,controller:p}}var t=MODULE.tool.instance;t.directive("jjRuler",e),e.$inject=["$projects","$document","$documents","Default","$applications","$screenZoom","$selects","$mask","$groups","$elements","AnimationSpeed","$timeout"]}(),function(){function e(e,t,n,i,o,a){var l=e.extend("ImportPDF",{destroy:function(){this._super(),this._map_path=null},initialize:function(){this._super(),this._map_path={}},openFileDialogBox:function(e){var i=this,o={multiple:!0,autoRemove:!0,accept:t.ACCEPT_IMAGES,task:"importIMG"};n.getOpenInformation(o,function(n){if(!n||!n.path||n.path.length<1)return void console.log("경로가 지정되지 않았습니다.");var o=n.path.map(function(e){var n=t.parsePath(e.name);return e.type=n.ext.toLowerCase(),e});i.initDisplayList(o,e)})},initDisplayList:function(e,o){function l(e){return b.loader&&e?(u.forEach(function(e){var t=e.num-1;b.loader.pages[t]=e}),b.setSelectAll(),void(o&&o())):void(o&&o())}var r=this.getTotalPageNum(),c=parseInt(e.length,10);this.loader.pages||(this.loader.pages=[]),this.loader.complete=1>c;for(var s=this.TEMP_MASTER_FOLDER,u=[],d=0;c>d;++d){var p,g,m=e[d],v=this._map_path[m.path];if(isNaN(v)){var f=i.createUID(),h=f,y="."+m.type;g=s+"/"+h+y,v=++r-1,p=this.setPageItem({num:v+1,selected:!1,id:f,image:t.pathToActual(g),ext:y,fileName:f,thumbnail:null,_info:m,_copyed:!1}),this._map_path[m.path]=v}else p=this.getPageItem(v),g=s+"/"+p.fileName+p.ext,p=this.setPageItem({num:v+1,image:t.pathToActual(g),_info:m,_copyed:!1},p);u.push(p)}a.open();var b=this,x=u.map(function(e){return e._info.path});n.getImageInfomation(x,function(e,t){console.log("# IMAGE 정보 : %o",t),u.forEach(function(e,n){var i=t[n];e.width=i.width,e.height=i.height}),b.createThumbnail(u,{onComplete:l})})},convertCancel:function(){},_isChangedFilter:function(e){return e._copyed},_callConverter:function(e,t,i){function a(e,t){return!e||e.length<1?void(t&&t()):void n.copy(e,function(e){e&&console.error("파일 복사 에러 : ",e),t()})}var l=e.map(function(e){return{src:e._info.path,dest:e.image}});this.convertCancel=function(){i&&i.onCancel&&i.onCancel()},this.progress.current=0,this.progress.total=l.length,this.progress.percent=0,this.progress.message="페이지 추출을 시작합니다.";var r=this;o(function(){a(l,function(){r.loader.complete=!0,e.forEach(function(e){e._copyed=!0}),r.progress.current=l.length,r.progress.total=l.length,r.progress.percent=100,r.progress.message="완료되었습니다.",r.setSelectAll(),i&&i.onComplete&&i.onComplete(!0)})},500)},getPageSize:function(e,t){this._super(e,t)},getSearchText:function(e,t){this._super(e,t)}}),r=new l;return r}var t=MODULE.tool.instance;t.service("$importIMG",e),e.$inject=["ImportPages","FileSystem","$externalAPI","$util","$timeout","$busy"]}(),function(){function e(e,t,n,i,o,a,l){var r="$$pdf2xxx...onMessage",c="$$pdf2xxx...onProgress",s="$$pdf2xxx...onCancel",u="$$pdf2xxx...onComplete",d="$$pdf2xxx.searchText..onProgress",p=e.extend("ImportPDF",{destroy:function(){this._super(),delete window[r],delete window[c],delete window[s],delete window[u],delete window[d]},initialize:function(){this._super(),this.option={pdf:"",resolution:200,displayPath:""}},openFileDialogBox:function(e){var n=this,i={accept:".pdf",task:"importPDF"};t.getOpenInformation(i,function(i){return i?(console.log("PDF : ",i),a.open({message:"내용을 로드합니다."}),void t.getPdfInfomation({path:i},function(t,i){return a.close(),t||!i?e():(console.log("# PDF 정보 : %o",i),n.initDisplayList(i),void e())})):void console.log("경로가 지정되지 않았습니다.")})},initDisplayList:function(e){this.option.resolution=200,this.option.displayPath=e.displayPath,this.option.pdf=e.path;for(var t=[],n=parseInt(e.totalPage,10),i=0;n>i;++i){var o=i+1,a=this.setPageItem({num:o,selected:!1});t.push(a)}this.loader.pages=t,this.selector.pages=[],this.setSelectAll()},convertCancel:function(){t.convertCancel()},_isChangedFilter:function(e){return Boolean(e.thumbnail&&e.thumbnail.image)},_callConverter:function(e,t,n){function i(e){console.log("[ 변환 : 종료 ]",e);for(var t in e){var n=e[t];n.path=n.path.replace(/\\/g,"/");var i=n.path,o=n.pageNumber-1,a=l.getPageItem(o);l.setPageItem({num:n.pageNumber,id:n.id,image:i,ext:n.ext,fileName:n.fileName,width:n.width,height:n.height,thumbnail:null,_info:n},a)}}function o(e,t){l.progress.message="썸네일 이미지를 추출 합니다.",l.createThumbnail(e,{onComplete:function(e){return l.loader&&e?void(t&&t()):void(t&&t())}})}var a=e.map(function(e){return e.num}),l=this;this._callPDFConverter(a,t,n,function(t){if(l.loader){var a=t.success;if(!a)return l.progress.message="변환에 실패 하였습니다.",void(n&&n.onComplete&&n.onComplete(a));i(t.data),o(e,function(){l.loader.complete=!0,l.setSelectAll(),l.progress.message="변환이 완료되었습니다.",n&&n.onComplete&&n.onComplete(!0)})}})},_callPDFConverter:function(e,n,i,a){function d(e){v.progress.message=e,i&&i.onMessage&&i.onMessage(e)}function p(e,t,o){var a=o.message||"";o.removed?a="[ 취소 ] PDF 문서의 "+o.pageNumber+" 페이지를 변환 취소중 입니다.":a||(a="▶▷ PDF 문서의 "+o.pageNumber+" 페이지를 변환 중입니다."),console.log("	 ID:",a,"\n	",o.id);var l=n.length,r=l-t+Math.ceil(e);v.progress.page=o.pageNumber,v.progress.current=r,v.progress.total=l,v.progress.percent=Math.ceil(r/l*100),v.progress.message=a,i&&i.onProgress&&i.onProgress(e,t,o)}function g(e){delete window[r],delete window[c],delete window[s],delete window[u],e&&console.error(e),i&&i.onCancel&&i.onCancel(e)}function m(e,t){delete window[r],delete window[c],delete window[s],delete window[u],e&&console.error(e),i&&i.onConvertFinished&&i.onConvertFinished(e,t),l(function(){if(v.loader&&!t.canceled){if(t.warn){var e=t.warn;e=e.replace(/\n/g,"<br>"),o.open(e,{isSimple:!1})}a&&a(t)}},500)}var v=this,f={pages:e,destFolder:this.TEMP_MASTER_FOLDER,thumbnailFolder:this.TEMP_THUMBNAIL_FOLDER,quality:100,density:v.option.resolution,onMessage:r,onProgress:c,onCancel:s,onComplete:u};window[r]=d,window[c]=p,window[s]=g,window[u]=m;var h=this.option.pdf;t.convert(h,f)},getPageSize:function(e,t){this._super(e,t)},getSearchText:function(e,n){function i(e,t,i){n&&n.onProgress&&n.onProgress(e,t,i)}function a(e,t){e&&console.error(e),delete window[d],l(function(){var e;t.warn&&(e=t.warn),t.error&&(e=t.error),e&&(e=e.replace(/\n/g,"<br>"),o.open(e,{isSimple:!1}),console.error(e));var i=t.data;n&&n.onComplete&&n.onComplete(i)},500)}window[d]=i;var r=e.map(function(e){return e.num-1}),c={pageIndexes:r,onProgress:d},s=this.option.pdf;t.getPdfText(s,c,a)}}),g=new p;return g}var t=MODULE.tool.instance;t.service("$importPDF",e),e.$inject=["ImportPages","$externalAPI","Default","FileSystem","$toast","$busy","$timeout"]}(),function(){function e(e,t,n,i,o,a,l){var r="$$pdf2xxx.thumbnail..onProgress",c=e.create("Import",{TEMP_CONVERT_FOLDER:"",TEMP_MASTER_FOLDER:"",TEMP_THUMBNAIL_FOLDER:"",loader:null,progress:null,selector:null,option:null,destroy:function(){this.selector=null,this.loader=null,this.progress=null,this.option=null,delete window[r]},initialize:function(){var e=n.TEMP_ROOT_MARKER+n.WORK_SPACE_MARKER+n.PROJECT_SPACE_MARKER;this.TEMP_CONVERT_FOLDER=e+n.TEMP+n._CONVERT,this.TEMP_MASTER_FOLDER=this.TEMP_CONVERT_FOLDER+n.IMAGES_MASTER,this.TEMP_THUMBNAIL_FOLDER=this.TEMP_CONVERT_FOLDER+n.IMAGES_MASTER_THUMB,this.selector={pages:[],isSelectAll:!1},this.loader={pages:null,complete:!1},this.progress={total:0,current:0,percent:0,message:""},this.option={}},getTotalPageNum:function(){return this.loader.pages?this.loader.pages.length||0:0},getPageItem:function(e){if(arguments.length<1)return this.loader.pages;var t=this.loader.pages[e];return t},setPageItem:function(e,t){var n=t||{num:void 0,id:void 0,image:void 0,ext:void 0,fileName:void 0,width:void 0,height:void 0,thumbnail:void 0,_info:void 0};return angular.merge(n,e),n},setSelectAll:function(){var e=this.getTotalPageNum()||0;this.selector.isSelectAll=this.selector.pages.length===e},getSelectPages:function(){return this.selector.pages},selectAllChanged:function(e){for(var t=[],n=this.selector.isSelectAll,i=this.getTotalPageNum(),o=0;i>o;++o){var a=this.getPageItem(o);if(a.selected=n,n){var l=o+1;t.push(l)}}this.selector.pages=t,this.setSelectAll(),e&&e()},setSelectPage:function(e,t,n){var i=t?this._addSelectPage(e):this._removeSelectPage(e);i&&(this.selector.pages.sort(function(e,t){return e-t}),this.setSelectAll(),n&&n())},getSelectorIndex:function(e){var t=this.selector.pages.indexOf(e);return t},_addSelectPage:function(e){var t=this.getPageItem(e-1);t.selected=!0;var n=this.getSelectorIndex(e);return n>-1?!1:(this.selector.pages.push(e),!0)},_removeSelectPage:function(e){var t=this.getPageItem(e-1);t.selected=!1;var n=this.getSelectorIndex(e);return 0>n?!1:(this.selector.pages.splice(n,1),!0)},_notOverriding:function(e){console.error("오버라이딩 되지 않은 메서드 호출 : ",e)},openFileDialogBox:function(e){this._notOverriding("openFileDialogBox")},initDisplayList:function(e){},deleteTempFiles:function(e){function n(t){t&&console.error(t),e()}var i={path:this.TEMP_CONVERT_FOLDER};t.remove(i,null,n)},createThumbnail:function(e,n){function c(t,i){console.log("[ 썸네일 : 종료 ]",i),t&&g.setThumbnailItems(e,i);var o=t?"썸네일이 준비되었습니다.":"썸네일 추출에 실패 하였습니다.";g.progress.message=o,n&&n.onComplete&&n.onComplete(t)}i.open();var s=this.getThumbnailParameters(e),u=s.length;i.progress(0,u,"썸네일 이미지 준비중 입니다.");var d=l.thumbnailSizeRange,p={pages:s,destFolder:this.TEMP_THUMBNAIL_FOLDER,quality:l.thumbnailQuality,density:100,thumbnail:d+"x"+d,onProgress:r},g=this;window[r]=function(t,o,a){console.log("	* 썸네일 : ",a.pageNumber," : ",t,"/",o),i.progress(t,o,"Thumbnail 추출중 입니다."),n&&n.onProgress&&n.onProgress(e)},t.toThumbnail(p,function(e,t){if(delete window[r],e&&console.error(e),t.warn){var n=t.warn;n=n.replace(/\n/g,"<br>"),o.open(n,{isSimple:!1})}var l=t.success;a(function(){i.close(),c(l,t.data)},500)})},getThumbnailParameters:function(e){var t=e.map(function(e){var t=e._info.path;return{num:e.num,image:t,fileName:e.fileName,ext:n.EXT_THUMBNAIL_MASTER}});return t},setThumbnailItems:function(e,t){e.forEach(function(e){var i=t[e.num];e.num!=i.pageNumber&&console.error("# 페이지 번호가 맞지 않습니다."),i.path=i.path.replace(/\\/g,"/");var o=n.noneCachePath(i.path);e.thumbnail={num:i.pageNumber,id:i.id,image:o,ext:i.ext,fileName:i.fileName,width:i.width,height:i.height}})},convertCancel:function(){this._notOverriding("convertCancel")},convertStart:function(e,t){this.progress.message="준비중 입니다.";var n=this.getChangingItems(e);if(n.length<1)return this.progress.message="완료되었습니다.",!1;var i=this;return a(function(){i._callConverter(n,e,t)},500),!0},getChangingItems:function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],o=i-1,a=this.getPageItem(o);this._isChangedFilter(a)||t.push(a)}return t},_isChangedFilter:function(e){return this._notOverriding("_callConverter"),!1},_callConverter:function(e,t,n){this._notOverriding("_callConverter"),this.progress.message="완료되었습니다."},getPageSize:function(e,t){var n=200,i=200;e.forEach(function(e){n=Math.max(n,e.width||0),i=Math.max(i,e.height||0)}),t({width:n,height:i})},getSearchText:function(e,t){var n={};e.forEach(function(e){var t=e.num;n[t]={content:"",pageNumber:t}}),t&&t.onComplete&&t.onComplete(n)}});return c}var t=MODULE.tool.instance;t.factory("ImportPages",e),e.$inject=["$superClass","$externalAPI","FileSystem","$busy","$toast","$timeout","Default"]}(),function(){function e(e){var t=e,n=t.extend("LayerDragNDropService",{isMultiSelecting:!1,isDragging:!1}),i=new n;return i}var t=MODULE.tool.instance;t.service("$layerDragNDrop",e),e.$inject=["DragNDropService"]}(),function(){function e(e,t,n,i,o,a){function l(a,l,r){function c(){var e;if(a.isRoot)e=t.get(a.uid);else{var o=n.get(a.uid),l=o?o.isGroupContainer():"";if(!l)return null;e=i.get(l)}var r=e?e.indexes():null;return r}function s(e,t){if(!e)return[];if(!a.isRoot&&(a.layer.isFold||void 0===a.layer.isFold))return[];t++;var n=e.map(function(e,n){var i={uid:e,depth:t,index:n};return i});return n.reverse(),n}function u(){f(),y=d(),b=m()}function d(){return a.isRoot?null:a.$watch(function(){var e=p();return e},function(e,t){g(),v()},!0)}function p(){var e=n.get(a.uid),t=e?e.layer():null;return t}function g(){a.layer=p()||{};var e=c();a.childIndexes=s(e,a.depth)}function m(){return a.$watch(function(){return e.isMultiSelecting},function(e){a.isMultiSelecting=e,v()})}function v(){if(!a.isMultiSelecting)return void(a.selectable=!0);if(!a.uid)return void(a.selectable=!1);if(a.isMultiSelecting&&a.isRoot||a.layer.isHide||a.layer.isLock)return void(a.selectable=!1);var e=o.get(),t=e?e.currentEditGroup():"",i=n.get(a.uid),l=i.parentGroup();a.selectable=l===t}function f(){y&&y(),b&&b(),a.isGroup=a.isRoot||!1,a.childIndexes=[],a.layer={}}if(a.uid){a.isRoot="root"===r.jjLayer,f();var h,y,b;!function(){h=a.$watchCollection(function(){var e=c();return e},function(e){u(),a.isGroup=a.isRoot?!0:Boolean(e),g()})}(),a.$on("$destroy",function(){h(),f()})}}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"layer/jj-layer.html",replace:!0,scope:{uid:"@",index:"@",depth:"@"},controller:l}}var t=MODULE.tool.instance;t.directive("jjLayer",e),e.$inject=["$layerDragNDrop","$documents","$elements","$groups","$selects","$key"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u){function d(d,p,g){function m(){if(M.isGroup){var e=n.get(d.uid),t=e.layer("isFold");e.layer("isFold",!t),l.execute({ignoreCapture:!0})}}function v(){function e(e,t){if(!e||t===e)return!0;for(;t;){if(t===e)return!0;var i=a.get(t),o=i.value("owner"),l=n.get(o);t=l.parentGroup()}return!1}var t=i.get(),o=t.get();if(o&&!(o.length<1)){var l=t.currentEditGroup(),r=n.get(d.uid),c=r.parentGroup();if(l===c){var s=o.indexOf(d.uid);if(0>s)return;o.splice(s,1)}else{var u=r.isGroupContainer();if(!u)return;var p=e(u,l);if(!p)return;o=[]}return o}}function f(){var e=d.uid,t=n.get(e),i=!t.layer("isLock"),o={layer:{isLock:i}},a=i?v():null;y(e,o,a)}function h(){var e=d.uid,t=n.get(e),i=!t.layer("isHide"),o={layer:{isHide:i}},a=i?v():null;y(e,o,a)}function y(e,n,i){var o={document:t.uid(),elements:[{element:e,data:n}]};void 0!==i&&(o.selects=i),c.modifyElement(o)}function b(){var e=p.find("[labelEditor]");return e}function x(t){if(!d.isRoot){var n=d.uid;if(!t)return j(),C(d.dragId),S(d.dropId),e.disable(n,!1),s(function(){d.contenteditable=!1}),void d.$applyAsync();C(),S(),e.disable(n,!0),d.contenteditable=!0,s(function(){var e=b();e[0].focus(),$(e)}),d.$applyAsync()}}function w(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),d.onBlur()),d.$applyAsync()}function j(){var e=d.uid,t=n.get(e),i=t.name();if(!d.item.name)return void(d.item.name=i);if(i!==d.item.name){console.log("# 이름 수정 : ",i,"-->",d.item.name);var o={name:d.item.name};y(e,o)}}function $(e){var t=e[0];t.setSelectionRange(0,t.value.length)}function C(t){t?(p.attr("draggable","true"),e.addDragEvent(d.uid,{id:t,element:p,dragStart:k,dragEnd:_,ghostSort:function(e){e=u.sort(e),e.reverse()},ghostName:"layer-ghost-container"})):(p.attr("draggable","false"),e.removeDragEvent(d.uid))}function k(t,n){var o=i.get();n.selects=M.selected?o.get():[d.uid],n.ghostOffset={x:-(20*M.depth+40)},e.isDragging=!0,d.$applyAsync()}function _(t,n){E(),e.isDragging=!1,d.$applyAsync()}function E(){d.isDragOver=!1,d.dropDirection=null}function S(t){t?e.addDropEvent(d.uid,{id:t,element:p,dragEnter:I,dragOver:D,dragLeave:T,drop:A}):e.removeDropEvent(d.uid)}function I(e,t){d.$applyAsync()}function D(e,t){var n=e.offsetY;e.target!==p[0]&&(n+=angular.element(e.target).position().top);var i=d.isRoot?"bottom":n<p.height()/2?"top":"bottom",o=L(i,t);o&&(t.index=o.index,t.group=o.group,t._groupName=o._groupName),d.dropDirection=o&&void 0!==o.index?i:null,d.isDragOver=!0,d.$applyAsync()}function T(e,t){delete t.index,delete t.group,delete t._groupName,E(),d.$applyAsync()}function A(e,t){O(t),E(),d.$applyAsync()}function L(e,i){if(e){var o,l;if(d.isRoot)l="",o=t.get().getNoneCopyValue("indexes").length;else{var r=n.get(d.uid),c=r.isGroupContainer(),s=r.parentGroup(),u=c||s;if(u){for(var p=i.selects,g=p.map(function(e){var t=n.get(e).isGroupContainer();return t}),m=!1;u;){if(g.indexOf(u)>-1){m=!0;break}var v=a.get(u),f=v.value("owner"),r=n.get(f);u=r.parentGroup()}if(m)return}if(c)if("top"==e)l=s,o="top"==e?M.index+1:M.index;else{l=c;var h=a.get(c);o=h.getNoneCopyValue("indexes").length}else l=s,o="top"==e?M.index+1:M.index}return{index:o,_groupName:l?n.get(a.get(l).value("owner")).name():"Document",group:l}}}function O(e){void 0!==e.index&&c.changeIndexedPosition({document:t.uid(),selects:e.selects,group:e.group,index:e.index})}d.tabWidth=o.treeTabWidth;var M={uid:d.uid,index:Number(d.index),depth:Number(d.depth)};if(d.isRoot)M.type="mask",M.name="Document",M.groupUID="",M.isGroup=!0,M.selected=!1;else{var U=n.get(d.uid);M.type=U.type(),M.name=U.name(),M.groupUID=U.isGroupContainer(),M.isGroup=Boolean(M.groupUID),M.selected=!1}d.item=M;var P;M.isGroup&&(P=d.$watch(function(){var e=i.get(),t=e?e.currentEditGroup():"";return t},function(e,t){d.isEditGroup=M.groupUID===e}));var B,R;d.isRoot||(B=d.$watch(function(){var e=n.get(d.uid);return e?e.name():""},function(e,t){M.name=e},!0)),R=d.$watch(function(){if(d.isRoot){var e=i.get();if(!e)return!1;var t=e.get().length,o=e.currentEditGroup();return!o&&0==t}var a=n.get(d.uid);return a?a.getNoneCopyValue("selected"):!1},function(e,t){M.selected=e}),d.onClick_visibleButton=function(){h()},d.onClick_foldButton=function(){m()},d.onClick_lockButton=function(){f()},d.onClick_label=function(e){if(!r.checkInputbox(document.activeElement)&&(e.preventDefault(),!d.layer.isHide&&!d.layer.isLock)){var n=e.ctrlKey&&!e.altKey&&!e.shiftKey,o=d.uid,a=t.uid(),l=i.get().get(),s=d.item.selected;if(d.isRoot){if(s)return;if(n)return;l&&l.length>0?c.selectElement({document:a,selects:[]}):c.moveEditGroup({document:a,group:""})}else{if(n)if(s){var u=l.indexOf(o);l.splice(u,1)}else l.push(o);else l=d.isRoot?[]:[o];c.selectElement({document:a,selects:l||[]})}}},d.contenteditable=!1,d.onDblclick_label=function(e){e.stopPropagation(),x(!0)},d.onClick_editButton=function(e){e.stopPropagation(),x(!0)},d.onFocus=function(e){var t=b();t.on("keydown",w)},d.onBlur=function(e){var t=b();t.off("keydown",w),x(!1)},d.$on("$destroy",function(){P&&P(),B&&B(),R&&R(),C(),S(),e.disable(d.uid,!0),d.contenteditable=!1}),d.dragId=d.isRoot?"":g.dragId,e.create(d.uid),C(d.dragId),d.isDragOver=!1,d.dropDirection=null,d.dropId=g.dropId,S(d.dropId)}return d.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"layer/jj-layer-item.html",replace:!0,scope:!1,controller:d}}var t=MODULE.tool.instance;t.directive("jjLayerItem",e),e.$inject=["$layerDragNDrop","$documents","$elements","$selects","Default","$groups","$autoBackup","$key","$commandController","$timeout","$mask"]}(),function(){function e(e,t,n,i,o,a){function l(a,l,r){function c(e,t){if(!e)return[];t++;var n=e.map(function(e,n){var i={uid:e,depth:t,index:n};return i});return n.reverse(),n}function s(){g(),v=u(),f=d()}function u(){return a.isRoot?null:a.$watch(function(){var e=n.get(a.uid),t=e?e.layer():null;return t},function(e,t){a.layer=e||{},p()},!0)}function d(){return a.$watch(function(){return e.isMultiSelecting},function(e){a.isMultiSelecting=e,p()})}function p(){if(!a.isMultiSelecting)return void(a.selectable=!0);if(!a.uid)return void(a.selectable=!1);if(a.isMultiSelecting&&a.isRoot||a.layer.isHide||a.layer.isLock)return void(a.selectable=!1);var e=o.get(),t=e?e.currentEditGroup():"",i=n.get(a.uid),l=i.parentGroup();a.selectable=l===t}function g(){v&&v(),f&&f(),a.isGroup=a.isRoot||!1,a.childIndexes=[],a.layer={}}if(a.uid){a.isRoot="root"===r.jjLayer,g();var m,v,f;!function(){a.isRoot&&(m=a.$watchCollection(function(){var e=t.get(a.uid),n=e?e.indexes():null;return n},function(e){s(),a.isGroup=!0,a.childIndexes=c(e,a.depth)}))}(),function(){a.isRoot||(m=a.$watchCollection(function(){var e=n.get(a.uid),t=e?e.isGroupContainer():"";if(!t)return null;var o=i.get(t),l=o?o.indexes():null;return l},function(e){s(),a.isGroup=Boolean(e),a.childIndexes=c(e,a.depth)}))}(),a.$on("$destroy",function(){m(),g()})}}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"layer/jj-layer.html",replace:!0,scope:{uid:"@",index:"@",depth:"@"},controller:l}}var t=MODULE.tool.instance;t.directive("__jjLayer",e),e.$inject=["$layerDragNDrop","$documents","$elements","$groups","$selects","$key"]}(),function(){function e(e,t,n,i,o,a,l){function r(e){return Number(e.toFixed(0))}function c(){}return c.prototype={_parentSize:function(e){var o,a=n.get(e);if(a){var l=a.parentGroup();if(l){var r=i.get(l),c=n.get(r.value("owner"));return o=c.css()}}return o=t.get().getNoneCopyValue("paper")},move:function(e,t){var n="function"==typeof e.css?e.css():e.css;this._limitCheck(n,t);var i,o,a,l,c="function"==typeof e.uid?e.uid():e.uid,s="function"==typeof e.layout?e.layout():e.layout,u=this._parentSize(c);i=n.left,s.width?(l=n.width,a=u.width-(i+l),o=i+l/2-u.width/2):(a=n.right-t.x,l=u.width-(i+a),o=i+l/2-u.width/2);var d,p,g,m;return d=n.top,s.height?(m=n.height,g=u.height-(d+m),p=d+m/2-u.height/2):(g=n.bottom-t.y,m=u.height-(d+g),p=d+m/2-u.height/2),n.left=r(i),n.center=r(o),n.right=r(a),n.top=r(d),n.middle=r(p),n.bottom=r(g),n.width=r(l),n.height=r(m),n},_limitCheck:function(n,i){var o=e.get().getNoneCopyValue("selector");if(o.positionLimit){var a=t.get().value("paper"),l=n.left+i.x,r=n.top+i.y,c=n.width,s=n.height,u=c+o.offset.x,d=s+o.offset.y,p=-u,g=-d,m=a.width-c+u,v=a.height-s+d;p>l&&(l=p),l>m&&(l=m),g>r&&(r=g),r>v&&(r=v),n.left=l,n.top=r}},resize:function(e,t){var n=e.option(),i=n._$$flexibleSize,o=e.css(),a={w:t.width-o.width,h:i?0:t.height-o.height,x:t.left-o.left,y:i?0:t.top-o.top};this._limitCheck(o,a);var l=e.uid(),c=this._parentSize(l);o.width=t.width,i||(o.height=t.height),o.transform&&(o.transform.angle=t.transform.angle);var s,u,d,p;s=o.left,p=o.width,d=c.width-(s+p),u=s+p/2-c.width/2;var g,m,v,f;return g=o.top,f=o.height,v=c.height-(g+f),m=g+f/2-c.height/2,o.left=r(s),o.center=r(u),o.right=r(d),o.top=r(g),o.middle=r(m),o.bottom=r(v),o.width=r(p),o.height=r(f),o},layoutChange:function(e,t,i,o){var a=n.get(t),l=a.isFlexibleSize(),r=this._parentSize(t);"center"===e?(o.center&&(o.right=!1,i&&(i.center=i.left+i.width/2-r.width/2)),o.left=!o.center,o.width=!0):"left"===e?(o.left?o.center=!1:o.left=!o.center&&!o.right,o.width=!o.left||!o.right):"right"===e?(o.right?(o.center=!1,i&&(i.right=r.width-(i.left+i.width))):o.left=!o.center,o.width=!o.left||!o.right):"middle"===e?(o.middle&&(o.bottom=!1,i&&(i.middle=i.top+i.height/2-r.height/2)),o.top=!o.middle,o.height=!0):"top"===e?(o.top&&l&&(o.bottom=!1),o.top?o.middle=!1:o.top=!o.middle&&!o.bottom,o.height=!o.top||!o.bottom):"bottom"===e&&(o.bottom&&l&&(o.top=!1),o.bottom?(o.middle=!1,i&&(i.bottom=r.height-(i.top+i.height))):o.top=!o.middle,o.height=!o.top||!o.bottom)},valueChange:function(e,t,i,o){var a=n.get(t),l=a.isFlexibleSize(),r=this._parentSize(t);"center"===e?(i.left=(r.width-i.width)/2+i.center,i.right=r.width-(i.left+i.width)):"left"===e?(o.left&&o.right&&(i.width=r.width-(i.left+i.right)),i.center=i.left+i.width/2-r.width/2,i.right=r.width-(i.left+i.width)):"right"===e?(o.left&&o.right&&(i.width=r.width-(i.left+i.right)),i.left=r.width-(i.right+i.width),i.center=i.left+i.width/2-r.width/2):"middle"===e?(i.top=(r.height-i.height)/2+i.middle,i.bottom=r.height-(i.top+i.height)):"top"===e?(o.top&&o.bottom&&(l||(i.height=r.height-(i.top+i.bottom))),i.middle=i.top+i.height/2-r.height/2,i.bottom=r.height-(i.top+i.height)):"bottom"===e&&(o.top&&o.bottom&&(l||(i.height=r.height-(i.top+i.bottom))),i.top=r.height-(i.bottom+i.height),i.middle=i.top+i.height/2-r.height/2)},sizeChanged:function(e,t,i,o){var a=n.get(t),l=a.isFlexibleSize(),r=this._parentSize(t);"width"===e?o.left&&o.right?i.width=r.width-(i.left+i.right):o.left?(i.center=i.left+i.width/2-r.width/2,i.right=r.width-(i.left+i.width)):o.right?(i.left=r.width-(i.right+i.width),i.center=i.left+i.width/2-r.width/2):(i.left=(r.width-i.width)/2+i.center,i.right=r.width-(i.left+i.width)):"height"===e&&(o.top&&o.bottom?l||(i.height=r.height-(i.top+i.bottom)):o.top?(i.middle=i.top+i.height/2-r.height/2,i.bottom=r.height-(i.top+i.height)):o.bottom?(i.top=r.height-(i.bottom+i.height),i.middle=i.top+i.height/2-r.height/2):(i.top=(r.height-i.height)/2+i.middle,i.bottom=r.height-(i.top+i.height)))},positionChanged:function(e,t,i,o){var a=n.get(t),l=a.isFlexibleSize(),r=this._parentSize(t);"left"===e?(o.left&&o.right&&(i.width=r.width-(i.left+i.right)),o.right?i.center=i.left+i.width/2-r.width/2:(i.center=i.left+i.width/2-r.width/2,i.right=r.width-(i.left+i.width))):"top"===e&&(o.top&&o.bottom&&(l||(i.height=r.height-(i.top+i.bottom))),o.bottom?i.middle=i.top+i.height/2-r.height/2:(i.middle=i.top+i.height/2-r.height/2,i.bottom=r.height-(i.top+i.height)))},_refreshChildLayout:function(e){if(e){var t=this;e.forEach(function(e){var o=n.get(e),a=o.$$_original.state.normal,l=a.css,r=o.layout(),c=!1;if((r.right||r.width)&&(r.width?(t.sizeChanged("width",e,l,r),t.positionChanged("left",e,l,r)):(t.positionChanged("left",e,l,r),t.sizeChanged("width",e,l,r)),o.isChanged(!0),c=!0),(r.bottom||r.height)&&(r.height?(t.sizeChanged("height",e,l,r),t.positionChanged("top",e,l,r)):(t.positionChanged("top",e,l,r),t.sizeChanged("height",e,l,r)),o.isChanged(!0),c=!0),c){var s=o.isGroupContainer();if(s){var u=i.get(s),d=u.getNoneCopyValue("indexes");t._refreshChildLayout(d)}}})}},groupSizeChange:function(e){var t=n.get(e),o=t.isGroupContainer();if(o){var a=i.get(o),l=a.getNoneCopyValue("indexes");this._refreshChildLayout(l)}},paperSizeChange:function(){var e=o.getDatas();for(var t in e){var n=o.get(t),i=n?n.getNoneCopyValue("indexes"):[];this._refreshChildLayout(i)}a.reset(),l.message("Undo/Redo 내역이 초기화되었습니다.")},getStyle:function(e,t,n){n=this._checkDefaultLayout(n),t=this.resetCssByLayoutOption(e,t,n);var i={left:n.left||n.center?t.left:void 0,right:n.right?t.right:void 0,top:n.top||n.middle?t.top:void 0,bottom:n.bottom?t.bottom:void 0,width:n.width?t.width:void 0,height:n.height?t.height:void 0};return i},_checkDefaultLayout:function(e){return e=e||{},e.left||e.center||e.right||(e.left=!0,e.width=!0),e.top||e.middle||e.bottom||(e.top=!0,e.height=!0),e},resetCssByLayoutOption:function(e,t,n){var i=this._parentSize(e);return n=this._checkDefaultLayout(n),n.center&&void 0!==t.center&&(t.left=(i.width-t.width)/2+t.center),n.middle&&void 0!==t.middle&&(t.top=(i.height-t.height)/2+t.middle),n.width?(this.sizeChanged("width",e,t,n),this.positionChanged("left",e,t,n)):(this.positionChanged("left",e,t,n),this.sizeChanged("width",e,t,n)),n.height?(this.sizeChanged("height",e,t,n),this.positionChanged("top",e,t,n)):(this.positionChanged("top",e,t,n),this.sizeChanged("height",e,t,n)),t},refresh:function(e){function t(e){var t=i.get(e).value("owner"),o=n.get(t);["normal","over","down"].forEach(function(e){a(o,e)}),l.groupSizeChange(t)}function o(e){for(var t in e){var i=e[t],o=n.get(i);["normal","over","down"].forEach(function(e){a(o,e)});var r=o.isGroupContainer();r&&l.groupSizeChange(i)}}function a(e,t){var n=e.uid(),i=e.layout(t),o=e.css(t),a=e.$$_original.state[t];a.css=l.resetCssByLayoutOption(n,o,i)}var l=this,r=i.isMaskElement(e);r?t(r):o(e)}},new c}var t=MODULE.tool.instance;

t.factory("$layout",e),e.$inject=["$applications","$projects","$elements","$groups","$documents","$history","$toast"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d){function p(e,i,o){function a(){if(!e.uid)return void(e.isFlexibleSize=!1);var n=t.get(e.uid),i=n.isFlexibleSize();e.isFlexibleSize=i}function l(t){if(!e.uid||!t)return e.css={},e.display={},void(e.offset={});var n=r(t);e.display=d(t,n),e.offset=n,e.css=t,e.$applyAsync()}function r(t){var n=0,i=0,o=0,a=0,l=0,r=t.transform?t.transform.angle||0:0;if(0!==r){var c=u.getRotatedBoundary([e.uid],!1);n=c.left-t.left,i=c.top-t.top,l=r-Math.round(r)}var s=t.transform?t.transform.scale||1:1,d=s-Math.ceil(100*s)/100,p={center:0,middle:0,left:n,right:n,top:i,bottom:i,angle:l,scale:d,width:o,height:a};return p}function d(e,t){var n={};for(var i in t)if("angle"===i){var o=e.transform?e.transform.angle||0:0;n.angle=Math.round(o+t.angle)}else if("scale"===i){var a=e.transform?e.transform.scale||1:1;a+=t.scale,a=Math.ceil(100*a)/100,n.scale=Math.ceil(100*a)}else n[i]=Math.round(e[i]+t[i])||0;return n}function p(t){var n,i,o=e.css,a=e.offset,l=e.display;if("angle"===t?(n=o.transform.angle||0,i=Math.round(n+a.angle)):"scale"===t?(n=o.transform.scale||1,n+=a.scale,n=Math.ceil(100*n)/100,i=100*n):(n=o[t],i=Math.round(n+a[t])||0),!e.form_css[t].$valid)return l[t]=i;var r=l[t]-i;"angle"===t?(n+=r,e.css.transform.angle=n):"scale"===t?(n=100*n+r,e.css.transform.scale=n/100):(n+=r,e.css[t]=n)}function g(t){p(t),"scale"===t||"angle"===t?m(t):(s.valueChange(t,e.uid,e.css,e.layout),v())}function m(i){var o={};o[i]=e.css.transform[i];var a={};a[e.status.state]={css:{transform:o}};var l={document:n.uid(),elements:[{element:e.uid,data:{state:a}}]};c.modifyElement(l,function(){var n=t.get(e.uid);"angle"===i?n.tempdata("liveAngle_fromInputBox",void 0):"scale"===i&&n.tempdata("liveScale_fromInputBox",void 0),e.$applyAsync()})}function v(){if(e.uid){var t=e.layout,i=e.css,o={};o[e.status.state]={css:{left:i.left,center:i.center,right:i.right,top:i.top,middle:i.middle,bottom:i.bottom,width:i.width,height:i.height},option:{layout:{left:t.left?t.left:!1,center:t.center?t.center:!1,right:t.right?t.right:!1,top:t.top?t.top:!1,middle:t.middle?t.middle:!1,bottom:t.bottom?t.bottom:!1,width:t.width?t.width:!1,height:t.height?t.height:!1}}};var a={document:n.uid(),elements:[{element:e.uid,data:{state:o},layoutUpdate:!0}]};c.modifyElement(a,function(){e.$applyAsync()})}}e.layout={},e.display={},e.offset={},e.css={},e.$on("$destroy",function(){f(),h(),y(),b()});var f=e.$watch("uid",function(n,i){var o;if(n){var r=t.get(e.uid);o=r.css()}l(o),a()}),h=e.$watch(function(){if(!e.uid)return null;var n=t.get(e.uid);if(!n)return null;var i=n.tempdata("liveMove_fromKey");return i?i.css:n.css()},function(e,t){l(e)},!0),y=e.$watch(function(){if(!e.uid)return null;var n=t.get(e.uid);return n?n.layout():null},function(t,n){e.layout=t||{}},!0);e.isFlexibleSize=!1,e.onLayoutUpdate=function(t){s.layoutChange(t,e.uid,e.css,e.layout),v()},e.onLiveUpdate=function(n){var i,o=t.get(e.uid);"angle"===n?(p(n),i=e.css.transform[n],o.tempdata("liveAngle_fromInputBox",i)):"scale"===n&&(p(n),i=e.css.transform[n],o.tempdata("liveScale_fromInputBox",i)),e.$applyAsync()},e.onKeyup=function(e,t){13===t.keyCode&&document.activeElement.blur()};e.onFocus=function(){},e.onBlur=function(e){g(e)};var b=e.$watch(function(){if(e.uid){var n=t.get(e.uid),i=n?n.tempdata("liveAngle_fromUI"):void 0;return i}},function(t,n){void 0!==t&&(e.display.angle=Math.round(t+e.offset.angle))})}return p.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"layout/jj-box-layout.html",replace:!0,scope:!1,controller:p}}var t=MODULE.tool.instance;t.directive("jjBoxLayout",e),e.$inject=["$selects","$elements","$documents","$applications","$device","$document","$projects","$groups","$commandController","$layout","$mask","$rootScope"]}(),function(){function e(){return{restrict:"EA",templateUrl:"layout/jj-layout-position.html",replace:!0,scope:!1}}var t=MODULE.tool.instance;t.directive("jjLayoutPosition",e)}(),function(){function e(){return{restrict:"EA",templateUrl:"layout/jj-layout-size.html",replace:!0,scope:!1}}var t=MODULE.tool.instance;t.directive("jjLayoutSize",e)}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(i,o,a){function r(){if(!i.uid)return i.status={protect:!1},void(i.stateSelectVisible=!1);var e=t.get(i.uid);if(!e)return i.status={protect:!1},void(i.stateSelectVisible=!1);s();var n=e.value("type");i.stateSelectVisible=!(n===l.HTML||n===l.WEB)}function s(){i.status.protect="over"===i.status.state?!i.status.overStateEnabled:"down"===i.status.state?!i.status.downStateEnabled:!1}i.status={protect:!1,state:"",overStateEnabled:!1,downStateEnabled:!1};var u=i.$watch(function(){var t=e.get();return t?t.isSingleSelected()||"":""},function(e,t){i.uid!==e&&(i.uid=e,r())}),d=i.$watch(function(){if(!i.uid)return"";var e=t.get(i.uid),n=e?e.value("currentState"):"";return n},function(e,t){i.status.state=e,r()}),p=i.$watch(function(){if(!i.uid)return!1;var e=t.get(i.uid),n=e?e.value("overStateEnabled"):!1;return n},function(e,t){i.status.overStateEnabled=e,r()}),g=i.$watch(function(){if(!i.uid)return!1;var e=t.get(i.uid),n=e?e.value("downStateEnabled"):!1;return n},function(e,t){i.status.downStateEnabled=e,r()});i.stateChange=function(e){if(i.uid){var t={document:n.uid(),elements:[{element:i.uid,data:{currentState:i.status.state}}]};c.modifyElement(t)}},i.stateEnableChanged=function(e){function o(e){if(!e)return!0;for(var t in e)return!1;return!0}if(i.uid){var a=i.uid,l=t.get(a);if(l){var r,s,u={};if("over"==e)r="overStateEnabled",s=i.status.overStateEnabled;else{if("down"!=e)return;r="downStateEnabled",s=i.status.downStateEnabled}u[r]=s;var d={},p=l.value("state"),g=o(p[e].css)||o(p[e].option)||o(p[e].style);if(s&&g){var m=p[e],v=p.normal;o(m.css)&&(m||(m={}),m.css=angular.copy(v.css)),o(m.style)&&(m||(m={}),m.style=angular.copy(v.style)),o(m.option)&&(m||(m={}),m.option=angular.copy(v.option)),d[e]=m,u.state=d}var f={document:n.uid(),elements:[{element:a,data:u}]};c.modifyElement(f)}}},i.$on("$destroy",function(){u(),d(),p(),g()}),i.getCurrentPropertyValue=function(e,n,i){if(e){var o=t.get(e),a=o?o[n]()||{}:{};return a[i]}},i.submit=function(e,i,o,a){var l={};l[o]={},l[o][a]=i[o][a];var r=t.get(e),s=r.value("currentState"),u={};u[s]=l;var d={document:n.uid(),elements:[{element:e,data:{currentState:s,state:u},layoutUpdate:!0}]};c.modifyElement(d,function(){console.log("# 변경된 속성 submit 완료")})}}return u.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"layout/jj-layout-tool.html",replace:!0,scope:{},controller:u}}var t=MODULE.tool.instance;t.directive("jjLayoutTool",e),e.$inject=["$selects","$elements","$documents","$applications","$device","$document","ElementType","$compile","$commandController","$propertyManager"]}(),function(){function e(){return{restrict:"EA",templateUrl:"layout/jj-layout-transform.html",replace:!0,scope:!1}}var t=MODULE.tool.instance;t.directive("jjLayoutTransform",e)}(),function(){function e(e,t,n,i){function o(e){this._uid=e}return o.prototype={_uid:void 0,uid:function(){return this._uid},_instance:void 0,get:function(){return this._instance},set:function(t,n){n=n||{};var i=angular.merge({},e.codeEditor.commonSetting,e.codeEditor.etc,n);this._instance=CodeMirror.fromTextArea(t,i);var o=this;this.addKeys({"Ctrl-B":function(e){o._toggleEnableToButton()}})},addKeys:function(e){var t=this._instance.getOption("extraKeys");t=angular.extend(t,e),this._instance.setOption("extraKeys",t)},destroy:function(){this._removeToButtonEvent(),this._updateDelayID&&(clearTimeout(this._updateDelayID),this._updateDelayID=null),this._markers={},this._markerOption={},this._markerParent=null,this._eventConfig=null,this._instance.off("change",angular.bind(this,this.onCodeChange)),this._instance=null},autoFormatSelection:function(){var e=this._instance,t=e.lineCount();e.autoFormatRange({line:0,ch:0},{line:t})},_toButtonEnable:!1,_markers:{},_markerOption:{},_markerParent:null,_eventConfig:null,_toggleEnableToButton:function(e){this._toButtonEnable=!this._toButtonEnable,this._updateButton()},toButton:function(e){e=e||{},e.parent&&(this._markerParent=e.parent,delete e.parent,e.className=e.className||"uid-button-style",this._eventConfig={type:e.eventName,handler:e.eventHandler},delete e.eventHandler,this._markerOption=angular.merge({regexp:/\b([a-z]+)-.{8}-.{4}-4.{3}-.{4}-.{12}\b/,attr:'class="'+e.className+'"'},e),this._updateButton(),this._instance.on("change",angular.bind(this,this.onCodeChange)))},onCodeChange:function(e,t){this._toButtonEnable&&this._updateButton()},_updateDelayID:null,_updateButton:function(){function e(){t._removeToButtonEvent();for(var e,i=t._markerOption.regexp,o=t._markerOption.attr,a={},l=0,r=n.getSearchCursor(i,0,a);e=r.findNext();){var c=r.from(),s=r.to(),u=angular.element("<span "+o+">"+e[0]+"</span>"),d="marker-"+l++;u.attr("marker-id",d);var p=n.markText(c,s,{replacedWith:u[0]});t._markers[d]=p}t._addToButtonEvent(),t._updateDelayID=null}if(this._updateDelayID&&clearTimeout(this._updateDelayID),!this._toButtonEnable)return this._removeToButtonEvent(),void(this._updateDelayID=null);var t=this,n=this._instance;this._updateDelayID=setTimeout(function(){e()},100)},_addToButtonEvent:function(){var e="."+this._markerOption.className,t=this._eventConfig.type;t&&angular.element(this._markerParent).find(e).on(t,angular.bind(this,this._toButtonHandler))},_removeToButtonEvent:function(){for(var e in this._markers)this._markers[e].clear();this._markers={};var t="."+this._markerOption.className,n=this._eventConfig.type;n&&angular.element(this._markerParent).find(t).off(n,angular.bind(this,this._toButtonHandler))},_toButtonHandler:function(e){var t=this._eventConfig.handler;if(t){var n=angular.element(e.currentTarget),i=n.text(),o=n.attr("marker-id"),a=this._markers[o],l=a.find(),r=this._instance.getSearchCursor(i,l.from),c=r.findNext();c&&t(e,function(e){e&&(console.log("# code editor 처리 : ",e),e.replace&&(r.replace(e.replace),a.changed()))})}}},{_map:{},set:function(e,n,i){var a=i||t.createUID(),l=new o(a);return l.set(e,n),this._map[a]=l,l},get:function(e){return this._map[e]},destroy:function(e){var t=this._map[e];delete this._map[e],t&&t.destroy()},openKeymap:function(){n.open("",{template:"toast-code-editor-keymap-info.html",isSimple:!1,className:"code-editor-keymap-info",hasBackdrop:!0,clickBackdropToClose:!0,delay:0,position:"right bottom"}).then(function(e){})},openExplorerPopup:function(e,t){var e=angular.merge({style:{},options:{selectAndClose:!0},clickOutsideToClose:!0,filters:{selectable:"group element asset",display:"group element asset"}},e||{});i.openDroplist(e,function(e,n){e||t&&t(n)})}}}var t=MODULE.tool.instance;t.service("$codeEditor",e),e.$inject=["Default","$util","$toast","$explorerPopup"]}(),function(){function e(e,t,n,i,o,a,l){function r(){var r=400;return function(c,s,u){function d(i){w=t.set(s.find("#code")[0],n.codeEditor[i.mode]),w.toButton({parent:s,eventName:"click",eventHandler:h});var o=w.get();o.setOption("placeholder",j),g(i.value),o.getDoc().clearHistory(),c.isSaved=!0,i.read?(e.open({delay:r,message:"내용을 로드합니다."}),i.read(function(t){i.value=t||"",g(i.value),o.getDoc().clearHistory(),e.close(),c.isSaved=!0,o.on("changes",p),c.$applyAsync()})):o.on("changes",p),w.addKeys({"Ctrl-S":function(e){c.save()}}),c.$applyAsync()}function p(){c.isSaved=!1,f(m()),c.$applyAsync()}function g(e){e=e||"",w.get().setValue(e),c.$applyAsync(function(){f(e)})}function m(e){return arguments.length<1&&(e=w.get().getValue()),e=e||""}function v(){var e=c.config.value||"",t=m();return e!==t}function f(e){if(c.config.codeTest){var t=c.config.test,n=t.tester;if(!n){var i=c.config.mode;"html"===i||"htmlmixed"===i?n=o:"css"===i?n=a:"js"===i&&(n=l)}if(!n)return void(c.showLog={line:-1,log:"",code:"",open:!1});var r=t?t.options||{}:{},s=n.run(e,r);s.open=Boolean(s&&s.log||t.description&&t.description.length>0),c.showLog=s,c.$applyAsync(function(){c.showLog.log&&console.warn("# 구문 검사 경고 : ",c.showLog)})}}function h(e,n){var i=angular.element(e.currentTarget),o=i.text(),a={style:{left:e.clientX,top:e.clientY},selects:[o]};t.openExplorerPopup(a,function(e){if(e[0]){var t=e[0];n&&n({replace:t.target})}})}function y(t,n){return f(t.value),!c.config.write||c.isSaved?void(n&&n()):v()?(c.isSaved=!0,e.open({delay:r,message:t.message||"내용을 저장합니다."}),c.config.write(t.value||"",function(t){e.close(),n&&n()}),void c.$applyAsync()):void(n&&n())}function b(){c.showLog.log&&i.message("잘못된 구문이 있습니다.<br>편집창에서 Error 내용을 확인하세요."),x()}function x(){if(c.config=null,c.showLog={},w){var e=w.get();e.off("changes",p),t.destroy(w.uid())}w=null}c.config.id=c.config.id||"CodeEditorDialogBox",c.config.title=c.config.title||"내용 편집",c.config.yes=c.config.yes||"확인",c.config.no=c.config.no||"취소",c.config.save=c.config.write?c.config.save||"저장":"",c.config.codeTest&&!c.config.test&&(c.config.test={});var w,j=c.config.placeholder||"Content goes here...";d(c.config),c.showLog={line:-1,log:"",code:"",open:!1},c.openEditorKeymap=function(){t.openKeymap()},c.enterKey=c.close=function(){var e=m();c.save(function(){b(),c.callback(null,e)}),c.$applyAsync()},c.save=function(e){y({message:"내용을 저장합니다.",value:m()},e)},c.escKey=c.cancel=function(){c.isSaved=!1,y({message:"편집된 내용을 취소합니다.",value:c.config.value||""},function(){b(),c.callback(null),c.$applyAsync()})},c.$on("$destroy",function(){x()})}}return{restrict:"EA",templateUrl:"popup/jj-code-editor-dialog-box.html",replace:!0,scope:!1,compile:r}}var t=MODULE.tool.instance;t.directive("jjCodeEditorDialogBox",e),e.$inject=["$busy","$codeEditor","Default","$toast","$test_html","$test_css","$test_js"]}(),function(){function e(e,t){function n(){return function(n,i,o){function a(e){var n={value:"",placeholder:""};d=angular.extend({},t.codeEditor[e.type],{readOnly:e.readOnly}),p=angular.extend({},n,e),l()}function l(){if(g){var t=g.get();return t.setOption("placeholder",p.placeholder),t.setValue(p.value),void t.getDoc().clearHistory()}g=e.set(i.find("textarea")[0],d,n.uid),g.toButton({parent:i,eventName:"click",eventHandler:c});var t=g.get();t.setOption("placeholder",p.placeholder),t.setValue(p.value),t.getDoc().clearHistory(),t.on("changes",r),g.addKeys({"Ctrl-S":function(e){s()},"Ctrl-R":function(e){s()},F12:function(e){}})}function r(){var e=n.config.type,t=g.get().getValue();n.changed({type:e,result:t}),n.$applyAsync()}function c(t,n){var i=angular.element(t.currentTarget),o=i.text(),a={style:{left:t.clientX,top:t.clientY},selects:[o]};e.openExplorerPopup(a,function(e){if(e[0]){var t=e[0];n&&n({replace:t.target})}})}function s(){var e=n.config.type,t=g.get().getValue();n.save({type:e,result:t})}function u(){if(m(),n.config=null,g){var t=g.get();t.off("changes",r),e.destroy(g.uid())}g=null}var d,p,g,m=n.$watch("config",function(e){e&&a(e)},!0);n.$on("$destroy",function(){u()})}}return{restrict:"EA",template:'<textarea style="min-height: 50px; opacity: 0;"></textarea>',scope:{uid:"@",config:"=",save:"&?",changed:"&?"},compile:n}}var t=MODULE.tool.instance;t.directive("jjCommonEditor",e),e.$inject=["$codeEditor","Default"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){function v(){return function(i,o,a){function l(e){m.power=e}function r(){var e=o.find("#editor")[0],t=e.contentWindow;return t}function c(){var e=r(),t=e.$$getData();return t}function u(e){var t=r();t.$$setData(e||[])}function d(){var e=t.get().value("navigation");console.log("# 편집할 데이터 : ",e),o.find("#editor").on("load",function(){x=!0,console.log("# 편집기 로드 완료"),u(e)})}function v(){f()}function f(){l(!0),i.config=null}function h(e){function t(e){if(e&&!(e.length<1)){var n=e.children().filter("ol"),i=n.length;if(!(1>i)){for(var o=[],l=0;i>l;++l)for(var r=angular.element(n[l]),c=r.children().filter("li"),s=0;s<c.length;++s){var u=angular.element(c[s]),d=u.children().filter("a"),p={pageNum:u.attr("page")||void 0,title:d.text()||"",_tree:{folder:!1,key:"_"+ ++a}},g=t(u);g&&(p.children=g,p._tree.folder=!0),o.push(p)}return o}}}var n=angular.element(e),i="nav[epub\\:type",o=n.filter(i+'="toc"]');o.length<1&&(o=n.find(i+'="toc"]')),o.length<1&&(o=n.filter(i+"]"),o.length<1&&(o=n.find(i+"]")));var a=0,l=t(o);return l}l(!1),i.config.id=i.config.id||"ContentEditorDialogBox",i.config.title="목차 편집기",i.config.yes="저장",i.config.no="취소";var y=p.BUNDLE_CONTENT_EDITOR+"/"+p.contentEditor_html,b=p.pathToActual(y,!0);i.config.path=g.trustAsResourceUrl(b);var x=!1;d(),i.enterKey=i.saveData=function(){if(!x)return void i.cancel();var e=c();void 0===e?i.callback(null,[]):i.callback(null,e),i.$applyAsync()},i.$on("$destroy",function(){f()}),i.escKey=i.cancel=function(){v(),i.callback("취소"),i.$applyAsync()},i.resetData=function(){function e(){for(var e=[],i=t.get(),o=i.getNoneCopyValue("documents"),a=o.length,l=0;a>l;++l){var r=o[l],c=n.get(r),s=l+1,d={pageNum:s,title:c.value("subject")||"("+s+" page)",_tree:{folder:!1,key:"_"+s}};e.push(d)}u(e)}var o=c();o&&o.length>0?s.confirm({content:"페이지 목록을 불러옵니다. 편집중인 데이터는 삭제됩니다.",title:"삭제",ok:"확인",cancel:"취소",isTop:!0}).then(function(t){1===t&&e()},function(e){i.callback(e)}):e()},i.openFileDialogBox=function(){function t(t){return t?(console.log("TOC : ",t),void e.readFile(t,null,function(e,t){if(e)return void console.error("# TOC 파일 읽기 에러 : ",e);var n=h(t);u(n),i.$apply()})):void console.log("경로가 지정되지 않았습니다.")}var n={accept:".xhtml",task:"importTOC"};e.getOpenInformation(n,t)}}}return{restrict:"EA",templateUrl:"popup/jj-content-editor-dialog-box.html",replace:!0,scope:!1,compile:v}}var t=MODULE.tool.instance;t.directive("jjContentEditorDialogBox",e),e.$inject=["$externalAPI","$projects","$documents","$command","CommandName","CommandParam","$timeout","$toast","$busy","$notice","Touch","Process","FileSystem","$sce","$applications"]}(),function(){function e(e,t,n,i){function o(){return function(o,a,l){function r(e){i.power=e}function c(){o.config.id=o.config.id||"ExportComponentDialogBox",o.config.title="컴포넌트 배포",o.config.yes="확인",o.config.no="취소",s(),o.result={category:"",components:[]}}function s(){var t=e.getSetting(),n=[];for(var i in t){var a=t[i];a.bundle||n.push(a)}n.length>0&&n.sort(u),o.userItems=n}function u(e,t){var n=e.categoryPath,i=t.categoryPath,o=e.label,a=t.label;if(n&&i){if(i>n)return-1;if(n>i)return 1}else{if(n)return-1;if(i)return 1}return a>o?-1:o>a?1:e.component<t.component?-1:e.component>t.component?1:0}function d(e){return function(t,n){var i=t[e],o=n[e];return o>i?-1:i>o?1:t.label<n.label?-1:t.label>n.label?1:t.component<n.component?-1:t.component>n.component?1:0}}function p(){g()}function g(){r(!0),o.config=null,o.userItems=null,o.result=null,o.item=null}r(!1),c(),o.sort=function(e){if(!(o.userItems.length<1)){var t;switch(e){case"category":t=u;break;default:t=d(e)}o.userItems.sort(t)}},o.isSelect=function(e){var t=o.result.components.indexOf(e);return t>=0},o.selectToggle=function(e){var t=o.result.components.indexOf(e);0>t?o.result.components.push(e):o.result.components.splice(t,1)},o.selectAllToggle=function(){var e=o.userItems;return o.result.components.length===e.length?void(o.result.components=[]):void(o.result.components=e.map(function(e){return e.component}))},o.item={name:"category",value:"",type:"string",label:"카테고리 이름 (선택 사항)",desc:"컴포넌트를 같은 카테고리로 배포합니다.",editor:{type:"input",inputType:"text",pattern:n.pattern.folderName,maxLength:50,placeholder:"컴포넌트를 가져오기 할때 카테고리 이름으로 정렬됩니다."},descText:'\\ / : * ? " < > | 문자는 사용할 수 없습니다.',descTextStyle:{padding:10,marginBottom:10}},o.onChange=function(e){o.result[e.name]=e.value,o.$applyAsync()},o.enterKey=o.saveData=function(){var e=o.result;return o.exportForm.$invalid?void t.message("입력한 값이 유효하지 않습니다.",{delay:t.SHORTEST}):e.components.length<1?void t.message("선택된 컴포넌트가 없습니다.",{delay:t.SHORTEST}):(o.callback(null,o.result),void o.$applyAsync())},o.$on("$destroy",function(){g()}),o.escKey=o.cancel=function(){p(),o.callback("취소"),o.$applyAsync()}}}return{restrict:"EA",templateUrl:"popup/component/jj-export-component-dialog-box.html",replace:!0,scope:!1,compile:o}}var t=MODULE.tool.instance;t.directive("jjExportComponentDialogBox",e),e.$inject=["$contentComponentSetting","$toast","$util","$applications"]}(),function(){function e(e,t,n,i){function o(){return function(o,a,l){function r(e){i.power=e}function c(){o.config.id=o.config.id||"ExportTemplateDialogBox",o.config.title="템플릿 배포",o.config.yes="확인",o.config.no="취소",s(),o.result={category:"",templates:[]}}function s(){var t=e.getSetting(),n=[];for(var i in t){var a=t[i];a.bundle||n.push(a)}n.length>0&&n.sort(u),o.userItems=n}function u(e,t){var n=e.categoryPath,i=t.categoryPath,o=e.label,a=t.label;if(n&&i){if(i>n)return-1;if(n>i)return 1}else{if(n)return-1;if(i)return 1}return a>o?-1:o>a?1:e.template<t.template?-1:e.template>t.template?1:0}function d(e){return function(t,n){var i=t[e],o=n[e];return o>i?-1:i>o?1:t.label<n.label?-1:t.label>n.label?1:t.template<n.template?-1:t.template>n.template?1:0}}function p(){g()}function g(){r(!0),o.config=null,o.userItems=null,o.result=null,o.item=null}r(!1),c(),o.sort=function(e){if(!(o.userItems.length<1)){var t;switch(e){case"category":t=u;break;default:t=d(e)}o.userItems.sort(t)}},o.isSelect=function(e){var t=o.result.templates.indexOf(e);return t>=0},o.selectToggle=function(e){var t=o.result.templates.indexOf(e);0>t?o.result.templates.push(e):o.result.templates.splice(t,1)},o.selectAllToggle=function(){var e=o.userItems;return o.result.templates.length===e.length?void(o.result.templates=[]):void(o.result.templates=e.map(function(e){return e.template}))},o.item={name:"category",value:"",type:"string",label:"카테고리 이름 (선택 사항)",desc:"템플릿을 같은 카테고리로 배포합니다.",editor:{type:"input",inputType:"text",pattern:n.pattern.folderName,maxLength:50,placeholder:"템플릿을 가져오기 할때 카테고리 이름으로 정렬됩니다."},descText:'\\ / : * ? " < > | 문자는 사용할 수 없습니다.',descTextStyle:{padding:10,marginBottom:10}},o.onChange=function(e){o.result[e.name]=e.value,o.$applyAsync()},o.enterKey=o.saveData=function(){var e=o.result;return o.exportForm.$invalid?void t.message("입력한 값이 유효하지 않습니다.",{delay:t.SHORTEST}):e.templates.length<1?void t.message("선택된 템플릿이 없습니다.",{delay:t.SHORTEST}):(o.callback(null,o.result),void o.$applyAsync())},o.$on("$destroy",function(){g()}),o.escKey=o.cancel=function(){p(),o.callback("취소"),o.$applyAsync()}}}return{restrict:"EA",templateUrl:"popup/template/jj-export-template-dialog-box.html",replace:!0,scope:!1,compile:o}}var t=MODULE.tool.instance;t.directive("jjExportTemplateDialogBox",e),e.$inject=["$contentTemplateSetting","$toast","$util","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p){function g(){var t,n=c.isDevelopVersion(),d=400;return function(c,g,m){function v(e){s.power=e}function f(){c.config.value=c.config.value||A;var e=c.config.value;c.config_assets={element:c.config.uid},c.config_html={type:"html",value:e.html,placeholder:"<!-- HTML CODE -->"},c.config_js={type:"js",value:e.js,placeholder:"// JS CODE\n// * HTML Element는 내부 IFrame에서 동작합니다.\n// * JS 코드는 HTML 내용이 삽입된 직후에 실행됩니다.    (document ready 이벤트 발생된 이후임.)\n"},c.config_css={type:"css",value:e.css,placeholder:"/* CSS CODE */"},c._tempCode=angular.copy(e),c.isRuned=!1,w(),c.$applyAsync()}function h(t){return c.config&&c.config.read?(e.open({delay:d,message:"내용을 로드합니다."}),void c.config.read(c.config,function(n){e.close(),t&&t(n)})):void(t&&t())}function y(t,n){return c.config&&c.config.write?(e.open({delay:d,message:"내용을 저장합니다."}),void c.config.write(t,function(){e.close(),n&&n()})):void(n&&n())}function b(){x(),c.$applyAsync()}function x(){v(!0),L(),t&&clearTimeout(t),t=null,T&&(c.closeDebuger(),I(),T=null,c.config=null,c._tempCode=null,c.tempLog=null,c.config_assets=null,c.config_html=null,c.config_js=null,c.config_css=null)}function w(){c.isRuned=!0,t&&clearTimeout(t),t=setTimeout(function(){j(function(){}),t=null,c.$applyAsync()},300)}function j(e){var t=[],n={},i="";t.push(function(e){i=c._tempCode.css,n.css=k(c._tempCode.css),e()}),t.push(function(e){n.js=$(c._tempCode.js),e()}),t.push(function(e){n.html=C(c._tempCode.html),e()}),async.waterfall(t,function(e){_(i,n)})}function $(e){return a.run(e)}function C(e){return o.run(e)}function k(e){return i.run(e)}function _(e,t){E("css",t),E("html",t),E("js",t);var n=e,i=c._tempCode.html,o=c._tempCode.js;S(n,i,o),c.$applyAsync()}function E(e,t){var n=t[e],i="";n.log&&(i=n.log.replace(/\n/gim,"<br>")),n.log=i,c.tempLog[e]=n,c.$applyAsync()}function S(e,t,n){var i=c.config.uid||"",o={css:e,html:t,js:n};T=g.find("iframe[playground-view]")[0];var a={code:o,uid:i,deleteConnection:!1,set:function(e){e.scope={uid:i},e.$this={},e.$self={}},iframe:T,src:l.WORK_OPS_FOLDER+"/"+l.HTML_ELEMENT_PATH};r.set(a)}function I(e){if(c.config&&c.config.uid){var t=c.config.uid||"";delete window[t],T&&(T.src=""),e&&e()}}function D(e){var t=c.spliteMode;if(e!==t){c.spliteMode=e;var n;n=g.find("horizontal"===t?"[split-mode-horizontal]":"vertical"===t?"[split-mode-vertical]":"[split-mode-default]");var i,o={assetLibrary:n.find("[jj-asset-library]"),playgroundView:n.find("[playground]"),codeEditorGroup:n.find("[code-editor-group]")};if(i=g.find("horizontal"===e?"[split-mode-horizontal]":"vertical"===e?"[split-mode-vertical]":"[split-mode-default]"),e){var a=i.find("[assetBox]"),l=i.find("[playgroundBox]"),r=i.find("[codeEditorGroupBox]");a.append(o.assetLibrary),l.append(o.playgroundView),r.append(o.codeEditorGroup);var s=o.codeEditorGroup.find("[boxBlock]");s.attr("flex",""),s.css("width",""),i.css({display:"flex"})}t&&n.css({display:"none"}),c.$applyAsync()}}var T;c.config.id=c.config.id||"HtmlEditorDialogBox",c.config.title=c.config.title||"내용 편집",c.config.yes=c.config.yes||"확인",c.config.no=c.config.no||"취소",c.config.save=c.config.write?c.config.save||"저장":"",v(!1);var A={html:"",js:"",css:""};c._tempCode={},c.isRuned=!0,c.tempLog={},c.config.read?h(function(e){c.config.value=angular.extend(A,e),f()}):f(),c.changed=function(e,t){if(c._tempCode[e]!==t){c._tempCode[e]=t,c.isRuned=!1;var n;if("html"===e?n=C:"css"===e?n=k:"js"===e&&(n=$),n){var i={};i[e]=n(t),E(e,i)}c.$applyAsync()}},c.enterKey=c.close=function(){try{var e={code:c._tempCode};y(e,function(){c.callback(null,!0),b()})}catch(t){console.error("[write ERROR]",t),c.callback(t,!1),b()}},c.escKey=c.cancel=function(){c.callback(null,!1),b()},c.$on("$destroy",function(){x()}),c.fileChanged=function(e){c.isRuned=!1,y({assets:e},function(){w()}),c.$applyAsync()},c.testRun=function(e,t){arguments.length>0&&c.changed(e,t),y({code:c._tempCode},function(){w()})},function(e){function t(e){for(var t=0;t<o.length;t++)i(o[t],e)}function i(e,t){if(t){if(!a[e])return;window.console[e]=a[e]}else a[e]=window.console[e],window.console[e]=function(){}}var o=["error","clear","log","info","warn","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp"],a={};n||t(!1),c.closeDebuger=function(){if(e&&e.Window&&e.Window.get){var i=e.Window.get();i&&"showDevTools"in i&&(n||(i.closeDevTools(),t(!0)))}},c.openDebuger=function(){if(e&&e.Window&&e.Window.get){var t=e.Window.get();return t&&"showDevTools"in t?void(T&&(n||t.closeDevTools(),setTimeout(function(){t.showDevTools(T,function(){})}))):void alert("이 버전은 개발자 도구가 지원되지 않습니다.")}}}(window.nw),c.spliteMode;var L=c.$watch(function(){var e=s.get();return e.value("htmlEditorMode")},function(e,t){D(e)});c.splitModeChange=function(e){u.modifyApplication({data:{htmlEditorMode:e}})},c.openEditorKeymap=function(){p.openKeymap()}}}return{restrict:"EA",templateUrl:"popup/jj-html-editor-dialog-box.html",replace:!0,scope:!1,compile:g}}var t=MODULE.tool.instance;t.directive("jjHtmlEditorDialogBox",e),e.$inject=["$busy","$sce","$externalAPI","$test_css","$test_html","$test_js","FileSystem","$htmlElement","$version","$applications","$commandController","$explorerPopup","$codeEditor"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m,v,f){function h(){return function(o,a,l){function u(e){i.power=e}function m(){o.config.id=o.config.id||"ImportDialogBox",o.config.yes="적용",o.config.no="취소";var e;if("pdf"===o.pageImportType)e=v,o.config.title="PDF를 문서로 추가";else{if("image"!==o.pageImportType)return"html"===o.pageImportType?void console.error("Import Type 지원되지 않음(HTML)"):void console.error("Import Type 지원되지 않음");e=f,o.config.title="이미지를 문서로 추가"}return e}function h(){o.step=0,z.initialize(),o.loader=z.loader,o.progress=z.progress,o.selector=z.selector,o.option=z.option,o.insertConfig={startPage:2,pages:[],currentPage:1,ui:{pages:[],prev:0,next:0,prevMin:0,prevMax:0}},o.replaceConfig={value:!1,startPage:1,_maxPage:1,_maxStartPage:1,_sortWithStartPage:!0,_replaceSearchText:!0,pages:{}},o.paper={width:0,height:0,change:!0}}function y(){var e=z.getSelectPages();if(!o.loader.complete)return void(o.step=e.length>0?11:10);var t=e.length>0?22:10;for(var n in e){var i=e[n],a=z.getPageItem(i-1);if(!z._isChangedFilter(a)){t=12;break}}o.step=t}function b(){x(),o.$applyAsync(function(){return 1===o.stage?void k():void(o.replaceConfig.value?(k(),I()):(j(),w()))})}function x(){var e=z.getSelectPages(),t=e.map(function(e){return z.getPageItem(e-1)});t.sort(function(e,t){return e.num-t.num}),o.insertConfig.pages=t,z.getPageSize(t,function(e){o.paper.width=e.width,o.paper.height=e.height})}function w(){var e,t=z.getSelectPages();t.length>5?(e=[],e[0]=t[0],e[1]=t[1],e[2]="......",e[3]=t[t.length-2],e[4]=t[t.length-1]):e=t,o.insertConfig.ui.pages=e,C()}function j(){var e=t.get().documents().length;o.insertConfig.ui.prevMin=0,o.insertConfig.ui.prevMax=e;var n=o.insertConfig.startPage,i=n-1;$(i)}function $(e){e=Math.max(o.insertConfig.ui.prevMin,e),e=Math.min(o.insertConfig.ui.prevMax,e);var t=e+1;o.insertConfig.ui.prev=e,o.insertConfig.ui.next=t,o.insertConfig.startPage=e+1}function C(){k();var e=a.find(".pageBox");e.length<1||(W=d.instance("insertPagingSelector"),W.createEvent(e,{start:_,move:E,end:S},this))}function k(){W&&(W.deleteEvent(),d.remove("insertPagingSelector"))}function _(e){o.isDragging=!0,q=0,X=o.insertConfig.ui.prev;var t=a.find(".pageBox");K=angular.element("body").css("cursor"),angular.element("body").css("cursor",t.css("cursor")),a.css("pointer-events","none"),o.$apply()}function E(e,t){q+=t.dx;var n=Math.ceil(q/100*10),i=X+n;$(i),o.$apply()}function S(e,t){o.isDragging=!1,q=0,angular.element("body").css("cursor",K),a.css("pointer-events",""),o.$apply()}function I(){if(o.replaceConfig.value){var e=o.replaceConfig.startPage;if(!(isNaN(e)||1>e)){var n=z.getSelectPages(),i=t.get().documents().length;o.replaceConfig._maxStartPage=i+1,o.replaceConfig._maxPage=i+n.length;var a={};o.insertConfig.pages.forEach(function(t){var n=z.getSelectorIndex(t.num);if(!(0>n)){var i={num:t.num,image:t.thumbnail.image,page:e+n};a["page_"+t.num]=i}}),o.replaceConfig.pages=a}}}function D(e){function t(e,t,n){console.log("	 검색 데이터 : ",n.pageNumber," : ",e,"/",t),s.progress(e,t,"검색 데이터 추출중 입니다.")}function n(t){Y=t,console.debug("# 텍스트 추출 결과 : ",Y),s.close(),e&&e()}var i=o.insertConfig.pages;return i.length<1?e():(s.open(),s.progress(0,i.length,"검색 데이터를 준비중 입니다."),void z.getSearchText(i,{onProgress:t,onComplete:n}))}function T(e){return Y&&Y[e]?Y[e].content:void 0}function A(){s.open();var e=new p,t=[],n=o.insertConfig.startPage;o.insertConfig.pages.forEach(function(i,o){if(!(z.getSelectorIndex(i.num)<0)){var a=U(i);B(e,a);var l=n+o;t.push({replace:!1,page:l,item:a})}}),e.execute(function(e){console.log("# COPY : ",e),s.message("추출된 문서를 추가 합니다."),M(function(){console.log("# 문서 삽입 : ",t),r(function(){o.callback(t,{paper:o.paper})},200)})})}function L(){s.open();var e=new p,t=[],n=o.replaceConfig.pages,i=o.replaceConfig._maxStartPage;o.insertConfig.pages.forEach(function(e,o){if(!(z.getSelectorIndex(e.num)<0)){var a=U(e),l=n["page_"+e.num].page;t.push({replace:i>l,page:l,item:a})}}),t.sort(function(e,t){return e.page-t.page}),t.forEach(function(t){B(e,t.item)}),e.execute(function(e){console.log("# COPY : ",e),s.message("추출된 문서를 추가 합니다."),M(function(){console.log("# 문서 교체 : ",t),r(function(){o.callback(t,{paper:o.paper
})},200)})})}function O(){var e=!1,t=o.replaceConfig._maxStartPage,n=[],i=function(){var e=[];for(var t in o.replaceConfig.pages)e.push(o.replaceConfig.pages[t].page);return e}();if(i.sort(function(e,t){return e===t&&n.indexOf(e)<0&&n.push(e),e-t}),function(){var t=-1;for(var i in o.replaceConfig.pages){++t;var a=o.replaceConfig.pages[i],l=a.page,r=n.indexOf(l)>-1;r&&(e=!0);var c=o.replaceForm["replace_"+t];c.$invalid=r}}(),e)return c.message("중복 설정된 페이지가 있습니다."),e;var a,l=i.some(function(e,n,i){if(t>=e)return!1;if(0===n)return!1;var o=i[n-1];return e-o>1?(a=e,!0):!1});return l?(c.message("설정된 페이지 번호의 앞 페이지를 찾을 수 없습니다."),e=!0,isNaN(a)||!function(){var e=-1;for(var t in o.replaceConfig.pages){++e;var n=o.replaceConfig.pages[t],i=o.replaceForm["replace_"+e];i.$invalid=n.page===a}}(),e):e}function M(e){z.deleteTempFiles(function(){e()})}function U(e){var t=P(e),n=T(e.num),i=0===e.ext.indexOf(".")?e.ext.substring(1):e.ext,a={uid:e.id,name:e.fileName,type:i,num:e.num,path:e.image,width:e.width,height:e.height,original:o.option.displayPath+"#"+e.num,thumbnail:t};return void 0!==n&&(a.search=n),a}function P(e){var t=e.thumbnail.image,n=t.indexOf("?_cachetime=");0>n&&(n=t.indexOf("&_cachetime="));var i=0>n?t:t.substring(0,n),o=e.thumbnail,a=0===o.ext.indexOf(".")?o.ext.substring(1):o.ext;return{width:o.width,height:o.height,src:i,uid:o.id,type:a,fileName:o.fileName}}function B(t,n){var i=n.thumbnail;t.add(n.uid,function(t,o){var a="master-"+n.name,l="thumb-"+i.fileName,r=n.path,c=V+"/"+a+"."+n.type;e.copy(r,c,function(o){o&&console.error(o),n.needToCopy=!1,n.name=a,n.path=c;var r=i.src,s=F+"/"+l+"."+i.type;e.copy(r,s,function(e){i.needToCopy=!1,i.fileName=l,i.src=s,t(c)})})})}function R(){u(!0),Y=null,o.config=null,o.step=null,o.replaceConfig=null,o.insertConfig=null,G(),H(),k(),z&&z.destroy(),z=null,o.loader=null,o.progress=null,o.selector=null,o.option=null}var N=g.TEMP_ROOT_MARKER+g.WORK_SPACE_MARKER+g.PROJECT_SPACE_MARKER,V=N+g.WORK+g.OPS+g.IMAGES_MASTER,F=N+g.WORK+g.OPS+g.IMAGES_MASTER_THUMB;u(!1),o.pageImportType=o.config.pageImportType||"pdf";var z=m(o.pageImportType);if(z){o.escKey=function(){o.cancel()},o.enterKey=function(){o.step<10?o.openFileDialogBox():22===o.step?1===o.stage?o.nextStage():2===o.stage&&o.insertPages():c.message("작업이 완료되지 않았습니다.")},o.stage=1,o.prevStage=function(){o.stage=1},o.nextStage=function(){o.stage=2},h(),o.openFileDialogBox=function(){z.openFileDialogBox(function(){y(),o.$apply()})},o.onPageItemClicked=function(e){z.setSelectPage(e.num,!e.selected,function(){y()})},o.selectAllChanged=function(){z.selectAllChanged(function(){y()})},function(){o.convertCancel=function(){o.step=0,s.open(),z.convertCancel()},o.convertStart=function(){function e(e){console.log("[ Message ]",e),o.$apply()}function t(e,t,n){s.close(),o.$apply()}function n(e){console.log("# 취소 완료됨"),h(),c.message("변환이 취소되었습니다."),s.close(),o.$apply()}function i(e,t){o.step=22}function a(e){s.close(),o.insertConfig&&(o.step=22,o.$apply(),e&&c.message("다음 버튼을 눌러 작업을 계속 하세요.",{delay:c.SHORTEST}))}var l=z.getSelectPages(),r=z.convertStart(l,{onMessage:e,onProgress:t,onCancel:n,onConvertFinished:i,onComplete:a});r&&(s.open({message:"잠시만 기다려 주세요."}),o.step=21)}}();var G=o.$watch(function(){return o.stage},function(e,t){e!=t&&b()}),H=o.$watch(function(){return o.replaceConfig.value},function(e,t){e!=t&&b()});o.replaceOptionChange=function(){b()},o.replaceSortChange=function(){b()},function(){var e=t.get().documents(),i=0;if(e.length>0){var a=n.uid();i=e.indexOf(a)+1}o.insertConfig.currentPage=i,o.insertConfig.startPage=i+1,o.replaceConfig.startPage=i,j()}(),o.prevChanged=function(){var e=parseInt(o.insertConfig.ui.prev,10);$(e)},o.nextChanged=function(){var e=parseInt(o.insertConfig.ui.next,10),t=e-1;$(t)},o.replaceStartPageChange=function(){var e=Number(o.replaceConfig.startPage);isNaN(e)||1>e||(o.replaceConfig.startPage=e,I())},o.isDragging=!1;var W,K,q=0,X=0;o.insertPages=function(){if(2===o.stage){if(o.replaceConfig.value)if(o.replaceForm.$invalid)c.message("교체할 페이지 설정이 잘못되었습니다.");else if(O())return;o.replaceConfig.value?o.replaceConfig._replaceSearchText?D(function(){L()}):L():D(function(){A()})}};var Y;o.$on("$destroy",function(){R()});var J=!1;o.cancel=function(){J||(J=!0,s.message("문서 추가 작업을 취소합니다."),M(function(){o.callback(),o.$apply()}))}}}}return{restrict:"EA",templateUrl:"popup/jj-import-pages.html",replace:!0,scope:!1,compile:h}}var t=MODULE.tool.instance;t.directive("jjImportPages",e),e.$inject=["$externalAPI","$projects","$documents","$applications","$command","CommandName","CommandParam","$timeout","$toast","$busy","$key","Touch","Process","FileSystem","Default","$importPDF","$importIMG"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(){return function(t,s,u){function d(e){i.power=e}function p(){for(var n=e.get(),i=n.uid(),o=t.publish.params.length,r=0;o>r;++r){var c=t.publish.params[r];if(c.descText&&(c.descText=l.trustAsHtml(c.descText)),c.name)if("bookID"!==c.name){var s=n.value(c.name);if("cover"!==c.name)"domain"!==c.name?"appID"!==c.name?"appName"!==c.name?c.value=s:(s||(c.editor.placeholder=i),c.value=s):(s||(c.editor.placeholder=i),c.value=s,w=c):(c.value=s,x=c);else{var u=s;c.valueLabel=g(u,"original")||"";var s=g(u,"path")||"";c.value=a.pathToActual(s)}}else c.value=n.getBookID(),j=c}x.valueLabel=x.value+"."+(w.value||n.uid())}function g(e,t){if(e){var i=n.get(e);if(!i)return void console.error("# AssetData 가 없습니다. : ",e);var o=i.value(t);return o}}function m(){v()}function v(){d(!0),t.config=null,x=w=j=null}function f(t,i){var a=e.get(),l=a.uid(),r=a.value("cover"),c=t.cover,s={data:t};if(r&&c){var u=n.get(r).path();if(u===c)return t.cover=r,void(i&&i(null,s))}if(r&&(s.asset||(s.asset={}),s.asset.remove={project:l,assets:[{asset:r,isClear:!0}]}),!c)return void(i&&i(null,s));s.asset||(s.asset={});var d=n.createUID();t.cover=d;try{o._getImageAssetParam(c,d,"WORK_ASSET_COVER_FOLDER",function(e){delete e.document,e.project=l,s.asset.add=e,i(null,s)})}catch(p){i(p,null)}}d(!1),t.config.id=t.config.id||"PublishSettingDialogBox",t.config.title="출판 정보 설정",t.config.yes="저장",t.config.no="취소";var h={padding:10,marginBottom:10},y="https://github.com/vulcan9/jik-ji-Binder/wiki/AppID-%EC%99%80-AppName-%EB%AA%85%EB%AA%85-%EA%B7%9C%EC%B9%99",b="onclick=\"(function(){var url = '"+y+"';if(window.nw && window.nw.Shell){    return window.nw.Shell.openExternal(url);}window.open(url, '_blank');})()\"";t.config.params=[{title:"공통 출판 설정"},{name:"bookID",value:"",type:"string",label:"Book ID",desc:"Book을 구별하는 고유 아이디 입니다.",editor:{type:"buttonCallback",label:"Book ID 변경",onChange:function(e,t){e.value=c.com()+"-"+r.createUID(),t&&t()},inputType:"text"},descText:"Book을 구별하는 고유 아이디 입니다.",descTextStyle:h},{name:"subject",value:"",type:"string",label:"Subject",desc:"제목을 설정해 주세요.",editor:{type:"input",inputType:"text",placeholder:"제목을 설정해 주세요."}},{name:"creator",value:"",type:"string",label:"Author",desc:"제작자를 표기해 주세요.",editor:{type:"input",inputType:"text",placeholder:"제작자를 표기해 주세요."}},{name:"cover",value:"",type:"string",label:"Cover Image",desc:"컨텐츠를 요약하는 썸네일을 지정하세요.",editor:{type:"input",inputType:"file",display:"image",displayStyle:{width:70,height:70,maxWidth:70,maxHeight:70,border:"1px solid #dddddd",marginRight:10}},descText:"컨텐츠를 요약하는 썸네일을 지정하세요.",descTextStyle:h},{name:"publisher",value:"",type:"string",label:"Publisher",desc:"출판하는 사람을 표기해 주세요.",editor:{type:"input",inputType:"text",placeholder:"출판인을 표기해 주세요."}},{name:"language",value:"ko-KR",type:"string",label:"언어 설정",desc:"출판 언어 카테고리를 설정해 주세요.",editor:{type:"select",data:[{label:"한국어",value:"ko-KR"},{label:"영어",value:"en-EU"}]}},{name:"description",value:"",type:"string",label:"Description",desc:"App에 대한 간략한 설명을 작성해 주세요.",editor:{type:"textarea",style:{height:"80px",minHeight:"80px",resize:"vertical",lineHeight:"20px",letterSpacing:"0.5pt"},placeholder:"컨텐츠에 대한 간략한 소개를 부탁합니다."}},{title:"Jik-ji Binder (exe) 출판 설정",descText:'AppID 와 AppName 설정 방법은 <span class="link" style="padding:0;" '+b+">[ 명명 규칙 ]</span> 페이지를 참고 하세요.",descTextStyle:{backgroundColor:"transparent",padding:10,marginBottom:10}},{name:"domain",value:"",type:"string",label:"Domain",desc:"App을 구별하는데 사용되는 고유 도메인 prefix 입니다.",editor:{}},{name:"appID",value:"",type:"string",label:"App ID",desc:"App 고유 식별자를 설정합니다.",editor:{type:"input",inputType:"text",pattern:r.pattern.appid},descText:"App 고유 식별자를 설정합니다. (기본값: Book ID)<p>다른 App의 아이디와 중복이 될수도 있으므로 변경하지 않는 것이 좋습니다. <br>아이디가 중복 될 경우 실행에 문제가 발생할 수 있습니다.</p><b>* 알파벳 소문자와 숫자만 허용됩니다. 대문자와 공백, 특수문자, 한글은 사용할 수 없습니다.</b>",descTextStyle:h},{name:"appName",value:"",type:"string",label:"App Name",desc:"App 이름을 설정합니다.",editor:{type:"input",inputType:"text",pattern:r.pattern.appname},descText:'App 이름을 설정합니다. (기본값: Book ID)<p><b>* 특수문자(\\ / : * ? " < > |)는 사용할 수 없습니다.</b></p>',descTextStyle:h}],t.publish={},t.publish.params=angular.copy(t.config.params),t.getGroup=function(e){return function(t){return void 0===t||e.indexOf(t.name)>-1}};var x,w,j;p(),t.submit=function(n,i){console.log("# Param 값 변경 : [",n,"]",Boolean(i.require)," : ",i.name," : ",i.value),"cover"===i.name?i.valueLabel=i.value:"appID"===i.name&&(x.valueLabel=x.value+"."+(w.value||e.get().uid()));var o=t.publish.params[n];o.value=i.value,o.require=i.require,t.$applyAsync()},t.enterKey=t.saveData=function(){for(var e=t.publish.params,n=e.length,i={},o=0;n>o;++o){var a=e[o];a.name&&(i[a.name]=a.value)}f(i,function(e,n){t.callback.apply(null,arguments),t.$applyAsync()}),x=w=j=null},t.$on("$destroy",function(){v()}),t.escKey=t.cancel=function(){m(),t.callback("취소"),t.$applyAsync()}}}return{restrict:"EA",templateUrl:"popup/jj-publish-setting-dialog-box.html",replace:!0,scope:!1,compile:s}}var t=MODULE.tool.instance;t.directive("jjPublishSettingDialogBox",e),e.$inject=["$projects","$documents","$assets","$applications","$assetManager","FileSystem","$sce","$util","$version"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(l,u,d){function p(){(l.uid||!i._disable)&&(h(),f(),c.resume(),s.enable(),n.off("mouseup",j))}function g(){return l.uid&&i._disable?C():(c.pause(),s.disable(),n.on("mouseup",j),void v())}function m(){l.displayText=e.trustAsHtml(l.content)}function v(){var e=u;e.attr("contenteditable",""),e.focus(),y(e[0])}function f(){var e=u;e.off("keydown",x),e.off("keyup",w),u.removeAttr("contenteditable"),e.blur()}function h(){a.clearSelection()}function y(e){a.selectAllContents(e),a.caretToSelectEnd()}function b(){var e={document:t.uid()};r.closeEditElement(e)}function x(e){var t=e.keyCode||e.which;return e.shiftKey||e.ctrlKey||e.altKey||33!==t&&34!==t?void 0:void e.preventDefault()}function w(e){var t=e.keyCode||e.which;return 27===t?(e.preventDefault(),void b()):(l.onContentChanged(),void l.$apply())}function j(e){function t(){}var n=$(e.target);return console.log("# 체크 : onDocumentMouseup : owner : ",n),"screenProtect"===n?t():"backdrop"===n?t():"dialog"===n?t():"editor"===n?t():"topContainer"===n?t():"bottomContainer"===n?t():(b(),void t())}function $(e){for(var t=e;t;){var n=angular.element(t);if(t===u[0])return"editor";if(t.hasAttribute("top-container"))return"topContainer";if(t.hasAttribute("bottom-container"))return"bottomContainer";if(t.hasAttribute("screenProtect"))return"screenProtect";if(t.hasAttribute("editPanel"))return"editPanel";if(n.hasClass("md-dialog-container"))return"dialog";if("md-backdrop"===t.nodeName.toLowerCase())return"backdrop";if(t=t.parentNode,t===document.body)break;if(t===document)break}}function C(){if(l.uid)var e=l.$watch(function(){var e=!i._disable;return e},function(t){t&&(e(),o(function(){g()}))})}l.$on("$destroy",function(){k(),_(),p(),l.old_uid=""}),l.old_uid="";var k=l.$watch(function(){return l.uid},function(e,t){l.old_uid=t||e,l.uid?g():p()});l.displayText="";var _=l.$watch(function(){return l.content},function(e,t){m()});l.onFocus=function(){u.on("keydown",x),u.on("keyup",w)},l.onBlur=function(){u.off("keydown",x),u.off("keyup",w),l.onContentChanged(),h()}}return u.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"richEditor/jj-normal-text-editor.html",replace:!0,scope:{uid:"@",content:"=",onContentChanged:"&?"},controller:u}}var t=MODULE.tool.instance;t.directive("jjNormalTextEditor",e),e.$inject=["$sce","$documents","$document","$autoBackup","$timeout","$util","$notice","$commandController","$key","Touch"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){function v(o,a,r){function v(){o.displayText=t.trustAsHtml(o.content)}function f(t){t||e.call(o.uid,"removeRange"),o._hasFocus=t,o.$emit("$richTextEditorFocusChanged",t),D()}function h(){var t=I();a.summernote(t),e.registScope(o),N()?e.currentEditorScope(o.uid):w(!0)}function y(){o.destroy(),a.summernote("destroy"),e.unregistScope(o)}function b(){var e=d.get(),t=e?e.currentEditGroup():"",n=g.get(o.uid).parentGroup();return!t&&!n||t===n}function x(t){o._activate!==t&&(o._activate=t,i.off("mousedown",$),i.off("mouseup",k),t?(i.on("mousedown",$),i.on("mouseup",k),e.call(o.uid,"restoreRange"),a[0]===document.activeElement?e._tempNextFocusEditor===o.uid?f(!0):(document.activeElement.blur(),f(!1)):f(!1),e._tempNextFocusEditor=null):f(!1),o.$applyAsync())}function w(e){}function j(t){e._tempEditorState={down:{uid:o.uid,owner:"editor"},up:null,drag:!1},_(t)}function $(t){var n=z(t.target);e._tempEditorState={down:{uid:null,owner:n},up:null,drag:!1},_(t)}function C(t){e._tempEditorState||(e._tempEditorState={down:{uid:null,owner:null}}),e._tempEditorState.up={uid:o.uid,owner:"editor"},E(t)}function k(t){return e._tempEditorState?(e._tempEditorState.up={uid:null,owner:z(t.target)},void E(t)):void S(!1)}function _(t){function n(){o.$applyAsync()}var i=e._tempEditorState.down.owner;if("otherElement"===i||"screen"===i)return H(),f(!1),S(!0),n();if("editor"!==i)return e._tempEditorState.down.uid=null,n();if(t.shiftKey&&!t.ctrlKey&&!t.altKey)return t.stopImmediatePropagation(),e._tempEditorState.down.uid=null,n();H();var a=V(t);return a?(document.activeElement.blur(),t.preventDefault(),s.mousedownType=o.uid,e._tempEditorState.down.uid=null):(t.stopImmediatePropagation(),S(!0)),n()}function E(t){function n(){S(!1),e._tempEditorState=null,o.$applyAsync()}var i=e._tempEditorState.down.uid,a=e._tempEditorState.up.uid,l=i!==a,r=e._tempEditorState.down.owner,c=e._tempEditorState.up.owner;return i&&"editor"===r?!l&&N()?(f(!0),n()):(e.call(i,"saveRange"),f(!0),e._tempNextFocusEditor=i,F(i),n()):a&&"editor"===c?n():"screen"===r?(e.call(o.uid,"saveRange"),n()):e.inputFocused()?(e.inputFocused(!1),n()):n()}function S(e){e?i.on("mouseup",k):i.off("mouseup",k)}function I(){var e={onKeydown:L,onKeyup:O,onChange:M,onMousedown:j,onMouseup:C};return{shortcuts:!1,spellCheck:!1,focus:!1,callbacks:e}}function D(){if(o.uid){if(!o._hasFocus)return void T(!1);var t=e.call(o.uid,"currentStyle"),n=G(t);n&&e.call(o.uid,"saveRange");var i=t.range&&t.range.isCollapsed(),a=void 0!==i;T(a)}}function T(t){return t?void o.$applyAsync(function(){e.enable(o.uid,t)}):void e.enable(o.uid,t)}function A(t){e.update(o.uid)}function L(e){var t=e.keyCode||e.which;return e.ctrlKey&&32===t&&(H(),document.activeElement.blur()),e.shiftKey||e.ctrlKey||e.altKey||33!==t&&34!==t?void 0:void e.preventDefault()}function O(e){var t=e.keyCode||e.which;return 27===t?(e.preventDefault(),void R()):void(!e.shiftKey||e.ctrlKey||e.altKey||t>=33&&40>=t&&D())}function M(e,t){P(e),A(),o.$applyAsync()}function U(){}function P(e){var t=p.get(),n=t.tooldata("richText");n||(n={}),n[o.uid]=e||"",t.tooldata("richText",n),o.onContentChanged({content:{option:{text:e}},option:{delay:!0}})}function B(){var e=p.get(),t=e.tooldata("richText");t&&void 0!==t[o.uid]&&o.onContentChanged({content:{option:{text:t[o.uid]}},option:{delay:!1}})}function R(){H(),f(!1),F()}function N(){var e=d.get();return e.isSelected(o.uid)&&e.isSingleSelected()===o.uid}function V(e){var t=Boolean(u.spaceFlag),n=e.ctrlKey&&!e.altKey&&!e.shiftKey;return n||t}function F(e,t){var i={document:n.uid(),selects:e?[e]:[]};c.selectElement(i,t)}function z(e){for(var t=e;t;){if(t===document.body)return;if(t===document)return;if(t===a[0])return"editor";if(t.hasAttribute("jj-element-container"))return"otherElement";if(t.hasAttribute("jj-screen"))return"screen";if(t.hasAttribute("top-container"))return"topContainer";if(t.hasAttribute("bottom-container"))return"bottomContainer";if(t.hasAttribute("editPanel"))return"editPanel";if("md-backdrop"===t.nodeName.toLowerCase())return"backdrop";if(t.hasAttribute("jj-rich-text-editor-menu"))return"menu";if(t.hasAttribute("rich-text-editor-menu"))return"menu";var n=angular.element(t);if(n.hasClass("md-select-menu-container"))return"menuItem";if(n.hasClass("md-dialog-container"))return"dialog";t=t.parentNode}}function G(e){var t;if(e.range&&!e.range.isCollapsed()){var n=e.range.getClientRects(),o=n[n.length-1];o&&(t={top:o.top+i.scrollTop(),left:o.left+i.scrollLeft(),width:o.right-o.left,height:o.bottom-o.top})}return t}function H(){l.clearSelection()}o.displayText="";var W=o.$watch(function(){return e.isEditingByCaret?null:o.content},function(e,t){null!==e&&v()});o._activate=!1,o._hasFocus=!1;var K=o.$watch(function(){var e=d.get(),t=e?e.currentEditGroup():"";return t},function(e){m.safetyCall(o,function(){var e=b();e?h():y()})});o.$on("$destroy",function(){W(),K(),y(),o.uid===e.currentEditorScope()&&e.currentEditorScope(null)}),o.checkSaveData=B,o.setup=function(){w(!1),x(!0),U()},o.destroy=function(){e.currentEditorScope()===o.uid&&(H(),e.call(o.uid,"saveRange"),w(!0),x(!1))},o.directSaveRequest=function(e){o.onContentChanged({content:e,option:{delay:!0}})}}return v.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"richEditor/jj-rich-text-editor.html",replace:!0,scope:{uid:"@",content:"=",onContentChanged:"&?"},controller:v}}var t=MODULE.tool.instance;t.directive("jjRichTextEditor",e),e.$inject=["$richEditor","$sce","$documents","$document","$autoBackup","$timeout","$util","$notice","$commandController","$selectDragger","$key","$selects","$projects","$elements","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(t,n,i){function r(){var e=c();t.menu.forEach(function(n){n.items.forEach(function(n){var i=t.items[n]||{},o=s(n,e);t.items[n]=angular.merge({},i,o)})}),t.$broadcast("$itemChanged",t.items),t.config.update=!1}function c(){var n=e.call(t.config.editor,"currentStyle");return n}function s(i,r){var c={uid:t.config.editor,name:i,value:"",command:i,disable:!t.config.enable&&"undo"!==i&&"redo"!==i,option:{title:o.toCaption(i),icon:i,type:"button"}},s=i,u="",d="";switch(i){case"undo":c.option.title="되돌리기";break;case"redo":c.option.title="다시 실행";break;case"fontFamily":c.command="fontName",s=o.toSnakeCase(i),u=r[s],d=e.normalize(n.css("fontFamily")),d===u&&(u=""),c.option.type="select",c.option.title="글꼴";break;case"fontSize":s=o.toSnakeCase(i),u=r[s],c.option.type="number",c.option.title="글꼴 크기";break;case"lineHeight":s=o.toSnakeCase(i),u=r[s],c.option.type="number",c.option.title="줄간격";break;case"color":c.command="foreColor";var p=a.get(t.config.editor),g=l.get(p.type(),"style");d=p.style()[i]||g[i],u=r[s]||d,c.option.type="color",c.option.title="글꼴색";break;case"backgroundColor":c.command="backColor",s=o.toSnakeCase(i),u=r[s],"rgba(0, 0, 0, 0)"===u&&(u=""),c.option.type="color",c.option.title="배경색";break;case"bold":s="font-"+i,u=r[s],u=u&&"400"!==u&&"normal"!==u?"bold":"normal",c.option.title="굵게";break;case"italic":s="font-"+i,u=r[s],c.option.title="기울임꼴";break;case"underline":s="font-"+i,u=r[s],c.option.title="밑줄";break;case"strikethrough":s="font-"+i,u=r[s],c.option.title="취소선";break;case"superscript":s="font-"+i,u=r[s],c.option.title="위첨자";break;case"subscript":s="font-"+i,u=r[s],c.option.title="아래첨자";break;case"eraser":c.command="removeFormat",c.option.title="서식 지우기";break;case"ol":c.command="insertOrderedList",u=r["list-style"]||"",c.option.icon="orderedlist",c.option.title="번호 매기기";break;case"ul":c.command="insertUnorderedList",u=r["list-style"]||"",c.option.icon="unorderedlist",c.option.title="글머리 기호";break;case"alignLeft":c.command="justifyLeft",u="left",c.option.icon="alignLeft",c.option.title="왼쪽 맞춤";break;case"alignRight":c.command="justifyRight",u="right",c.option.icon="alignRight",c.option.title="오른쪽 맞춤";break;case"alignCenter":c.command="justifyCenter",u="center",c.option.icon="alignCenter",c.option.title="가운데 맞춤";break;case"alignJustify":c.command="justifyFull",u="justify",c.option.icon="alignJustify",c.option.title="양쪽 맞춤";break;default:s=i,u=r[s]||""}return c.value=u,c}t.onChanged=function(n){e.call(t.config.editor,n.command,n.value)},t.$on("$destroy",function(){p(),u&&u(),d&&d()}),t.menu=[{group:"Font",items:["fontFamily","fontSize"]},{group:"Color",items:["color","backgroundColor"]},{group:"Style",items:["bold","italic","underline","strikethrough","eraser"]},{group:"Paragraph",items:["lineHeight"]},{group:"Paragraph2",items:["alignLeft","alignCenter","alignRight","alignJustify"]},{group:"List",items:["ol","ul"]}],t.items={};var u,d;!function(){return t.config&&t.config.isPopup?void(t.config.enable=!0):(u=t.$watch(function(){var e=t.config.editor;return e},function(n,i){i&&e.unregist(i),n&&e.regist(n,t),r()}),void(d=t.$watch(function(){return t.config.enable},function(e,n){e&&t.$applyAsync(r)})))}();var p=t.$watch(function(){var e=t.config.update;return e},function(e,n){e&&t.$applyAsync(r)});t.onSizeUp=function(){e.call(t.config.editor,"fontSizeUp",2),r()},t.onSizeDown=function(){e.call(t.config.editor,"fontSizeDown",-2),r()}}return c.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"richEditor/jj-rich-text-editor-menu.html",replace:!0,scope:{config:"="},controller:c}}var t=MODULE.tool.instance;t.directive("jjRichTextEditorMenu",e),e.$inject=["$richEditor","$sce","$documents","$document","$util","$elements","$defaultProperty","$commandController"]}(),function(){function e(e,t,n,i){function o(o,a,l){function r(){if(o.item){switch(o.item.name){case"fontFamily":u.setFontFamily();break;case"fontSize":d.setFontSize();break;case"lineHeight":p.setLineHeight();break;case"color":o.item.option.style={},o.item.option.hideInput=!0;break;case"backgroundColor":o.item.option.style={},o.item.option.hideInput=!0}o.$applyAsync()}}o.$on("$destroy",function(){o.item=null,o.getterSetter=null});var c="button",s=["button","select","number","color"];s.indexOf(o.item.option.type)<0&&(console.error(o.item.option.type," : 지원되지 않은 type 입니다."),o.item.option.type=c),o.$on("$itemChanged",function(e,t){o.item=t[o.item.name],o.$applyAsync(function(){r()})}),o.menuItemChanged=function(){var e=o.item.value;switch(o.item.name){case"bold":o.item.value="bold"===e?"normal":"bold";break;case"italic":o.item.value="italic"===e?"normal":"italic";break;case"underline":o.item.value="underline"===e?"normal":"underline";break;case"strikethrough":o.item.value="strikethrough"===e?"normal":"strikethrough"}o.onChanged({item:o.item})},o.onClickButton=function(){o.hasDropdown?o.openDropdown():o.menuItemChanged()},o.onClickDropdownButton=function(){o.openDropdown()},o.openDropdown=function(){var e=a.find('[menu-item="dropdownButton"] md-select');e.click()},o.stopBubbling=function(e){e.stopPropagation()},o.onClickColorButton=function(){var e=a.find("[jj-color-picker] .colorDisplay").scope();e.open()},o.onSelectColorChanged=function(){i(function(){o.menuItemChanged()})},o.onSelectOpen=function(){r()},o.onSelectClose=function(){o._optionSelected&&o.menuItemChanged(),o._optionSelected=!1},o.onSelectChanged=function(){},o.onClickSelectOption=function(){o._optionSelected=!0},o.onMouseup=function(e){e.stopPropagation()},o.onFocus=function(e){var i=n.isInputbox(e.target);i&&(t.selectAllContents(e.target),n.inputFocused(!0))},o.onBlur=function(e){n.call(o.item.uid,"restoreRange")},o.onKeyUp=function(e){e.stopPropagation();var t=e.keyCode||e.which;27===t?(e.preventDefault(),n.inputFocused(!1),document.activeElement.blur()):13===t&&(e.preventDefault(),n.inputFocused(!1),angular.element(document.activeElement).blur(),o.menuItemChanged())};var u=function(){function t(){function t(e){var t=o.item.value;for(var i in e){var a=n.normalize(e[i].value);if(a===t)return}var l={group:"default",style:"",label:"("+t+")",value:t};e.unshift(l)}var i=e.groupList,a=angular.copy(e.list);t(a),o.item.option.list=a,o.item.option.groupList=i,o.$applyAsync()}if("fontFamily"===o.item.name)return e.load(function(){t()}),{setFontFamily:t}}(),d=function(){function e(){var e=o.item.value;o.item.value=parseFloat(e),o.item.option.list=angular.copy(l);var n=t(e);if(void 0!==n){var i={value:e,label:n};o.item.option.list.unshift(i)}}function t(e){var t=a.indexOf(e)>=0;if(!t)return isNaN(e)||""===e?"":"("+e+" px)"}function i(){return{value:function(e){if(!angular.isDefined(e)){var n=o.item.value,i=t(n);return void 0===i?n+" px":i}o.item.value=parseFloat(e)}}}if("fontSize"===o.item.name){o.getterSetter=i(),o.hasDropdown=!0;var a=n.getFontSizes(),l=a.map(function(e){return{value:e,label:e+" px"}});return o.item.option.list=angular.copy(l),{setFontSize:e}}}(),p=function(){function e(){o.item.option.list=angular.copy(a);var e=o.item.value,n=t(e);if(n){var i={value:e,label:n};o.item.option.list.unshift(i)}}function t(e){var t=parseFloat(e),n=i.some(function(e){return t===parseFloat(e)});return n?void 0:isNaN(e)||""===e?"":"("+t+")"}function n(){return{value:function(e){if(!angular.isDefined(e)){var n=o.item.value,i=t(n);return i?i:n+""}o.item.value=parseFloat(e)}}}if("lineHeight"===o.item.name){var i=["1.0","1.2","1.3","1.4","1.5","1.6","1.8","2.0","2.5","3.0"];o.getterSetter=n(),o.hasDropdown=!0;var a=i.map(function(e){return{value:parseFloat(e),label:e}});return o.item.option.list=angular.copy(a),{setLineHeight:e}}}()}return{restrict:"EA",templateUrl:"richEditor/jj-rich-text-editor-menu-item.html",replace:!0,scope:{disable:"=",item:"=",onChanged:"&?"},link:o}}var t=MODULE.tool.instance;t.directive("jjRichTextEditorMenuItem",e),e.$inject=["$fontList","$util","$richEditor","$timeout"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(t,n,i){function r(){var e=c();t.items={},t.menu.forEach(function(n){n.items.forEach(function(n){t.items[n]=s(n,e)})}),t.$applyAsync(function(){t.config.update=!1})}function c(){var n=e.call(t.config.editor,"currentStyle");return n}function s(i,r){var c={uid:t.config.editor,name:i,value:"",command:i,disable:!t.config.enable&&"undo"!==i&&"redo"!==i,option:{title:o.toCaption(i),icon:i,type:"button"}},s=i,u="",d="";switch(i){case"undo":c.option.title="되돌리기";break;case"redo":c.option.title="다시 실행";break;case"fontFamily":c.command="fontName",s=o.toSnakeCase(i),u=r[s],d=e.normalize(n.css("fontFamily")),d===u&&(u=""),c.option.type="select",c.option.title="글꼴";break;case"fontSize":s=o.toSnakeCase(i),u=r[s],c.option.type="number",c.option.title="글꼴 크기";break;case"lineHeight":s=o.toSnakeCase(i),u=r[s],c.option.type="button",c.option.title="줄간격";break;case"color":c.command="foreColor";var p=a.get(t.config.editor),g=l.get(p.type(),"style");d=p.style()[i]||g[i],u=r[s]||d,c.option.type="color",c.option.title="글꼴색";break;case"backgroundColor":c.command="backColor",s=o.toSnakeCase(i),u=r[s],c.option.type="color",c.option.title="배경색";break;case"bold":s="font-"+i,u=r[s],c.option.title="굵게";break;case"italic":s="font-"+i,u=r[s],c.option.title="기울임꼴";break;case"underline":s="font-"+i,u=r[s],c.option.title="밑줄";break;case"strikethrough":s="font-"+i,u=r[s],c.option.title="취소선";break;case"superscript":s="font-"+i,u=r[s],c.option.title="위첨자";break;case"subscript":s="font-"+i,u=r[s],c.option.title="아래첨자";break;case"eraser":c.command="removeFormat",c.option.title="서식 지우기";break;case"ol":c.command="insertOrderedList",u=r["list-style"]||"",c.option.icon="orderedlist",c.option.title="번호 매기기";break;case"ul":c.command="insertUnorderedList",u=r["list-style"]||"",c.option.icon="unorderedlist",c.option.title="글머리 기호";break;case"alignLeft":c.command="justifyLeft",u=r["text-align"]||"",c.option.icon="alignLeft",c.option.title="왼쪽 맞춤";break;case"alignRight":c.command="justifyRight",u=r["text-align"]||"",c.option.icon="alignRight",c.option.title="오른쪽 맞춤";break;case"alignCenter":c.command="justifyCenter",u=r["text-align"]||"",c.option.icon="alignCenter",c.option.title="가운데 맞춤";break;case"alignJustify":c.command="justifyFull",u=r["text-align"]||"",c.option.icon="alignJustify",c.option.title="양쪽 맞춤";break;default:s=i,u=r[s]||""}return c.value=u,c}t.onChanged=function(n){e.call(t.config.editor,n.command,n.value),r()},t.$on("$destroy",function(){p(),u&&u(),d&&d()}),t.menu=[{group:"History",items:["undo","redo"]},{group:"Font",items:["fontFamily","fontSize","color","backgroundColor"]},{group:"Style",items:["bold","italic","underline","strikethrough","eraser"]},{group:"Paragraph",items:["lineHeight","alignLeft","alignCenter","alignRight","alignJustify"]},{group:"List",items:["ol","ul"]}];var u,d;!function(){return t.config.isPopup?void(t.config.enable=!0):(u=t.$watch(function(){var e=t.config.editor;return e},function(n,i){i&&e.unregist(i),n&&e.regist(n,t),r()}),void(d=t.$watch(function(){return t.config.enable},function(e,t){e&&r()})))}();var p=t.$watch(function(){var e=t.config.update;return e},function(e,t){e&&r()})}return c.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"richEditor/_jj-rich-text-editor-menu.html",replace:!0,scope:{config:"="},controller:c}}var t=MODULE.tool.instance;t.directive("_jjRichTextEditorMenu",e),e.$inject=["$richEditor","$sce","$documents","$document","$util","$elements","$defaultProperty","$commandController"]}(),function(){function e(e,t,n,i){function o(o,a,l){function r(){if(o.item){var e=o.item.value;switch(o.item.name){case"fontFamily":c();break;case"fontSize":e=parseFloat(e),o.item.value=isNaN(e)?"":e,s();break;case"lineHeight":e=parseFloat(e),o.item.value=isNaN(e)?"":e,u();break;case"color":o.item.option.style={},o.item.option.hideInput=!0;break;case"backgroundColor":o.item.option.style={},o.item.option.hideInput=!0}o.$applyAsync()}}function c(){function t(e){var t=o.item.value;for(var i in e){var a=n.normalize(e[i].value);if(a===t)return}var l={group:"default",style:"",label:"("+t+")",value:t};e.unshift(l)}if(o.item.option.list){var i=e.groupList,a=angular.copy(e.list);return t(a),o.item.option.list=a,void(o.item.option.groupList=i)}e.load(function(){if(o.item){var n=e.groupList,i=angular.copy(e.list);t(i),o.item.option.list=i,o.item.option.groupList=n,o.$applyAsync()}})}function s(){function e(e){var t=m.indexOf(e)>=0;if(!t)return isNaN(e)||""===e?"":"("+e+" px)"}function n(){return{value:function(n){if(!angular.isDefined(n)){var i=o.item.value,a=e(i);return void 0===a?i+" px":a}var l=n.match(t.pattern.positiveNumber);l&&(o.item.value=parseInt(l[0],10))}}}o.getterSetter=n(),o.hasDropdown=!0,o.item.option.list=m.map(function(e){return{value:e,label:e+" px"}});var i=o.item.value,a=e(i);if(void 0!==a){var l={value:i,label:a};o.item.option.list.unshift(l)}}function u(){function e(e){var t=v.some(function(t){return e===parseFloat(t)});if(!t)return isNaN(e)||""===e?"":"("+e+")"}function n(){return{value:function(n){if(!angular.isDefined(n)){var i=o.item.value,a=e(i);return a?a:i+""}var l=n.match(t.pattern.decimal);l&&(o.item.value=parseFloat(l[0]))}}}o.item.value=parseFloat(o.item.value),o.getterSetter=n(),o.hasDropdown=!0,o.item.option.list=v.map(function(e){return{value:parseFloat(e),label:e}});var i=o.item.value,a=e(i);if(a){var l={value:i,label:a};o.item.option.list.unshift(l)}}o.item=o.item||{name:"none",value:"",option:{type:"button"}},o.oldValue,o.$on("$destroy",function(){g(),o.item=null,o.getterSetter=null});var d="button",p=["button","select","number","color"],g=o.$watch(function(){return o.item},function(e,t){o.item&&(r(),o.oldValue=o.item.value,p.indexOf(o.item.option.type)<0&&(console.error(o.item.option.type," : 지원되지 않은 type 입니다."),o.item.option.type=d))},!0);o.menuItemChanged=function(){o.onChanged({item:o.item})},o.onClickButton=function(){o.hasDropdown?o.openDropdown():o.menuItemChanged()},o.onClickDropdownButton=function(){o.openDropdown()},o.openDropdown=function(){var e=a.find('[menu-item="dropdownButton"] md-select');

e.click()},o.stopBubbling=function(e){e.stopPropagation()},o.onClickColorButton=function(){var e=a.find("[jj-color-picker] .colorDisplay").scope();e.open()},o.onSelectColorChanged=function(){i(function(){o.menuItemChanged()})},o.onSelectOpen=function(){r()},o.onSelectClose=function(){o._optionSelected&&o.menuItemChanged(),o._optionSelected=!1},o.onSelectChanged=function(){},o.onClickSelectOption=function(){o._optionSelected=!0},o.onMouseup=function(e){e.stopPropagation()},o.onFocus=function(e){var i=n.isInputbox(e.target);i&&(t.selectAllContents(e.target),n.inputFocused(!0))},o.onBlur=function(e){n.call(o.item.uid,"restoreRange")},o.onKeyUp=function(e){e.stopPropagation();var t=e.keyCode||e.which;27===t?(e.preventDefault(),n.inputFocused(!1),document.activeElement.blur()):13===t&&(e.preventDefault(),n.inputFocused(!1),angular.element(document.activeElement).blur(),o.menuItemChanged())};var m=[8,9,10,11,12,14,18,24,36,72],v=["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"]}return{restrict:"EA",templateUrl:"richEditor/_jj-rich-text-editor-menu-item.html",replace:!0,scope:{disable:"=",item:"=",onChanged:"&?"},link:o}}var t=MODULE.tool.instance;t.directive("_jjRichTextEditorMenuItem",e),e.$inject=["$fontList","$util","$richEditor","$timeout"]}(),function(){function e(e){function t(t,n,i){function o(){var t=e.getEmbedTags(null,a);n.html(t)}var a=Boolean(i.editor),l=t.$watchCollection(function(){return e.getEmbedFonts()},function(e,t){o(),e&&(l(),l=null)});t.$on("$destroy",function(){l&&l(),n.empty()})}return t.$inject=["$scope","$element","$attrs"],{restrict:"EA",replace:!1,scope:{},controller:t}}var t=MODULE.tool.instance;t.directive("jjBundleFontLoader",e),e.$inject=["$bundleFontHelper"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p){function g(a,g,m){function v(){var e=n.get(a.uid);a.type=e.type(),a.css=e.css(),a.style=e.style(),a.option=e.option()}function f(){a.elementScope&&(a.elementScope.$destroy(),a.elementScope=null),z&&(z.remove(),z=null)}function h(){f();var t="jj-element-",n=t+a.type,i='uid="'+a.uid+'"',o="<div "+n+" "+i+"></div>";z=angular.element(o),a.elementScope=a.$new(!1),e(z)(a.elementScope),g.append(z)}function y(){k(a.css),I(a.option),E(a.style)}function b(){function e(){if(a.isHide)return void(a.containerStyle={display:"none"});var e={},t={minWidth:a.css.minWidth,minHeight:a.css.minHeight,maxWidth:a.css.maxWidth,maxHeight:a.css.maxHeight};t=a.option._$$flexibleSize?angular.merge(t,{left:a.css.left,top:a.css.top}):angular.merge(t,d.getStyle(a.uid,a.css,a.option.layout)),function(){var e=n.get(a.uid),i=e.tempdata("liveSize_fromInputBox");angular.isDefined(i)&&(t.left=i.left,t.top=i.top,t.width=i.width,t.height=i.height)}(),function(){var e=n.get(a.uid),i=e.tempdata("liveMove_fromKey");angular.isDefined(i)&&(t.left=i.css.left,t.top=i.css.top)}();var i=function(e){if(e){var t=angular.copy(e),i=n.get(a.uid),o=i.tempdata("liveScale_fromInputBox");return angular.isDefined(o)&&(t.scale=o),t}}(a.css.transform);t.transform=n.getTransformString(i),a.containerStyle=angular.extend({},e,t)}a.$applyAsync(e)}function x(){G=a.$watch(function(){if(!a.uid)return null;var e=n.get(a.uid);return e?e.tempdata("liveSize_fromInputBox"):null},function(e){a.uid&&b()})}function w(){H=a.$watch(function(){if(!a.uid)return null;var e=n.get(a.uid);return e?e.tempdata("liveMove_fromKey"):null},function(e){a.uid&&b()})}function j(){W=a.$watch(function(){if(!a.uid)return null;var e=n.get(a.uid);return e?e.tempdata("liveScale_fromInputBox"):null},function(e){a.uid&&b()})}function $(){}function C(){q=a.$watch(function(){var e=a.uid,t=n.get(e);return t?t.css():null},function(e){e&&(k(e),b(),D("css"))},!0)}function k(e){var t=n.get(a.uid).css();a.css=angular.extend({},t,e)}function _(){X=a.$watch(function(){var e=a.uid,t=n.get(e);return t?t.style():null},function(e){e&&(E(e),b(),D("style"))},!0)}function E(e){var t=n.get(a.uid).style();a.style=angular.extend({},t,e)}function S(){Y=a.$watch(function(){var e=a.uid,t=n.get(e);return t?t.option():null},function(e){e&&(I(e),b(),D("option"))},!0)}function I(e){var t=n.get(a.uid).option();a.option=angular.extend({},t,e)}function D(e){a.$parent.$elementLayoutChanged(a.uid,e)}function T(e){var t=angular.copy(a.css);return e=e||{},e.width=void 0===e.width?g.outerWidth():e.width,e.height=void 0===e.height?g.outerHeight():e.height,t=angular.merge(t,{width:e.width,height:e.height}),{css:t}}function A(){Z=a.$watch(function(){var e=n.get(a.uid),t=e?e.getNoneCopyValue("selected"):null;return t},function(e,t){P()})}function L(){ee=a.$watch(function(){var e=!1;if(s._isMoved){var t=s._select;e=t&&t.indexOf(a.uid)>-1}return e},function(e,t){P()})}function O(){te=a.$watch(function(){var e=o.get(),t=e?e.value("editingUID"):"";return t},function(e,t){a.editing=e===a.uid,B()})}function M(){ne=a.$watch(function(){var e=n.get(a.uid);return e?e.layer("isHide"):!0},function(e){a.isHide=e,b()})}function U(){ie=a.$watchCollection(function(){var e=o.get(),t=e?e.getNoneCopyValue("inGroup"):null;return t},function(){P(),B()})}function P(){function e(){i&&(a.groupState=u.getEditGroupChain(t))}var t=a.uid,i=n.get(t);i&&(a.selected=n.get(t).value("selected")),e(),Q&&c.cancel(Q),Q=c(function(){if(a.selected)a.selecting=!1;else if(s._isMoved){var e=s._select;a.selecting=e&&e.indexOf(t)>-1}else a.selecting=!1;Q=null})}function B(){if(a.type!==p.TEXT){var e=o.get();if(!e)return void R();var t=e.value("editingUID");if(t)t===a.uid?N():R();else{var n=u.isSelectableElement(a.uid);n?N():R()}}}function R(){oe&&(oe.deleteEvent(),l.remove("elementContainerMouse-"+a.uid),oe=null)}function N(){a.noEvent||(R(),oe=l.instance("elementContainerMouse-"+a.uid),oe.createEvent(g,{down:V,click:F},this))}function V(e){if(e.target&&e.target.nodeName&&"A"==e.target.nodeName.toUpperCase())return void(r.isTouchDevice()?(e.preventDefault(),console.log("# (디바이스에서) a 태그의 링크 호출 막음 : ",e.target.outerHTML)):console.log("# a 태그의 링크를 클릭한 경우 체크 (onDown)"));var t=g.find("[editPanel]")[0];s.mousedownType=e.target===t?"editPanel":a.uid}function F(e){var t=g.find("[editPanel]")[0];s.clickType=e.target===t?"editPanel":a.uid}"noEvent"in m&&(a.noEvent="true"==m.noEvent),a.invalid=!1;var z,G,H,W,K,q,X,Y,J=function(){var e=a.$watch(function(){return a.uid},function(e){if(e){var t=n.get(a.uid),i=t.getNoneCopyValue("childGroup");a.isGroup=Boolean(i),v(),h(),y(),$(),C(),_(),S(),A(),L(),U(),O(),M(),x(),j(),w()}else a.isGroup=!1,f(),R(),K&&K(),q&&q(),X&&X(),Y&&Y(),Z&&Z(),ee&&ee(),ie&&ie(),te&&te(),ne&&ne(),G&&G(),W&&W(),H&&H()});return e}();a.liveUpdate=function(e,t){if(e.option&&I(e.option),e.style&&E(e.style),e.css){for(var n in a.css)void 0===e.css[n]&&(e.css[n]=a.css[n]);k(e.css)}b();var i=a.elementScope.$$childHead;i.liveUpdate(e,function(e,n,i){var o=T(e);o.style=n,o.option=i,t&&t(o)})};var Q;a.selectElement=function(e,n){var o=i.uid(),a={document:o,selects:e||[]};t.selectElement(a,n)},a.selected=!1;var Z;a.selecting=!1;var ee,te,ne,ie,oe;a.$on("$destroy",function(){f(),J(),K&&K(),q&&q(),X&&X(),Y&&Y(),Z&&Z(),ee&&ee(),ie&&ie(),te&&te(),ne&&ne(),G&&G(),W&&W(),H&&H(),R()})}return{restrict:"EA",templateUrl:"screen/jj-element-container.html",replace:!0,scope:{uid:"@"},link:g}}var t=MODULE.tool.instance;t.directive("jjElementContainer",e),e.$inject=["$compile","$commandController","$elements","$documents","$selects","$projects","Touch","$device","$timeout","$selectDragger","$mask","$layout","ElementType"]}(),function(){function e(e,t,n,i,o){function a(a,l,r){function c(){l.html("");var e="";e+=h?s():u(),l.html(e)}function s(){var t=e.get();if(!t)return"";for(var n="",i=t.files()||[],o=i.length,a=0;o>a;++a){var l=i[a];n+=d(l)}return n}function u(){var n=t.get();if(!n)return"";for(var i=e.get().files()||[],o="",a=n.files()||[],l=a.length,r=0;l>r;++r){var c=a[r];i.indexOf(c)>-1||(o+=d(c))}return o}function d(e){var t=i.get(e),n=t.value("type"),o=t.path(),a="";if("css"===n)a+=p(o);else if("js"===n)y||(a+=g(o));else if("font"===n){var l=t.value("property").label;a+=m(o,l)}return a}function p(e){var t='<link rel="stylesheet" href="'+e+'">';return console.log("# 태그 삽입 (CSS) : ",e),t}function g(e){var t='<script type="text/javascript" src="'+e+'"></script>';return console.log("# 태그 삽입 (JS) : ",e),t}function m(e,t){var n=v(t);e='"'+e+'"';var i='<style>\n@font-face {\n    font-family: "'+n+'";\n    src: url('+e+");\n}\n</style>";return console.log("# 태그 삽입 (FONT) : ",t),i}function v(e){var t=o.parsePath(e),n=t.fileName;return n}var f=r.category,h="project"===f,y=Boolean(r.editor);if(y)var b=a.$watch(function(){return n.$_isEditing()},function(e,t){e||e===t||c()});var x=a.$watch(function(){return t.uid()},function(e,t){c()});a.$on("$destroy",function(){x(),b&&b(),l.empty()})}return{restrict:"EA",replace:!1,scope:{},link:a}}var t=MODULE.tool.instance;t.directive("jjHiddenFiles",e),e.$inject=["$projects","$documents","$fileListDataService","$assets","FileSystem"]}(),function(){function e(e,t,n,i){function o(o,a,l){function r(e){o.indexes=e}function c(){o.dragRectangle=n.dragRectangle,o.dragRectangle_inMask=n.dragRectangle_inMask,o.$applyAsync()}o.noEvent="noEvent"in l,o.indexes=[];var s=o.$watchCollection(function(){var e=t.get(o.uid),n=e?e.getNoneCopyValue("indexes"):[];return n},function(e,t){i.safetyCall(o,function(){r(e)})});o.transformTool=!1;var u=o.$watch(function(){var t=e.get(),n=t?t.currentEditGroup():"";return n},function(e,t){o.transformTool=""===e}),d=o.$watch(function(){return n.dragRectangle},function(e,t){c()},!0);o.showLabel=i.get().showLabel;var p=o.$watch(function(){var e=i.get();return e.value("showLabel")},function(e,t){o.showLabel=e});o.outline=i.get().outline;var g=o.$watch(function(){var e=i.get();return e.value("outline")},function(e,t){o.outline=e});o.refreshTransformLayoutFlag=!1,o.$elementLayoutChanged=function(e,t){o.refreshTransformLayoutFlag=e,o.$applyAsync()},o.$on("$destroy",function(){o.indexes=null,s(),u(),d(),p(),g()})}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"screen/jj-page.html",replace:!0,scope:!0,controller:o}}var t=MODULE.tool.instance;t.directive("jjPage",e),e.$inject=["$selects","$documents","$selectDragger","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m,v,f,h,y){function b(g,b,x){function w(){if(!g.paper)return g.visible=!1,void(g.paperStyle={width:0,height:0});var e=c.get(),t=e?e.currentEditGroup():"",n=t?-1*p.getGroupOffsetTransform(t).angle:0;g.visible=!0,g.paperStyle={width:g.paper.width+"px",height:g.paper.height+"px",transform:"rotateZ("+n+"deg)"}}function j(){g.master.url="";var e=a.get(g.uid);if(e){var t=e.value("master");if(t){var n=l.get(t),i=n.path();if(i){var o=e.value("useCacheImage");o||(i=v.noneCachePath(i)),g.master.url=i,g.master.style.backgroundImage='url("'+i+'")'}}}}function $(){var e=a.get(g.uid);if(!e)return void(g.master.style={});var t=e.value("master");if(!t)return void(g.master.style={});var n=y.resolveStyle(g.uid,t,g.master.url);g.master.style=n}function C(e,t){function n(){return{css:s,option:o,style:l}}var i=e.type,o=e.option,l=e.style;if(e.template)return void h.insert(e.template);var r=t.x,c=t.y,s=angular.merge({},e.css,{left:r,top:c,width:t.width,height:t.height,transform:t.transform}),u=g.uid,d=p.getEditGroupOffset();if(s.left=s.left-d.left,s.top=s.top-d.top,e.component)return void g.insertComponent({css:{left:s.left,top:s.top},document:u,component:e.component});var y=e.source?v.pathToActual(e.source):null;if(y){if(i==f.MASTER)return void m.insertMaster(y,{uid:e.uid});if(i==f.IMAGE){var b=n();return e.uid&&(b.uid=e.uid),void m.insertImage(y,b)}}else{if(i==f.MASTER)return void m.removeMaster(a.uid());if(i==f.MASK)return void p.add(u,{state:{normal:n()}})}var x={normal:n()};g.addElement(u,{type:i,state:x})}function k(){b.off("dragover",I),b.off("drop",D),b.on("dragover",I),b.on("drop",D),g.isDragOver=!0,g.$apply()}function _(){b.off("dragover",I),b.off("drop",D),g.isDragOver=!1,g.$apply()}function E(t){if(!g.dragStarted)return!1;var n=e.get().dataTransfer();return n&&n.item&&n.geometry?n:null}function S(e){e=e.originalEvent||e,e.preventDefault(),e.stopPropagation();var n=E(e);return n?t(function(){k()},15):_(),!1}function I(e){return e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),!1}function D(e){e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),_();var t=E(e);return t?(console.log("데이터 처리 : ",t,t.item.type,e.offsetX,e.offsetY,e),t.geometry.x=e.offsetX-t.geometry.width*t.geometry.offsetX/120,t.geometry.y=e.offsetY-t.geometry.height*t.geometry.offsetY/120,t.geometry.x=Math.floor(t.geometry.x),t.geometry.y=Math.floor(t.geometry.y),C(t.item,t.geometry),!1):!1}function T(e){return e=e.originalEvent||e,e.preventDefault(),e.stopPropagation(),_(),!1}g.onMouseDownBackground=function(){d.mousedownType="paper"},g.onClickBackground=function(){d.clickType="paper"};var A=g.$watch(function(){var e=c.get(g.uid),t=e?e.getLength():0;return t>1},function(e,t){g.multiSelected=e}),L=g.$watch(function(){var e=c.get(g.uid),t=e?e.value("currentGroup"):"";return t},function(e,t){g.isGroup=Boolean(e)}),O=g.$watch(function(){var e=r.get();if(!e)return 1;var t=e.getNoneCopyValue("app");return void 0===t.$$temp_scale?t.scale:t.$$temp_scale},function(e,t){g._scaleFactor=e;var n=1/e,i="scale("+n+","+n+")";g.displayCoordinateStyle={transform:i}});g.visible=!1;var M=g.$watchCollection(function(){if(!g.uid)return null;var e=r.get();return e?e.getNoneCopyValue("paper"):null},function(e,t){g.paper=e,w()}),U=g.$watchCollection(function(){var e=c.get(),t=e?e.getNoneCopyValue("inGroup"):null;return t},function(e){w()});g.backgroundStyle={backgroundColor:""};var P=g.$watch(function(){var e=a.get(g.uid),t=e?e.value("backgroundColor"):"";return t},function(e,t){g.backgroundStyle||(g.backgroundStyle={}),g.backgroundStyle.backgroundColor=e});g.master={url:"",style:{}};var B=g.$watch(function(){var e=a.get(g.uid),t=e?e.getNoneCopyValue("insertSVG"):null;return t},function(e,t){$()}),R=g.$watch(function(){var e=a.get(g.uid),t=e?e.getNoneCopyValue("master"):null;return t},function(t,n){e.safetyCall(g,function(){j(),$()})}),N=g.$watch(function(){var e=a.get(g.uid),t=e?e.value("useCacheImage"):null;return t},function(e,t){j()}),V=g.$watch(function(){var e=a.get(g.uid),t=e?e.getNoneCopyValue("masterStyle"):null;return t},function(e,t){$()},!0);g.insertComponent=function(e){n.insertComponent(e,function(){console.debug("# 컴포넌트 추가 완료")})},g.addElement=function(e,t){var i={document:e,elements:[{data:t}]};n.addElement(i)},g.selectElement=function(e){var t={document:g.uid,selects:e||[]};n.selectElement(t)},g.editing=!1;var F=g.$watch(function(){var e=c.get(g.uid),t=e?e.value("editingUID"):"";return t},function(e){g.editingUID=e,g.editing=e?!0:!1,g.$applyAsync()});this.startEdit=g.startEdit=function(e,t){if(e){var i=g.uid,a=c.get().value("currentGroup");if(e.length>1||1===e.length&&a)return void function(){var a=u.isMaskElement(e);if(a){console.info("# 그룹내 편집 : ",a);var l={document:i,group:a};n.moveEditGroup(l,function(){t&&t()})}else o.message("다중 선택(group) 상태에서는 편집할 수 없습니다.")}();var l=e[0],r=s.get(l),d=r.isEditable();if(!d)return void o.message("편집할 기능이 없습니다.");var p=angular.element('[screen-container] [document="'+i+'"] [page-container] [jj-element-container][uid="'+l+'"] [element]'),m=p.scope().$$childHead;if(m){var v=m.preventEditing();if(v)return void console.info("# 편집 허용 방지 : ",l)}!function(){var e={document:i,element:l};n.openEditElement(e,function(){t&&t()})}()}},g.dragStarted=!1;var z=g.$watch(function(){var t=e.get().dataTransfer();return t?t.id&&t.id==x.dropId:!1},function(e,t){g.dragStarted=e});g.isDragOver=!1;var G=i.isDragNDropable(),H=x.$observe("dropId",function(e){G||console.error("jj-paper : Drag & Drop 기능이 지원되지 않습니다.");var t=e;t?(b.on("dragenter",S),b.on("dragleave",T)):(b.off("dragenter",S),b.off("dragleave",T))});g.$on("$destroy",function(){g.displayCoordinateStyle=null,g.paperStyle=null,g.backgroundStyle=null,g.master=null,A(),L(),O(),M(),P(),R(),V(),B(),N(),F(),z(),H(),U(),b.off("dragenter",S),b.off("dragleave",T),b.off("dragover",I),b.off("drop",D)})}return b.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"screen/jj-paper.html",replace:!0,scope:{paperVisible:"=",uid:"@"},controller:b}}var t=MODULE.tool.instance;t.directive("jjPaper",e),e.$inject=["$applications","$timeout","$commandController","$device","$toast","$documents","$assets","$projects","$selects","$elements","$groups","$selectDragger","$mask","$sce","$assetManager","FileSystem","ElementType","$templateUtil","$masterStyle"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){function v(n,o,a){function r(){n.buttonVisible_document=!n.screenAvailable&&n.project&&!n.document,n.buttonVisible_project=!n.screenAvailable&&!n.project,n.paperVisible=n.screenAvailable,f(n.paperVisible)}function c(){var e=t.get();if(!e)return 1;var n=e.getNoneCopyValue("documents");if(!n||n.length<1)return 1;var i=e.getNoneCopyValue("app");return void 0===i.$$temp_scale?i.scale:i.$$temp_scale}function m(){function e(e){if(!g){k=o.parent().outerWidth(),_=o.parent().outerHeight(),E=s.width+2*I,S=s.height+2*I;var t=i.get(),a=t.temp();a.screenWidth=E,a.screenHeight=S}var l=E*d,r=S*d;l>k?(n.screenStyle.minWidth=l,n.contentStyle.minWidth=E):(n.screenStyle.minWidth=k,n.contentStyle.minWidth=k/d),r>_?(n.screenStyle.minHeight=r,n.contentStyle.minHeight=S):(n.screenStyle.minHeight=_,n.contentStyle.minHeight=_/d),g||n.$emit("jjScreenScrollViewChange",e)}var a=i.get().value("screen");I=a.padding;var l=t.get(),s=l?l.getNoneCopyValue("paper"):null,u=l?l.getNoneCopyValue("documents"):null;n.screenAvailable=u&&u.length>0;var d=c();if(!l||!s||!n.screenAvailable)return n.contentStyle={padding:I,transform:"scale(1,1)",transformOrigin:"0px 0px"},n.screenStyle={},n.layoutStyle="center center",r(),void n.$applyAsync();n.contentStyle={transformOrigin:"0px 0px"},n.screenStyle={},n.layoutStyle="start start";var p=l.getNoneCopyValue("app"),g=p.$$temp_zoomCenter,m=g?1:d;n.contentStyle.padding=I,n.contentStyle.transform="scale("+m+","+m+")",e(),n.$applyAsync(function(){e(!0),r()})}function v(){m(),n.$emit("jjScreenSizeChange")}function f(e){if(u.config({mouseOwner:o,padding:I}),u.deactive(),n.drawRectangle=null,e){var t="selectDrag-"+n.document;u.activate(t,R)}}function h(){var e=u.drawGlobalRectangle;if(e){var t=o.offset();n.drawRectangle={left:e.x-t.left,top:e.y-t.top,width:e.w,height:e.h}}else n.drawRectangle=null;n.$applyAsync()}function y(){b()}function b(){n.drawRectangle=null,n.$applyAsync()}function x(e){e||(n.selectElement(u.getSelect(),function(){}),b())}function w(e,t){t?l.exitEditElementByClick&&$(e,t):n.selectElement(u.getSelect(),function(){}),b()}function j(e,t){$(e,t)}function $(t,i){var o={document:n.document};if("element"===i)console.log("# 편집 모드 해지 (element) : "),e.closeEditElement(o);else if("group"===i)console.log("# 편집 모드 해지 (group) : "),e.moveEditGroup(o);else{var a=u.getSelect();console.log("# 편집 모드로 전환 (element) : ",a);var l=angular.element('[screen-container] [document="'+n.document+'"] [jj-paper]'),r=l.controller("jjPaper");r.startEdit(a)}n.$applyAsync()}n.screenAvailable=!1;var C=n.$watch(function(){if(!n.document)return null;var e=t.get();return e?e.getNoneCopyValue("paper"):null},function(e,t){i.safetyCall(n,function(){m()})},!0);n.paperVisible=!1,n.buttonVisible_document=!1,n.buttonVisible_project=!1,n.layoutStyle="center center";var k,_,E,S,I,D=n.$watch(function(){return n.project+n.document},function(e){i.safetyCall(n,function(){n.paperVisible=!1,m()})}),T=n.$watch(function(){var e=c();return e},function(e,t){i.safetyCall(n,function(){m()})}),A=n.$watch(function(){return g._state?g._state.scrollX:null},function(e,t){e&&i.safetyCall(n,function(){m()})}),L=n.$watch(function(){return g._state?g._state.scrollY:null},function(e,t){e&&i.safetyCall(n,function(){m()})}),O=n.$watch(function(){var e=t.get();if(!e)return null;var n=e.getNoneCopyValue("documents");if(!n||n.length<1)return null;var i=e.getNoneCopyValue("app");return i.$$temp_zoomCenter},function(e,o){i.safetyCall(n,function(){var e=t.get(),n=e?e.getNoneCopyValue("documents"):null;!n||n.length<1||m()})},!0);n.cursor=p.DRAG_SELECT.cursor;var M=n.$watch(function(){var e=d.get();return e},function(e,t){"screen"===e.target&&(n.cursor=e.cursor||p.DRAG_SELECT.cursor,n.$applyAsync())},!0),U=n.$watch(function(){var e=i.get(),t=e.temp();return{w:t.applicationWidth,h:t.applicationHeight}},function(e){i.safetyCall(n,function(){v()})},!0),P=!1;n.newProject=function(){P||(P=!0,e.newProject(function(){P=!1}))},n.addDocument=function(){P||(P=!0,e.addDocument({position:0},function(){P=!1}))},n.selectElement=function(t,i){var o={document:n.uid,selects:t||[]};e.selectElement(o,i)},n.editProtecting=!1;var B=n.$watch(function(){var e=s.get(n.uid),t=e?e.value("editingUID"):"";return t},function(e){n.editingUID=e,f(),m(),n.editProtecting=Boolean(e)});n.onScreenProtectClick=function(e){e.stopPropagation(),l.exitEditElementByClick&&$("screen","element")},n.onScreenProtectDbclick=function(e){e.stopPropagation(),l.exitEditElementByClick||$("screen","element")};var R={cancel:y,update:h,complete:x,click:w,dblclick:j};this.endEdit=function(e,t){$(e,t)},n.onMouseDownBackground=function(){u.mousedownType="screen"},n.onClickBackground=function(){u.clickType="screen"},n.$on("$destroy",function(){n.screenStyle=null,n.contentStyle=null,C(),T(),A(),L(),D(),B(),M(),O(),U()})}return v.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"screen/jj-screen.html",replace:!0,scope:{ui:"=",document:"@",project:"@"},controller:v}}var t=MODULE.tool.instance;t.directive("jjScreen",e),e.$inject=["$commandController","$projects","$documents","$applications","$elements","$groups","Default","$timeout","AnimationSpeed","$selects","$selectDragger","$cursor","Cursor","$screenZoom","ElementType"]}(),function(){function e(e,t,n){function i(n,i,o){function a(){l(),n.$$_touch_id=t.createUID(),n.$$_touch=e.instance(n.$$_touch_id),n.$$_touch._mouse_slop=0,n.$$_touch.createEvent(i,{click:m,start:c,move:s,end:u},this),n.$$_touch.preventDefault=!1}function l(){n.$$_touch&&(n.$$_touch.deleteEvent(),e.remove(n.$$_touch_id),n.$$_touch=null,n.$$_touch_id=null)}function r(){var e=':not([jj-split-bar="'+n.direction+'"])',t=angular.element(i.parent()[0]).children().filter(e);n._content=t,n._propertyName="v"===n.direction?"width":"height";var o=(t.length-1)*i[n._propertyName](),a=i.parent()[n._propertyName]()-o;n._totalSize=a;for(var l=n._content.length,r=0;l>r;++r){var c=angular.element(n._content[r]),s=c.css(n._propertyName);c.css(n._propertyName,s)}var u=n.$eval(n.drag);angular.isArray(u)||(u=[]),n.dragOption={target:u[0],min:u[1],max:u[2]},n.$applyAsync()}function c(e){r();var t=i.prev(),o=i.next();n._tempSize={prev:v(t),next:v(o),dir:0,isMoved:!1},f(0,0),n.$applyAsync()}function s(e,t){n._tempSize&&(n._tempSize.isMoved=!0);var i="v"===n.direction,o=i?t.dx:t.dy,a=0===o?0:o>0?1:-1,l=i?t.total.dx:t.total.dy,o=f(l,a,!0,n.dragOption);g(o),n.$applyAsync()}function u(e,t){if(t&&n._tempSize){var i="v"===n.direction?t.dx:t.dy;f(i,n._tempSize.dir,!1,n.dragOption)}n._tempSize.isMoved&&(n._tempSize=null,n._content=null),p(),n.$applyAsync(),h()}function d(){p();var e=angular.element('<div jj-split-bar-drag-image="'+n.direction+'"></div>');e.width(i.width()),e.height(i.height());var t=i.position();e.css({left:t.left,top:t.top}),i.parent().append(e),n.ghost=e,n.ghost_originalPosition=t}function p(){n.ghost&&(n.ghost.remove(),n.ghost=null,n.ghost_originalPosition=null)}function g(e){if(!n.ghost)return void d();var t=n.ghost.position();"v"===n.direction?t.left=n.ghost_originalPosition.left-e:t.top=n.ghost_originalPosition.top-e,n.ghost.css(t)}function m(){if(n.toggle&&!n._tempSize.isMoved){var e=n.$eval(n.toggle);angular.isArray(e)||(e=[]);var t=e[0],i=e[1],o=e[2],a=n._tempSize[t];a=a>=o?i-a:i>=a?o-a:a>i&&o>a?o-a:i-a;var l="prev"===t?1:-1;a*=l,f(a,l),h(),n._tempSize=null,n._content=null,n.$applyAsync()}}function v(e){var t=n._propertyName,i=parseInt(e.css(t));return i}function f(e,o,a,l){function r(e,n,i){var o=e.css(n),a=e.attr("flex");if(!a){var l;if(o.indexOf("%")>-1){var r=t.parseUnit(o,"%").num;l=i*r/100}else l=parseInt(o);if(!isNaN(l))return l}}function c(e,t){var n={};n[u]=t+"px",e.css(n)}function s(){n._content.removeAttr("flex");var e=f===y,t=x===y;if(e&&t){var i=o>0?d:p;i.attr("flex","")}else e?d.attr("flex",""):t&&p.attr("flex","")}if(n._tempSize){l=l||{};var u=n._propertyName,d=i.prev(),p=i.next(),g=n._tempSize.prev+n._tempSize.next,m=n._tempSize.prev+e,v=r(d,"min-"+u,g),f=r(d,"max-"+u,g);"prev"===l.target&&(void 0!==l.min&&(v=l.min),void 0!==l.max&&(f=l.max));var h=n._tempSize.next-e,b=r(p,"min-"+u,g),x=r(p,"max-"+u,g);if("next"===l.target&&(void 0!==l.min&&(b=l.min),void 0!==l.max&&(x=l.max)),isNaN(v)&&(v=0),isNaN(f)&&(f=y),isNaN(b)&&(b=0),isNaN(x)&&(x=y),v>m&&(m=v,h=g-v),m>f&&(m=f,h=g-f),b>h&&(m=g-b,h=b),h>x&&(m=g-x,h=x),n._tempSize.dir=o,a){var w=n._tempSize.prev-m;return w}c(d,m),c(p,h),0!==o&&s()}}function h(){}var y=1e4;n.$on("$destroy",function(){l(),p(),n._tempSize=null,n._content=null}),a(),n._propertyName,n._tempSize,n._content}return i.$inject=["$scope","$element","$attrs"],{restrict:"EA",template:"<div></div>",replace:!0,scope:{toggle:"@toggle",drag:"@drag",direction:"@jjSplitBar"},controller:i}}var t=MODULE.tool.instance;t.directive("jjSplitBar",e),e.$inject=["Touch","$util","$document"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p){function g(t,r,g){function m(){var e=t.update,n=p.getRrequestError();return n?(e.show=!0,e.icon="INSTALL",void(e.state=n)):(e.show=!p.isUpdatable(),e.icon=p.hasDownloadFile()?"INSTALL":"DOWNLOAD",void(e.state="Update is now available!"))}t.message;var v=t.$watch(function(){return e.get()},function(e,n){t.message=e},!0);t.info={version:a.version(),path:"Not Saved"},t.availableExplorer=!1;var f=t.$watch(function(){var e=n.get(),t=e?e.getNoneCopyValue("savePath"):"";return t},function(e,n){t.info.path=e||"Not Saved",t.availableExplorer=e?!0:!1});t.explorer=function(){t.availableExplorer&&d.explorer(t.info.path,function(e,n){if(n.error){var i=n.error+"<br>(경로) "+t.info.path;c.alert({content:i,title:"알림",ok:"확인",isTop:!0}).then(function(){})}})},t.changeColorTheme=function(e){var t={data:{colorTheme:e}};l.modifyApplication(t)},function(){var e=n.get(),a=e?e.getNoneCopyValue("app"):{scale:1};t.screen={scale:a.scale,percent:100*a.scale,min:o.zoom.min,max:o.zoom.max,unit:o.zoom.unit,disable:i.getLength()<1}}();var h=t.$watch(function(){var e=i.getLength();return e},function(e,n){t.screen.disable=1>e}),y=t.$watch(function(){var e=n.get();if(!e)return 1;var t=e.getNoneCopyValue("documents");if(!t||t.length<1)return 1;var i=e.getNoneCopyValue("app");return void 0===i.$$temp_scale?i.scale:i.$$temp_scale},function(e,n){t.screen.scale=e,t.screen.percent=Math.floor(100*e)});t.checkUpdate=function(e){e.preventDefault(),e.stopImmediatePropagation(),s.one(u.EVENT_MOUSE_UP,function(n){n.preventDefault(),e.stopImmediatePropagation();var i=Math.floor(t.screen.percent)/100;l.zoomStep({scale:i,min:t.screen.min,max:t.screen.max,unit:t.screen.unit}),document.activeElement.blur()})},t.scaleUpdate=function(e){l.zoomStep({direction:e,min:t.screen.min,max:t.screen.max,unit:t.screen.unit})},t.zoomin=function(){t.scaleUpdate(1)},t.zoomout=function(){t.scaleUpdate(-1)},t.zoomPortrait=function(){t.scaleUpdate("portrait")},t.zoomLandscape=function(){t.scaleUpdate("landscape")},t.zoomFit=function(){t.scaleUpdate("fit")},t.update={show:!1};var b=t.$watch(function(){return p.isUpdatable()},function(e,t){m()}),x=t.$watch(function(){return p.hasDownloadFile()},function(e,t){m()}),w=t.$watch(function(){return p.getRrequestError()},function(e,t){m()});t.updater=function(){p.update()},t.$on("$destroy",function(){t.message=null,t.info=null,v(),f(),y(),h(),b(),x(),w()})}return g.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"statusBar/jj-status-bar.html",replace:!0,scope:{},controller:g}}var t=MODULE.tool.instance;t.directive("jjStatusBar",e),e.$inject=["$status","$applications","$projects","$documents","Default","$version","$commandController","$timeout","$notice","$document","$device","$externalAPI","$updater"]}(),function(){function e(e){var t=e,n=t.extend("TreeDragNDropService",{_tempSelects:[],addMultiselect:function(e){var t=this._tempSelects.indexOf(e);t>-1||this._tempSelects.push(e)},removeMultiselect:function(e){var t=this._tempSelects.indexOf(e);0>t||this._tempSelects.splice(t,1)},isMultiselected:function(e){var t=this._tempSelects.indexOf(e);return t>=0},clearMultiselect:function(){return this.$protectFromSelectDocument?void(this.$protectFromSelectDocument=!1):(this._tempSelects=[],void(this.isMultiSelecting=!1))},$protectFromSelectDocument:!1}),i=new n;return i}var t=MODULE.tool.instance;t.service("$treeDragNDrop",e),e.$inject=["DragNDropService"]}(),function(){function e(e,t,n,i){function o(){return a}function a(i,o,a){function l(){var e=t.get().getNoneCopyValue("paper"),n=t.$$checkThumbnailRatio(e.width,e.height),o=n.width,a=n.height;i.paperStyle={width:o,height:a},i.thumbnailStyle={position:"relative",width:o,height:a}}i.paperStyle={},i.thumbnailStyle={};var r=i.$watchCollection(function(){var e=n.get(i.uid),t=e?e.getNoneCopyValue("thumbnail"):null;return t},function(t,n){e.safetyCall(i,function(){l()})}),c=i.$watch(function(){var e=t.get(),n=e?e.getNoneCopyValue("paper"):null;return n},function(t,n){e.safetyCall(i,function(){l()})},!0);i.$on("$destroy",function(){i.paperStyle=null,i.thumbnailStyle=null,c(),r()})}return{restrict:"EA",templateUrl:"tree/jj-thumbnail.html",replace:!0,scope:{uid:"@"},compile:o}}var t=MODULE.core.instance;t.directive("jjThumbnail",e),e.$inject=["$applications","$projects","$documents","$assets"]}(),function(){function e(e,t,n,i,o,a,l){function r(){return c}function c(n,r,c){function s(e){return"tree-"+e}function u(e){e?(r.attr("draggable","true"),l.addDragEvent(C,{id:e,element:r,dragStart:p,dragEnd:g,ghost:d,ghostName:"tree-ghost-container",ghostScale:.5})):(r.attr("draggable","false"),l.removeDragEvent(C))}function d(){return r}function p(i,o){l.addMultiselect(n.document);var a=l.isMultiselected(n.uid);a||(l.clearMultiselect(),l.addMultiselect(n.uid),l.$protectFromSelectDocument=!0,e.selectDocument(n.uid)),function(e){var n=t.get(),i=e.map(function(e){var t=n.getIndex(e);return t});i.sort();var a=!0,l=i[0];e=i.map(function(e){e-l>1&&(a=!1),l=e;var t=n.getDocument(e);return s(t)}),o.selects=e,o.selectIndexes=i,o.isContinuous=a}(l._tempSelects),l.isDragging=!0,n.$applyAsync()}function g(e,t){m(),l.isDragging=!1,n.$applyAsync()}function m(){n.isDragOver=!1,n.dropDirection=null}function v(e){e?l.addDropEvent(C,{id:e,element:r,dragEnter:f,dragOver:h,dragLeave:y,drop:b}):l.removeDropEvent(C)}function f(e,t){n.$applyAsync()}function h(e,t){var i=e.offsetY;e.target!==r[0]&&(i+=angular.element(e.target).position().top);var o=i<r.height()/2?"top":"bottom",a=x(o,t);a&&(t.index=a.index),n.dropDirection=a&&void 0!==a.index?o:null,n.isDragOver=!0,n.$applyAsync()}function y(e,t){delete t.index,m(),n.$applyAsync()}function b(e,t){w(t),m(),n.$applyAsync()}function x(e,t){var i=n.getIndex(),o="top"===e?i:i+1,a=t.selects,l=t.isContinuous,r=t.selectIndexes;if(l){var c=r[0],s=r[r.length-1];if(o>=c&&s+1>=o)return}return{selects:a,index:o}}function w(n){if(void 0!==n.index&&void 0!==n.selectIndexes){var i=n.selectIndexes.map(function(e){var n=t.get().getDocument(e);return n});l.$protectFromSelectDocument=!0,e.moveDocument(i,n.index)}}n.getIndex=function(){return parseInt(n.index,10)},n.getPageNumber=function(){return parseInt(n.pageNumber,10)},n.pageNumber=n.getIndex()+1;var j=n.$watch("index",function(e,t){n.pageNumber=n.getIndex()+1,n.moveButtonVisible=n.getPageNumber()!=n.getIndex()+1});n.onChange=function(){n.moveButtonVisible=n.getPageNumber()!=n.getIndex()+1},n.checkPageNumber=function(){a(function(){var e=n.getIndex()+1;n.getPageNumber()!=e&&(n.pageNumber=e,n.onChange())},500),n.$applyAsync()},n.addDocument=function(){var t={position:n.getIndex()+1};e.addDocument(t)},n.removeDocument=function(){e.removeDocument(n.uid);

},n.moveDocument=function(){console.log("moveDocument");var a;if(!n.form.$valid)return n.form.$error.required?a="변경할 페이지 번호를 입력 하세요.":n.form.$error.minlength?a="변경할 페이지 번호를 입력 하세요.":n.form.$error.maxlength?a="변경할 페이지 번호가 범위를 초과 하였습니다":n.form.$error.pattern&&(a="잘못된 형식의 페이지 번호입니다."),void i.setMessage(a,o.ERROR);var l=n.getIndex(),c=n.getPageNumber()-1;c>l&&(c+=1);var s=t.get().documents().length;return c=Math.min(c,s),c=Math.max(c,0),l==c?void i.setMessage("변경할 페이지 번호는 현재 페이지 번호가 같습니다"):(e.moveDocument(n.uid,c),r.find("[label]")[0].blur(),void(n.isHover=!1))},n.selectDocument=function(t){l.clickTarget=t.target,l.addMultiselect(n.document);var i=t.ctrlKey&&!t.altKey&&!t.shiftKey;if(!i)return l.clearMultiselect(),void e.selectDocument(n.uid);var o=l.isMultiselected(n.uid);if(l.removeMultiselect(n.uid),l.addMultiselect(n.uid),!o)return l.$protectFromSelectDocument=!0,e.selectDocument(n.uid),void console.log("# 새 문서를 선택 추가 후 페이지로 이동");if(n.document===n.uid){var a=l._tempSelects[l._tempSelects.length-2];a?(l.removeMultiselect(n.uid),l.$protectFromSelectDocument=!0,e.selectDocument(a),console.log("# 선택 해지 후 마지막 선택 페이지로 이동")):console.log("# 다중 선택된 문서가 없다 (현재 문서 선택 유지)")}else l.removeMultiselect(n.uid),console.log("# 선택 해지 (현재 문서 선택 유지)")},n.isMultiselected=!1;var $=n.$watch(function(){return l.isMultiselected(n.uid)},function(e,t){n.isMultiselected=e}),C=s(n.uid);n.dragId=c.dragId,n.dropId=c.dropId,l.create(C),u(n.dragId),v(n.dropId),n.isDragOver=!1,n.dropDirection=null,n.$on("$destroy",function(){n.paperStyle=null,n.thumbnailStyle=null,j(),u(),v(),l.disable(C,!0),$()})}return{restrict:"EA",templateUrl:"tree/jj-tree-item.html",replace:!0,scope:{document:"@",uid:"@",index:"@"},compile:r}}var t=MODULE.tool.instance;t.directive("jjTreeItem",e),e.$inject=["$commandController","$projects","$documents","$status","MessageType","$timeout","$treeDragNDrop"]}(),function(){function e(e,t,n,i,o,a){return{restrict:"EA",template:'<div layout="column" flex layout-align="center center" ng-style="thumbnailStyle">{{ $index+1 }}</div>',replace:!0,scope:!0}}var t=MODULE.tool.instance;t.directive("jjTreeItemVirtual",e),e.$inject=["$commandController","$projects","$documents","$status","MessageType","$timeout"]}(),function(){function e(e,t,n,i,o,a){function l(){return r}function r(e,l,r){function c(){$&&$(),C&&C(),j&&j(),k&&k()}function s(){j=d(),$=g(),C=v(),k=p()}function u(n){var o=i.get(),a=t.get(e.uid);return o&&a?(m(),f(),void((n||!e.capture.url)&&(h(),e.$applyAsync()))):(e.master.url="",e.capture.url="",void(e.backgroundStyle.backgroundColor=""))}function d(){return e.$watch(function(){var n=t.get(e.uid),i=n?n.value("backgroundColor"):"";return i},function(t,n){e.backgroundStyle||(e.backgroundStyle={}),e.backgroundStyle.backgroundColor=t||""})}function p(){return e.$watch(function(){var n=t.get(e.uid),i=n?n.getNoneCopyValue("insertSVG"):null;return i},function(e,t){f()})}function g(){return e.$watch(function(){var n=t.get(e.uid),i=n?n.getNoneCopyValue("master"):null;return i},function(e,t){m(),f()})}function m(){e.master.url="";var i=t.get(e.uid),a=i.value("master");if(a){var l=n.get(a),r=l.path();r&&(r=o.noneCachePath(r,!0),e.master.url=r,e.master.style.backgroundImage='url("'+r+'")')}}function v(){return e.$watch(function(){var n=t.get(e.uid),i=n?n.getNoneCopyValue("masterStyle"):null;return i},function(e,t){f()},!0)}function f(){var n=t.get(e.uid);if(!n)return void(e.master.style={});var i=n.value("master");if(!i)return void(e.master.style={});var o=a.resolveThumbnailStyle(e.uid,i,e.master.url);e.master.style=o}function h(){var t,n=i.get();if(n){var a=n.tooldata("capture");t=a&&a[e.uid]?a[e.uid].path:"",t?(t=o.pathToActual(t),t=o.noneCachePath(t,!0),b(),y()):b(),e.capture||(e.capture={}),e.capture.url=t}}function y(){var e=l.find("[capture]");e.on("load",w),e.on("error",x)}function b(){var e=l.find("[capture]");e.off("load",w),e.off("error",x)}function x(){console.error("(thumbnail) capture image could not be loaded")}function w(){var t=l.find("[capture]"),n=t.width(),o=t.height(),a=i.$$checkThumbnail_capture(n,o,e.uid);a&&(e.capture.style.width=a.C.width*a.CTs.x,e.capture.style.height=a.C.height*a.CTs.y,e.$applyAsync(function(){e.capture.needRefresh=!1}))}e.backgroundStyle={backgroundColor:""},e.master={url:"",style:{}},e.capture={needRefresh:!1,url:"",style:{}},t.uid()!==e.uid&&u();var j,$,C,k,_=e.$watch(function(){return t.uid()===e.uid},function(e,t){e?s():c()}),E=e.$watch(function(){var e=i.get(),t=e?e.getNoneCopyValue("paper"):null;return t},function(e,t){f(),h()},!0);e.render=function(){h(),e.$applyAsync()},e.$on("$destroy",function(){e.backgroundStyle=null,e.master=null,e.capture=null,_(),E(),c(),b()})}return{restrict:"EA",templateUrl:"tree/jj-tree-paper.html",replace:!0,scope:{uid:"@"},compile:l}}var t=MODULE.tool.instance;t.directive("jjTreePaper",e),e.$inject=["$applications","$documents","$assets","$projects","FileSystem","$masterStyle"]}(),function(){function e(e,t,n,i,o,a,l,r,c){var s={publishBundleFontDatas:function(n){function i(e){var t=s._findAssetItem(e);if(t&&t.property.bundle){var n=angular.copy(t);return n.path=c.getRelativePath(n.path),n}}var o=e.get(n),l=o.getNoneCopyValue("elements"),r={},s=this,u=["normal","over","down"];return l.forEach(function(e){var n=t.get(e);if(n){n=n.$$_original;var o=n.type;o===a.TEXT?u.forEach(function(e){var t=n.state[e];t.option&&t.option.text&&s.checkFontList(t.option.text,function(e){if(!r[e]){var t=i(e);t&&(r[e]=t)}})}):o===a.INPUT&&u.forEach(function(e){var t=n.state[e];if(t.style&&t.style.fontFamily){var o=t.style.fontFamily;if(!r[o]){var a=i(o);a&&(r[o]=a)}}})}}),r},publishBundleFontFiles:function(e,t,n){function i(e){return e=e.replace(/\\/g,"/"),0===e.indexOf(c.WORK_OPS_FOLDER)?e.replace(c.WORK_OPS_FOLDER,c.EPUB_OPS_FOLDER):e=c.EPUB_OPS_FOLDER+"/"+e}for(var o=[],a=0;a<e.length;++a){var l=e[a],s=l.bundleFonts;for(var u in s){var d=s[u],p={src:d.original,dest:i(d.path)};o.push(p)}}r.copy(o,function(e){t()})},_findAssetItem:function(e){var t=o.findFontFamilyItem(e)[0];if(t){var n=l.getContent(t.uid);return n}},checkFontList:function(e,t){var n={};return e?(e.replace(/<[^<>]+font-family:(?:\s)?([^<>]+)[^<>]+>/gim,function(e,i){var o=i.trim();o.trim().replace(/\s*(&quot;|'|")?([^,|\r|;|\n]+)\1/gim,function(e,i,o){var a=o.trim();a.indexOf(":")>-1||(n[a]?++n[a]:n[a]=1,t&&t(a))})}),n):n},_embedFonts:void 0,getEmbedFonts:function(){return this._embedFonts},setEmbedFonts:function(e){var t=this;o.load(function(){var n=l.getItems("font");t._embedFonts=n,e()})},getEmbedTags:function(e,t){function n(e,t){if(!e||!e.property.bundle)return void console.error("번들 폰트일때만 이 로직을 사용합니다.");var n,i=e.type,l=e.property;if(n=c.pathToActual(t?e.original:e.path),"font"===i){var s=r._getFontName(l.label),u='"'+n+'"';o+=r._getTagFONT(u,s),a+=r._getDivTag(s)}}var i,o="<style>",a='<div font-load-tester style="visibility:hidden;position: absolute;">',r=this;if(e){if(i=e)for(var s in i){var u=i[s];n(u,t)}}else i=this._embedFonts,i&&i.forEach(function(e){var i=l.getContent(e);n(i,t)});return o+="\n</style>\n",a+="</div>\n",t?o+"\n"+a:o},_getFontName:function(e){var t=c.parsePath(e),n=t.fileName;return n},_getTagFONT:function(e,t){var n='\n@font-face {\n    font-family: "'+t+'";\n    src: url('+e+");\n}";return n},_getDivTag:function(e){var t='\n<div style="font-family:'+e+';">'+e+"</div>";return t},checkFontFamilyChanged:function(e,n,i){var o=t.get(e),l=o.type()===a.TEXT;if(l&&n&&n.state){var r=n.currentState||o.value("currentState"),c=n.state[r];if(c&&c.option&&"text"in c.option){var s=c.option.text;return this._checkEmbedFont(s,r,o,i)}}},_fontsChanged:function(e,t,n,i){var o=this.checkFontList(e),a=this.checkFontList(t),l={},r=[];for(var c in o)if(!(c in a)){c in l||(l[c]=this._getAssetItem(c,n,i,e));var s=l[c];s&&r.push(s)}var u=[];for(var d in a)if(!(d in o)){d in l||(l[d]=this._getAssetItem(d,n,i,e));var s=l[d];s&&u.push(s)}return l=null,{remove:r,add:u}},_checkEmbedFont:function(t,i,o,a){var l=e.uid();a=a||{};var r=o.getNoneCopyValue("state"),c=r[i].option.text,s=this._fontsChanged(c,t,i,r),u=function(e){var t=[];return e.forEach(function(e){n.get(e.uid)&&t.push({asset:e.uid,data:void 0})}),t}(s.remove);u&&u.length>0&&(a.remove||(a.remove={document:l,assets:[]}),a.remove.assets=(a.remove.assets||[]).concat(u));var d=function(e){var t=[];return e.forEach(function(e){t.push({asset:e.uid,data:e})}),t}(s.add);return d&&d.length>0&&(a.add||(a.add={document:l,assets:[]}),a.add.assets=(a.add.assets||[]).concat(d)),a},_getAssetItem:function(e,t,n,i){var o=this._findAssetItem(e);if(!o||!o.property.bundle)return void console.error("번들 폰트일때만 이 로직을 사용합니다.");var a=this._checkUseOtherState(e,t,n,i);if(!a)return o},_checkUseOtherState:function(e,t,n,i){var o=!1,a=["normal","over","down"];for(var l in a){var r=a[l];if(r!==t){var c=n[r];if(c.option){var s=c.option.text;if(s&&i!==s){var u=this.checkFontList(s);if(e in u){o=!0;break}}}}}return o},correctionText:function(e){return e.replace(/<[^<>]+font-family:(?:\s)?(([^<>]+))[^<>]+>/gim,function(e){return e.replace(/(&quot;|&#39;)/gim,"'")})}};return s}var t=MODULE.tool.instance;t.service("$bundleFontHelper",e),e.$inject=["$documents","$elements","$assets","$selects","$fontList","ElementType","$contentAssetSetting2","$externalAPI","FileSystem"]}(),function(){function e(e,t,n,i,o){function a(e){var t=e.lastIndexOf(".");0>t&&(t=e.length);var n=e.substring(0,t);return n}function l(l){if(!u){var r=t.BUNDLE_RESOURCE+"/images";n.getFiles(r,function(n){var s=t.pathToActual(r,!0);n.sort();var d=n.map(function(t){var n={type:e.IMAGE,css:{width:o.element.width,height:o.element.height,minWidth:o.element.minWidth,minHeight:o.element.minHeight},option:{useCacheImage:!0,_$$flexibleSize:!1,_$$editable:!0,layout:angular.copy(o.layout)},source:s+"/"+t,uid:a(t)};return n});u=!0,c=d,i(function(){l(d)},1e3)})}}function r(o){if(!d){var l=t.BUNDLE_RESOURCE+"/masters";n.getFiles(l,function(n){var r=t.pathToActual(l,!0);n.sort();var c=n.map(function(n){var i={type:e.MASTER,source:r+"/"+n,uid:a(n)};return n===t.MASTER_DELETE_FILE_NAME&&(i.source=null),i});d=!0,s=c,i(function(){o(c)},1e3)})}}var c,s,u=!1,d=!1;return{loadImageItems:l,imageLoaded:function(){return u},getImages:function(){return c},loadMasterItems:r,masterLoaded:function(){return d},getMasters:function(){return s}}}var t=MODULE.tool.instance;t.service("$contentAssetSetting",e),e.$inject=["ElementType","FileSystem","$externalAPI","$timeout","Default"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(e){p[e]={loaded:!1,tree:{categoryPath:""},items:[]}}function s(n,i){var o=n.dataName;if(p[o]||c(o),!p[o].loaded){var a=n.folder,l={pathString:a,readContent:!1,uidCheck:!0};e.getTree(l,function(e){p[o].loaded=!0,p[o].tree=e,p[o].items=u(o,n),t(function(){i(e)},500)})}}function u(e,t){function n(t){var i="children"in t;if(i)for(var r in t.children)n(t.children[r]);else{t.uid||console.error("리스트에 추가할 uid 정보가 없습니다.",t);var c=o(e,t),s=a(e,c);delete t.uid,delete t.pathString;var u=c.uid;d[u]={info:c,content:s},t.uid=u,l.push(u)}}var i=p[e].tree;if(i){var o=t.iterate||function(e,t){return t},a=t.getContent||function(e,t){return t},l=[];return n(i),l}}var d={},p={},g={loadItems:function(e,t){return void 0!==e.folder?void s(e,t):void 0},dataLoaded:function(e){return p[e]?p[e].loaded:!1},getTree:function(e,t){var n=p[e]?p[e].tree:null;if(!n||!t)return n;var i=n;return t.split("/").forEach(function(e){if(i&&e){var t=i.children;t&&(i=t[e])}}),i},getItems:function(e){return p[e]?p[e].items:null},getInfo:function(e){return d[e].info},getContent:function(e){return d[e].content},openInfoPopup:function(e,t){if(t=t||function(){},!e||!e.info)return t(null,-1);var i=e.info;n.open({isTop:!0,templateUrl:"popup/component/info.html",controller:["$scope","$notice",function(t,n){t.close=function(e){n.close()},t.config={title:e.title||"정보",yes:e.yes||"확인",info:i},t.$on("$destroy",function(){t.config=null})}]}).then(function(e){t(null,e)},function(e){t(e,-1)})},newTreeItem:function(e){var t={type:"",uid:"",category:"",label:"",depth:0};return angular.merge(t,e)},getCategoryName:function(e){return e?e.substring(e.lastIndexOf("/")+1):""},moveItem:function(e,t){console.error("moveItem 구현안됨 : ",e),t&&t()},modifyItem:function(e,t){console.error("modifyItem 구현안됨 : ",e),t&&t()},deleteItem:function(e,t){console.error("deleteItem 구현안됨 : ",e),t&&t()},insertItem:function(e,t){var n=this.getContent(e),i=n.type,c=l.pathToActual(n.source);if(i===a.MASTER)c?o.insertMaster(c,{uid:n.uid},function(){t&&t()}):o.removeMaster(r.uid(),function(){t&&t()});else if(i===a.IMAGE){var s=angular.merge({},n.css,{left:50,top:50});o.insertImage(c,{uid:n.uid,css:s,option:n.option,style:n.style},function(){t&&t()})}},showInfoItem:function(e,t){var n=e.uid,o=this.getInfo(n),a=i.toCaption(o.dataName),l={title:a+" 정보",yes:"확인",info:{uid:o.uid,source:o.source?o.source.replace(o.baseFolder,""):"",bundle:!0,categoryPath:o.categoryPath,categoryName:o.categoryName,label:o.label}};this.openInfoPopup(l,t)}};return g}var t=MODULE.tool.instance;t.service("$contentAssetSetting2",e),e.$inject=["$externalAPI","$timeout","$notice","$util","$assetManager","ElementType","FileSystem","$documents"]}(),function(){function e(e,t,n){var i={};return i[e.TEXT]={label:"텍스트",type:e.TEXT,css:{width:2*t.element.width,minWidth:t.element.minWidth,minHeight:t.element.minHeight},style:{},option:{_$$flexibleSize:!0,_$$editable:!1,useRichtext:!0,layout:angular.copy(t.layout),text:"<p><br></p>"}},function(t){var i=n.get(e.TEXT,"style"),o=32,a=1.3,l=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r=o*a+l;t.style.fontSize=o+"px",t.style.lineHeight=a+"em",t.css.height=r}(i[e.TEXT]),i[e.INPUT]={label:"텍스트 입력박스",type:e.INPUT,css:{width:t.element.width,height:30,minWidth:t.element.minWidth,minHeight:t.element.minHeight},style:{fontSize:"16px",textAlign:"left",backgroundColor:"rgb(255, 255, 255)",borderWidth:1,borderColor:"rgb(204, 204, 204)"},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout),multiline:!1,placeholder:""}},i[e.VIDEO]={label:"비디오",type:e.VIDEO,css:{width:2*t.element.width,height:t.element.height,minWidth:180,minHeight:100},style:{backgroundColor:"rgb(0, 0, 0)"},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout)}},i[e.AUDIO]={label:"오디오",type:e.AUDIO,css:{width:2*t.element.width,height:54,minWidth:t.element.minWidth,minHeight:54},style:{},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout)}},i[e.IMAGE]={label:"이미지",type:e.IMAGE,css:{width:t.element.width,height:t.element.height,minWidth:t.element.minWidth,minHeight:t.element.minHeight},option:{_$$flexibleSize:!1,_$$editable:!0,layout:angular.copy(t.layout)}},i[e.BUTTON]={label:"버 튼",type:e.BUTTON,css:{width:t.element.width,height:t.element.height,minWidth:t.element.minWidth,minHeight:t.element.minHeight},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout)}},i[e.MASK]={label:"그룹 상자",type:e.MASK,css:{width:t.element.width,height:t.element.height,minWidth:t.element.minWidth,minHeight:t.element.minHeight},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout)}},i[e.HTML]={label:"HTML 박스",type:e.HTML,css:{width:2*t.element.width,height:2*t.element.height,minWidth:10,minHeight:10},option:{code:{html:"",js:"",css:""},_$$flexibleSize:!1,_$$editable:!0,layout:angular.copy(t.layout)}},i[e.WEB]={label:"WEB 뷰어",type:e.WEB,css:{width:4*t.element.width,height:4*t.element.height,minWidth:180,minHeight:100},option:{_$$flexibleSize:!1,_$$editable:!1,layout:angular.copy(t.layout)}},{getSetting:function(e){return i[e]}}}var t=MODULE.tool.instance;t.service("$contentItemSetting",e),e.$inject=["ElementType","Default","$defaultProperty"]}(),function(){function e(e){CSSLint||alert("CSS Lint 라이브러리가 로드되지 않았습니다.");var t=e.extend("InspectionCSS",{init:function(){this._super()},run:function(e,t){var n={},i={line:-1,log:"",code:""};if(!e)return i;var o=t?angular.merge({},n,t):n,a=CSSLint.verify(e,o);return console.debug("# CSS TEST : ",a),a.messages&&a.messages.some(function(e){var t=!0;return t&&(i.line=e.line,i.log=e.message,i.code=e.evidence),t}),i}});return new t}var t=MODULE.tool.instance;t.service("$test_css",e),e.$inject=["InspectionBase"]}(),function(){function e(e){HTMLHint||alert("HTML Hint 라이브러리가 로드되지 않았습니다.");var t=e.extend("InspectionHTML",{init:function(){function e(e,t){return{id:e,description:"태그 허용 안함.",init:function(e,n){var i=this;e.addListener("tagstart",function(e){var o=e.tagName.toLowerCase();t.indexOf(o)>-1&&n.warn(o+" 태그는 포함될 수 없습니다.",e.line,e.col,i,e.raw)})}}}this._super(),HTMLHint.addRule(e("tag-disabled",["html","head","title","body"])),HTMLHint.addRule(e("script-tag-disabled",["script"])),HTMLHint.addRule(e("link-tag-disabled",["link"]))},_rules:{"tagname-lowercase":!1,"attr-lowercase":!0,"attr-value-double-quotes":!0,"attr-value-not-empty":!1,"attr-unsafe-chars":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"doctype-first":!1,"head-script-disabled":!0,"title-require":!1,"inline-style-disabled":!1,"inline-script-disabled":!1,"href-abs-or-rel":!1,"style-disabled":!0,"link-tag-disabled":!0,"script-tag-disabled":!0,"tag-disabled":!0},run:function(e,t){var n={line:-1,log:"",code:""};if(!e)return n;var i=t?angular.merge({},this._rules,t):this._rules,o=HTMLHint.verify(e,i);return console.debug("# HTML TEST : ",o),o&&o.some(function(e){var t=!0;return t&&(n.line=e.line,n.log=e.message,n.code=e.evidence),t}),n}});return new t}var t=MODULE.tool.instance;t.service("$test_html",e),e.$inject=["InspectionBase"]}(),function(){function e(e){JSHINT||alert("JS HINT 라이브러리가 로드되지 않았습니다.");var t=e.extend("InspectionJS",{init:function(){},_options:{undef:!0,freeze:!0,asi:!0,browser:!0,jquery:!0,nonstandard:!0},run:function(e,t){var n={line:-1,log:"",code:""};if(!e)return n;var i=t?angular.merge({},this._options,t):this._options,o=e.split("\n"),a={};JSHINT(o,i,a);var l=JSHINT.data();return console.debug("# JS TEST : ",l),l.errors&&l.errors.some(function(e){var t=0===e.code.toUpperCase().indexOf("E");return t&&(n.line=e.line,n.log=e.reason,n.code=e.evidence),t}),n}});return new t}var t=MODULE.tool.instance;t.service("$test_js",e),e.$inject=["InspectionBase"]}(),function(){function e(e){var t=e.create("InspectionBase",{init:function(){},run:function(e,t){console.error("오버라이딩되지 않은 메세지 입니다. (InspectionBase)");var n={line:-1,log:"",code:""};return n}});return t}var t=MODULE.tool.instance;t.factory("InspectionBase",e),e.$inject=["$superClass"]}(),function(){function e(e,t,n,i,o,a){function l(){}return l.prototype={openFileDialogBox:function(e){var t={accept:a.ACCEPT_IMAGES,task:"assetFile"};n.getOpenInformation(t,function(t){return t?void n.getImageInfomation(t,function(n,i){console.log("# IMAGE 정보 : %o",i),e(t,i)}):(console.log("경로가 지정되지 않았습니다."),void e())})},elementImageChange:function(n,o,a){var l,r=e.get(a),c=r.value("currentState"),s=r.getNoneCopyValue("state"),u=s[c].style.backgroundImage;if(u){var d=["normal","over","down"];for(var p in d){var g=d[p];if(g!==c){var m=s[g].style,v=m.backgroundImage;if(v===u){u="";break}}}}u&&(l={uid:u});var f,h=n?t.createUID():void 0;h&&o&&(f={width:o.width,height:o.height});var y={};y[c]={style:{backgroundImage:h}};var b={element:a,update:{currentState:c,state:y},asset:{remove:l,add:{uid:h,data:{original:n,property:f}}}};i.sourceChange(b,"WORK_ASSET_IMAGES_FOLDER",function(e){console.log("Image 수정 종료 : ",e)})},masterImageChange:function(e,t,n){return e?void o.insertMaster(e,t,function(t){return t?console.error("master 적용 에러 : ",t):void console.log("master 적용됨 : ",e)}):void o.removeMaster(n,function(){console.log("master 제거됨")})}},new l}var t=MODULE.tool.instance;t.factory("$changeImageSource",e),e.$inject=["$elements","$assets","$externalAPI","$propertyManager","$assetManager","FileSystem"]}(),function(){function e(e){function t(){}t.prototype={project:function(){return{}},document:function(){return{master:"",masterStyle:{backgroundSizeOption:"auto",backgroundSize:"50% 50%",backgroundOrigin:"border-box",backgroundRepeat:"no-repeat",backgroundPosition:"0% 0%"}}},element:function(t){var n={css:{},style:{fontFamily:"",fontSize:"12px",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",backgroundSizeOption:"contain",backgroundSize:"100% 100%",backgroundOrigin:"border-box",backgroundRepeat:"no-repeat",backgroundPosition:"0% 0%",borderWidth:"0px",borderStyle:"solid",borderRadius:"0px 0px 0px 0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",textAlign:"left",textIndent:["0px","0pt","0cm","0em","0%"],letterSpacing:["0px","0pt","0cm","0em","0%"],lineHeight:"1em",columnCount:"auto",columnGap:"1em",columnRuleWidth:"0px",columnRuleStyle:"solid"},option:{text:"",overflowVisible:!1,overflowX:"hidden",overflowY:"hidden"}},i="15px";return t===e.TEXT&&(n.style.paddingTop=i,n.style.paddingRight=i,n.style.paddingBottom=i,n.style.paddingLeft=i,n.option.useAutolink=!0,n.option.useRichtext=!0),n}};var n=new t,i={get:function(t,i){var o;switch(t){case e.PROJECT:o=n.project();break;case e.DOCUMENT:o=n.document();break;default:o=n.element(t)}return void 0===i?o:o[i]}};return i}var t=MODULE.tool.instance;t.service("$defaultProperty",e),e.$inject=["ElementType"]}(),function(){function e(e,t,n,i){function o(){}return o.prototype={input:function(o,a){function l(e,n){if(a.uid){if(e=m(e,n),void 0===e){var i=w(d,u);angular.isArray(i)&&(i=i[0]),e=i}if(e!==n){if(a[p].unitPattern)if(e){var o=t.parseUnit(e,a[p].unitPattern);a[p].value=o.num,a[p].unit=o.unit}else a[p].value="",a[p].unit="";else a[p].value=e;return v(e,n)}}}function r(e,t,n){return a.getCurrentPropertyValue(e,t,n)}function c(t,n){return e.get(a.type,t)[n]}function s(e,t,i,o,l,r){n.liveUpdate(e,l,function(e){h(e),a[o]&&"edit"in a[o]&&(a[o].edit=e),r&&r()})}var u=o.propertyName,d=o.groupName,p=o.itemName,g=o.item,m=o.setValueBefore;void 0===m&&(m=function(e){return e});var v=o.setValue;void 0===v&&(v=function(e){});var f=o.liveUpdateBefore;void 0===f&&(f=function(){});var h=o.liveUpdate;void 0===h&&(h=function(e){});var y=o.invalid;void 0===y&&(y=!1);var b=o.submit;void 0===b&&(b=function(e,t){});var x=o.defaultLiveUpdateFunction||s,w=o.getDefaultValue||c,j=o.getCurrentPropertyValue||r;a[p]=g,a[d][u]=j(a.uid,d,u),l(a[d][u]);var $=a.$watch(function(){var e=j(a.uid,d,u);return e},function(e,t){e!==t&&(l(e,t),console.log("# 값이 변함 (SAFETY) : ",d,u,e,"(<-",t,")"))}),C=a.$watch(function(){return a.uid},function(e,t){a.uid&&(a[d][u]=j(a.uid,d,u),l(a[d][u]))}),k=a.$watch(function(){return a[d][u]},function(e,t){l(e,t)});a[p+"LiveUpdate"]=function(e){if(!i.safety())return"not safety";if(a.uid){f();var t=a[p].value;a[p].unit&&(t+=a[p].unit);var n={};n[d]={},n[d][u]=t,x(a.uid,d,u,p,n,e)}},a[p+"Change"]=function(){return i.safety()?void a[p+"LiveUpdate"](function(){if(a[p]){var e=a[p].edit;if(void 0!==e&&e[d]){var t=e[d][u],n=l(t);n||b(a.uid,e,d,u)}}}):"not safety"},y&&(a[p+"Invalid"]=function(e,t,n){"function"==typeof y?y(e,t,n):a[p+"Change"]()}),a.$on("$destroy",function(){a[p+"Change"]=null,a[p+"LiveUpdate"]=null,a[p+"Invalid"]=null,a[p]=null,$(),C(),k()})}},new o}var t=MODULE.tool.instance;t.service("$formInteraction",e),e.$inject=["$defaultProperty","$util","$selectManager","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(){}return u.prototype={submit:function(t,i,o){function a(t){var n=e.get(t),i=n.value("state"),o=n.value("currentState");return i[o]}function l(e,t,n,i,o){var a=t[e],c=i?i[e]:null,s=o?o[e]:void 0;if(console.log("* :",e,t),a&&angular.isArray(a)){n[e]=[];var u=!0;return function(){for(var t in a){var i=l(t,a,n[e],c,s);i||(u=!1)}}(),u&&(delete t[e],delete n[e]),u}if(a&&angular.isObject(a)){n[e]={};var u=!0;return function(){for(var t in a){var i=l(t,a,n[e],c,s);i||(u=!1)}}(),u&&(delete t[e],delete n[e]),u}return r(e,t,n,c,s),void 0===t[e]}function r(e,t,n,i,o){var a=t[e];return void 0!==i&&(a=a==i?void 0:a),o==a?void delete t[e]:(console.log("# Submit CHANGE [",e,"] : ",o,"--->",a),void(n[e]=a))}var c=angular.copy(i),s=a(t),u=e.get(t).type(),d=n.get(u),p={};for(var g in c)l(g,c,p,d,s);console.log("* editData :",p),this._submitElement(t,p,o)},_submitElement:function(n,i,o){if(!n||!i)return void console.log("# Not CHANGE [",n,"]");var l=e.get(n),r=l.value("currentState"),c={};c[r]=i;var s={document:t.uid(),elements:[{element:n,data:{currentState:r,state:c}}]};a.modifyElement(s,o)},sourceChange:function(e,n,o){function s(e){var t={document:p,elements:[{element:g,data:m,asset:{add:d,remove:u}}]};console.log("$asset 수정 : ",t),a.modifyElement(t,function(t){e&&e(t)})}var u,d,p=t.uid(),g=e.element,m=e.update,v=e.asset;if(!v)return s(o);var f=v.remove;if(f&&f.uid&&(u=l.getRemoveParam(p,[f.uid])),!v.add)return s(o);var h=v.add,y=h.data||{},b=y.original;if(!b)return s(o);var x=h.uid||c.createUID(),w=r.type(b),j=i.pattern.source.test(b),$={type:w};for(var C in y){var k=y[C];$[C]=k}return $.path=j?b:n,d=l.getAddParam(p,[{asset:x,needToCopy:!j,data:$}]),s(o)},resetImageSize:function(o,l){var r=e.get(o),c=r.style(),s=r.css(),u=this.checkImageContainerSize(r),d=n.get(r.type(),"style"),p=c.backgroundPosition||d.backgroundPosition,g=p.match(/([+-.\d\w]+)%/g),m=i.parseUnit(g[0],"%").num,v=i.parseUnit(g[1],"%").num,f=m/100*(u.width-s.width),h=v/100*(u.height-s.height);s.left=s.left-f,s.top=s.top-h,s.width=u.width,s.height=u.height;var y=e.get(o).value("currentState"),b={};b[y]={css:s};var x={document:t.uid(),elements:[{element:o,data:{currentState:y,state:b}}]};console.log("$asset 수정 : ",x),a.modifyElement(x,function(e){l&&l(e)})},checkImageContainerSize:function(e){var t=e.style();if(!t.backgroundImage){var o=e.css();return o}var a=t.backgroundImage,l=c.get(a),r=l.value("property"),s=i.parseUnit(t.borderWidth,"px").num,u=i.parseUnit(t.paddingLeft,"px").num,d=i.parseUnit(t.paddingRight,"px").num,p=i.parseUnit(t.paddingTop,"px").num,g=i.parseUnit(t.paddingBottom,"px").num,m=n.get(e.type(),"style");return void 0===s&&(s=i.parseUnit(m.borderWidth,"px").num),void 0===u&&(u=i.parseUnit(m.paddingLeft,"px").num),void 0===d&&(d=i.parseUnit(m.paddingRight,"px").num),void 0===p&&(p=i.parseUnit(m.paddingTop,"px").num),void 0===g&&(g=i.parseUnit(m.paddingBottom,"px").num),r.width=r.width+(2*s+u+d),r.height=r.height+(2*s+p+g),r}},new u}var t=MODULE.tool.instance;t.factory("$propertyManager",e),e.$inject=["$elements","$documents","$defaultProperty","$util","$projects","$commandController","$assetManager","$mime","$assets","UIDType"]}(),function(){function e(e,t,n,i){function o(){var e=i.get();if(!e)return 1;var t=e.getNoneCopyValue("documents");if(!t||t.length<1)return 1;var n=e.getNoneCopyValue("app");return void 0===n.$$temp_scale?n.scale:n.$$temp_scale}return{_$paper:void 0,setPaper:function(e,t){this._$paper=e,this.offset=this.setOffset(t)},offset:void 0,setOffset:function(e){var n=o(),a=this._$paper.offset();if(!e)return{scale:n,angle:0,left:a.left,top:a.top};var l=this._$paper[0].getBoundingClientRect(),r=i.get().value("paper");r.width=r.width*n,r.height=r.height*n;var c={x:(r.width-l.width)/2,y:(r.height-l.height)/2},s={x:a.left-c.x,y:a.top-c.y},u={x:r.width/2,y:r.height/2},d=e*Math.PI/180*-1,p=t.rotatePoint({x:-u.x,y:-u.y},d,{x:u.x,y:u.y}),g={x:s.x+p.x,y:s.y+p.y};return{scale:n,angle:e,rotatedOrigin:p,left:g.x,top:g.y}},rectangle_atRotatedPaper:function(e,t){var n=this.globalToRotatedPaper(e.x,e.y),i=this.globalToRotatedPaper(t.x,t.y),o=this.drawRectangle(n,i);return o},rectangle_inPaper_toPoints:function(e){var t=e,n={p1:{x:t.x,y:t.y},p2:{x:t.x+t.w,y:t.y},p3:{x:t.x+t.w,y:t.y+t.h},p4:{x:t.x,y:t.y+t.h}};return this.offset.angle?(n.p1=this.rotatedToLocalPaper(n.p1.x,n.p1.y),n.p2=this.rotatedToLocalPaper(n.p2.x,n.p2.y),n.p3=this.rotatedToLocalPaper(n.p3.x,n.p3.y),n.p4=this.rotatedToLocalPaper(n.p4.x,n.p4.y),n):n},element_atRotatedPaper:function(e){var t=e,n={x:t.left-this.offset.left,y:t.top-this.offset.top,w:t.width,h:t.height};return n},dragRectangle_atGlobal:function(e){var t=e,n=this.offset.scale,i=this.offset.left,o=this.offset.top,a={x:t.x*n+i,y:t.y*n+o,w:t.w*n,h:t.h*n};return a},dragRectangle_atMask_toPoints:function(e,t){var n=e,i=t;i||(i={x:0,y:0});var o=this.offset.scale,a=(n.x*o-i.x)/o,l=(n.y*o-i.y)/o,r=n.w*o/o,c=n.h*o/o,s={p1:{x:a,y:l},p2:{x:a+r,y:l},p3:{x:a+r,y:l+c},p4:{x:a,y:l+c}};return s},globalToRotatedPaper:function(e,t){var n=this.offset,i=this.offset.scale,o=(e-n.left)/i,a=(t-n.top)/i;return{x:o,y:a}},globalToLocalPaper:function(e,n){var o=this.globalToRotatedPaper(e,n);if(!this.offset.angle)return o;var a=this.offset.scale,l=o.x+this.offset.rotatedOrigin.x,r=o.y+this.offset.rotatedOrigin.y,c=i.get().value("paper");c.width=c.width*a,c.height=c.height*a;var s={x:c.width/2,y:c.height/2},u=this.offset.angle*Math.PI/180,d=t.rotatePoint({x:l-s.x,y:r-s.y},u,{x:s.x,y:s.y});return d},rotatedPaperToGlobal:function(e,t){var n=this.offset,i=this.offset.scale,o=e*i+n.left,a=t*i+n.top;return{x:o,y:a}},rotatedToLocalPaper:function(e,t){var n=this.rotatedPaperToGlobal(e,t),i=this.globalToLocalPaper(n.x,n.y);return i},drawRectangle:function(e,t){var n=Math.min(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.x,t.x),a=Math.max(e.y,t.y),l={x:n,y:i,w:o-n,h:a-i};return l},getPolygon:function(e){var t=new SAT.Polygon(new SAT.Vector,[new SAT.Vector(e.p1.x,e.p1.y),new SAT.Vector(e.p2.x,e.p2.y),new SAT.Vector(e.p3.x,e.p3.y),new SAT.Vector(e.p4.x,e.p4.y)]);return t},isCollision:function(e,t,n){if(n)for(var i in t){var o=t[i],a=new SAT.Vector(o.x,o.y),l=SAT.pointInPolygon(a,e);if(!l)return!1}var r=this.getPolygon(t);return SAT.testPolygonPolygon(e,r)}}}var t=MODULE.tool.instance;t.service("$collision",e),e.$inject=["$groups","$elements","$selects","$projects"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(){}return u.prototype={$mouseOwner:void 0,_$paper:void 0,rectangle:void 0,_touch:void 0,_touchID:void 0,_handler:void 0,_padding:void 0,config:function(e){this.$mouseOwner=e.mouseOwner,this._padding=e.padding||0},deactive:function(){e.remove(this._touchID),this._touchID=null,this._handler=null,this._touch&&(this._touch.deleteEvent(),this._clear(),this._select=null,this.mousedownType="",this.clickType="",this._clearDoubleClick())},activate:function(t,n){this._touchID=t,this._handler=n||{},this._touch&&this._touch.deleteEvent(),this._touch=e.instance(this._touchID),this._touch.createEvent(this.$mouseOwner,{start:this.onStart,move:this.onMove,end:this.onEnd,click:this.onClick,dblclick:this.onDblclick},this),this._select||(this._select=[])},_select:void 0,getSelect:function(){return angular.copy(this._select)},_cancel:function(){this._clear(),this._handler.cancel&&this._handler.cancel()},_isMoved:!1,_ctrlKey:!1,_shiftKey:!1,_altKey:!1,mousedownType:"",clickType:"",_available:!0,_groupOffset:void 0,_selectableElements:void 0,_editingUID:"",_editingGroup:"",startScreenPoint:void 0,_editGroupRectangle_atRotatedPaper:void 0,dragRectangle:void 0,dragRectangle_inMask:void 0,drawGlobalRectangle:void 0,_checkAvailable:function(){return this.mousedownType?this._editingUID?!1:!0:!1},_checkEditingState:function(){var e=o.get();this._editingUID=e.value("editingUID"),this._editingGroup=e.currentEditGroup(),this._available=this._checkAvailable()},onStart:function(e){if(c.spaceFlag)return this._cancel();if(this._checkEditingState(),!c.checkInputbox(document.activeElement)&&(this.mousedownType!==this._editingUID&&e.preventDefault(),this._clear(),this._available)){var t="transform"===this.mousedownType;if(t)return!0;if("editPanel"!==this.mousedownType){if(this._$paper=this.$mouseOwner.find("[jj-paper]"),this._groupOffset=l.getEditGroupOffset(),s.setPaper(this._$paper,this._groupOffset.angle),this.startDragPoint={x:e.pageX,y:e.pageY},this._editingGroup){var o=i.get(this._editingGroup).value("owner"),a=this._$paper.find('[jj-element-mask][uid="'+o+'"]'),r=a[0].getBoundingClientRect();this._editGroupRectangle_atRotatedPaper=s.element_atRotatedPaper(r)}this._isMoved=!1,this._ctrlKey=e.ctrlKey,this._shiftKey=e.shiftKey,this._altKey=e.altKey,this._selectableElements=function(){var e=l.getChildElements();return e.filter(function(e){var t=n.get(e),i=t.layer("isLock");

if(i)return!1;var o=t.layer("isHide");return o?!1:!0})}()}}},onMove:function(e,t){if(c.spaceFlag)return this._cancel();if(this._checkEditingState(),this._available&&!c.checkInputbox(document.activeElement)&&(e.preventDefault(),this._isMoved=!0,"transform"!==this.mousedownType&&"editPanel"!==this.mousedownType)){if(!this.startDragPoint)return void this.onStart(e);var n=s.rectangle_atRotatedPaper(this.startDragPoint,{x:e.pageX,y:e.pageY});this.dragRectangle=s.rectangle_inPaper_toPoints(n),this.drawGlobalRectangle=s.dragRectangle_atGlobal(n),this.dragRectangle_inMask=s.dragRectangle_atMask_toPoints(n,this._editGroupRectangle_atRotatedPaper);var i=this.updateCollision(this.dragRectangle_inMask,this._altKey);this._select=this.selectMode(i),this._handler.update&&this._handler.update(),this._$paper.scope().$applyAsync()}},onEnd:function(e){if(c.spaceFlag)return this._cancel();if(this._checkEditingState(),this._available&&!c.checkInputbox(document.activeElement)&&(e.preventDefault(),this.mousedownType&&this._isMoved)){if(this._clearDoubleClick(),"transform"===this.mousedownType)return void console.info("# 드래그 이동");var t=!1,n=!1;if(this._editingUID||"editPanel"===this.mousedownType)n=!0;else{t=!0;var i=o.get().get(),a=this._ctrlKey&&!this._altKey&&!this._shiftKey;a?(this._select.forEach(function(e){var t=i.indexOf(e);0>t?i.push(e):i.splice(i.indexOf(e),1)}),this._select=i,console.info("# 드래그 다중 선택")):console.info("# 드래그 (선택)")}this._handler.complete&&this._handler.complete(n),this._clear(),this.mousedownType="",t&&(this._select=[]),this._$paper&&this._$paper.scope().$applyAsync()}},onClick:function(e){function t(){console.info("# 클릭 - ",this.clickType),this._handler.click&&this._handler.click(this.clickType,r),this.$mouseOwner.scope().$applyAsync(),this._clear(),this.mousedownType="",this.clickType=""}if(c.spaceFlag)return this._cancel();if(this._checkEditingState(),this._available&&!c.checkInputbox(document.activeElement)){if(e.preventDefault(),this._isMoved)return void(this.clickType="");var n=o.get().get(),i=this._ctrlKey&&!this._altKey&&!this._shiftKey,a="transform"===this.mousedownType;if(i){if(this._clearDoubleClick(),a)console.log("# Ctrl 클릭 - isTransform : ",this.mousedownType);else if(0===this.mousedownType.indexOf("element-")){var l=this.selectMode([this.mousedownType]);l.forEach(function(e){var t=n.indexOf(e);0>t?n.push(e):n.splice(t,1)}),this._select=n}else console.log("# Ctrl 클릭 - 선택 상태 변경하지 않음"),this._select=n;return void t.apply(this)}var r;a?(console.info("# 클릭 - 선택 상태 변동없음 (dbl 체크-편집모드)"),this._select=n):0===this.mousedownType.indexOf("element-")?this._select=this.selectMode([this.mousedownType]):this._editingUID?(console.log("# 클릭 - 편집 상태임"),"editPanel"===this.mousedownType&&(r="element")):n.length>0?(console.log("# 클릭 - 모두 선택 해지"),this._select=[]):this._select=n,this._checkDoubleClick(),t.apply(this)}},_dblclickType:"",_clearDoubleClick:function(){this._dblclickType=""},_checkDoubleClick:function(e){this._dblclickType=this.clickType},onDblclick:function(e){function t(){n&&(console.info("# 더블 클릭 실행 : ",this._dblclickType),this._handler.dblclick&&this._handler.dblclick(this._dblclickType,a),this.$mouseOwner.scope().$applyAsync()),this._clearDoubleClick()}if(this._dblclickType&&!c.checkInputbox(document.activeElement)){e.preventDefault();var n=!0,o=i.isMaskElement(this._select);if(this._select.length>1&&!o)console.info("# 단순 다중 선택 - 더블클릭 기능 없음"),n=!1,r.message("다중 선택 상태에서는 편집할 수 없습니다.");else{var a,l="transform"===this._dblclickType;if(l)a="";else if("editPanel"===this._dblclickType)console.info("# 더블 클릭 - 편집 상태임"),a="element";else if("screen"===this._dblclickType||"paper"===this._dblclickType){var a="";this._editingUID?a="element":this._editingGroup&&(a="group"),a||(n=!1)}else console.error("element- 일어나지 않는 경우임"),n=!1}t.apply(this)}},_clear:function(){this.startDragPoint=null,this._editGroupRectangle_atRotatedPaper=null,this.dragRectangle=null,this.dragRectangle_inMask=null,this.drawGlobalRectangle=null,this._ctrlKey=!1,this._shiftKey=!1,this._altKey=!1,this._isMoved=!1},updateCollision:function(e,t){if(!this._selectableElements)return[];var i=s.getPolygon(e),o=this._selectableElements.filter(function(e){var o=n.get(e),a=o.getRotatedPoints();return s.isCollision(i,a,t)});return o},selectMode:function(e){if(!e)return null;var t=e;if(!this._selectableElements)return t;var n=this;return t=t.filter(function(e){return n._selectableElements.indexOf(e)>-1})}},new u}var t=MODULE.tool.instance;t.service("$selectDragger",e),e.$inject=["Touch","$projects","$elements","$groups","$selects","$timeout","$mask","$toast","$key","$collision"]}(),function(){function e(e,t,n,i){function o(){}return o.prototype={getElementContainerScope:function(e){var n=t.uid(),i=angular.element('[screen-container] [document="'+n+'"] [page-container] [jj-element-container][uid="'+e+'"]');return i.scope().$$childHead},liveUpdate:function(e,t,n){var i=this.getElementContainerScope(e);i.liveUpdate(t,function(e){i.$applyAsync(),n&&n(e)})}},new o}var t=MODULE.tool.instance;t.factory("$selectManager",e),e.$inject=["$selects","$documents","$elements","$groups"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(t,n,i,o){if(!i)return void e.keydown(n,o);var a=t[n];e.keydown(n,a,o)}function s(t,n,i,o){if(!i)return void e.keyup(n,o);var a=t[n];e.keyup(n,a,o)}e.addKeycodes({45:"insert",46:"delete",107:"numlockPlus",109:"numlockMinus"}),Mousetrap.bind(["v u l c a n / / /","ctrl+f2"],function(e){console.error("easter egg"),t.openPopup_easterEgg()},"keyup"),Mousetrap.bind("f1",function(i){n.counter()>0||e.isPaused()||t.openShortcutsPage()});var u={application:function(e){var t=i.get();s(t,"ctrl+n",e),s(t,"ctrl+o",e),s(t,"ctrl+q",e)},project:function(e){var t=o.get();s(t,"ctrl+w",e),s(t,"ctrl+s",e),s(t,"ctrl+shift+s",e),s(t,"alt+p",e),s(t,"alt+i",e),s(t,"alt+f",e),s(t,"alt+d",e),s(t,"alt+1",e),s(t,"alt+2",e),s(t,"alt+3",e),s(t,"alt+4",e),s(t,"alt+5",e),s(t,"alt+6",e),s(t,"alt+7",e),s(t,"alt+h",e)},document:function(e){var t=a.get();s(t,"ctrl+z",e),s(t,"ctrl+shift+z",e),s(t,"ctrl+y",e),s(t,"ctrl+c",e),s(t,"ctrl+x",e),s(t,"ctrl+v",e),s(t,"ctrl+shift+v",e),s(t,"ctrl+a",e),s(t,"ctrl+insert",e),s(t,"ctrl+delete",e),s(t,"ctrl+pageup",e),s(t,"ctrl+pagedown",e),s(t,"ctrl+home",e),s(t,"ctrl+end",e),s(t,"ctrl+enter",e),s(t,"ctrl+e",e),s(t,"ctrl+shift+e",e),s(t,"alt+t",e),s(t,"alt+shift+t",e),s(t,"ctrl+numlockPlus",e),s(t,"ctrl+numlockMinus",e)},select:function(e){var t=l.get();s(t,"delete",e),s(t,"ctrl+g",e),s(t,"ctrl+shift+g",e),s(t,"esc",e),s(t,"left",e),s(t,"up",e),s(t,"right",e),s(t,"down",e),s(t,"shift+left",e),s(t,"shift+up",e),s(t,"shift+right",e),s(t,"shift+down",e),c(t,"left",e),c(t,"up",e),c(t,"right",e),c(t,"down",e),c(t,"shift+left",e),c(t,"shift+up",e),c(t,"shift+right",e),c(t,"shift+down",e)},notice:function(e){},popup:function(e,t){}};return u}var t=MODULE.tool.instance;t.service("$shortcuts",e),e.$inject=["$key","$commandController","$notice","$shortcuts_application","$shortcuts_project","$shortcuts_document","$shortcuts_select","$shortcuts_popup"]}(),function(){function e(e){var t={"ctrl+n":function(t){console.info("Ctrl + N"),e.newProject()},"ctrl+o":function(t){console.info("Ctrl + O"),e.openProject()},"ctrl+q":function(t){console.info("Ctrl + Q"),e.exit()}};return{get:function(){return t}}}var t=MODULE.tool.instance;t.service("$shortcuts_application",e),e.$inject=["$commandController"]}(),function(){function e(e,t,n,i,o){var a={"ctrl+z":function(t){console.info("Ctrl + Z"),e.undo()},"ctrl+shift+z":function(t){console.info("Ctrl + Y"),e.redo()},"ctrl+y":function(t){console.info("Ctrl + Y"),e.redo()},"ctrl+c":function(t){console.info("Ctrl + C"),e.copy()},"ctrl+x":function(t){console.info("Ctrl + X"),e.cut()},"ctrl+v":function(t){console.info("Ctrl + V"),e.paste()},"ctrl+shift+v":function(t){console.info("Ctrl + Shift + V"),e.paste({offset:!1})},"ctrl+a":function(t){console.info("Ctrl + A");var a=i.getChildElements(),l=a.filter(function(e){var t=o.get(e),n=t.layer("isLock");if(n)return!1;var i=t.layer("isHide");return i?!1:!0});if(l&&!(l.length<1)){var r={document:n.uid(),selects:l};e.selectElement(r)}},"ctrl+insert":function(n){console.info("Ctrl + Insert");var i=t.get();if(i){var o=i.getSelectDocument(o),a=i.getIndex(o)+1;e.addDocument({position:a})}},"ctrl+delete":function(n){console.info("Ctrl + Delete");var i=t.get();if(i){var o=i.getSelectDocument(o);e.removeDocument(o)}},"ctrl+pageup":function(n){console.info("PageUp");var i=t.get();if(i){var o=i.getSelectDocument(o),a=i.getIndex(o)-1;0>a||(o=i.getDocument(a),e.selectDocument(o))}},"ctrl+pagedown":function(i){console.info("PageDown");var o=t.get();if(o){var a=o.getSelectDocument(a),l=o.getIndex(a)+1;l!=n.getLength()&&(a=o.getDocument(l),e.selectDocument(a))}},"ctrl+home":function(n){console.info("Home");var i=t.get();if(i){var o=i.getDocument(0);e.selectDocument(o)}},"ctrl+end":function(i){console.info("End");var o=t.get();if(o){var a=n.getLength()-1,l=o.getDocument(a);e.selectDocument(l)}},"ctrl+enter":function(t){console.info("Ctrl + ENTER"),e.preview()},"ctrl+e":function(t){console.info("Ctrl + E"),e.publish()},"ctrl+shift+e":function(t){console.info("Ctrl + Alt + E"),e.publish_viewer()},"alt+t":function(t){console.info("Alt + T"),e.exportTemplate()},"alt+shift+t":function(t){console.info("Alt + Shift + T"),e.importTemplate()},"ctrl+numlockPlus":function(t){console.info("Ctrl + PLUS"),e.zoomStep({direction:1})},"ctrl+numlockMinus":function(t){console.info("Ctrl + MINUS"),e.zoomStep({direction:-1})}},l={get:function(){return a}};return l}var t=MODULE.tool.instance;t.service("$shortcuts_document",e),e.$inject=["$commandController","$projects","$documents","$mask","$elements"]}(),function(){function e(){var e={};return{get:function(){return e}}}var t=MODULE.tool.instance;t.service("$shortcuts_popup",e)}(),function(){function e(e){var t={"ctrl+w":function(t){console.info("Ctrl + W"),e.closeProject()},"ctrl+s":function(t){console.info("Ctrl + S"),e.saveProject()},"ctrl+shift+s":function(t){console.info("Ctrl + Shift + S"),e.saveAsProject()},"alt+p":function(t){console.info("Alt + P"),e.publishSetting()},"alt+i":function(t){console.info("Alt + I"),e.contentEditor()},"alt+f":function(t){console.info("Alt + F"),e.fileEditor()},"alt+d":function(t){console.info("Alt + D"),e.importDocuments()},"alt+1":function(t){console.info("Alt + 1"),e.selectCategoryMenu("left",0)},"alt+2":function(t){console.info("Alt + 2"),e.selectCategoryMenu("left",1)},"alt+3":function(t){console.info("Alt + 3"),e.selectCategoryMenu("left",2)},"alt+4":function(t){console.info("Alt + 4"),e.selectCategoryMenu("left",3)},"alt+5":function(t){console.info("Alt + 5"),e.selectCategoryMenu("right",0)},"alt+6":function(t){console.info("Alt + 6"),e.selectCategoryMenu("right",1)},"alt+7":function(t){console.info("Alt + 7"),e.selectCategoryMenu("right",2)},"alt+h":function(t){console.info("Alt + h"),e.selectCategoryMenu("left",5)}};return{get:function(){return t}}}var t=MODULE.tool.instance;t.service("$shortcuts_project",e),e.$inject=["$commandController"]}(),function(){function e(e,t,n,i,o){var a={"delete":function(i){console.info("DELETE");var o=t.uid(),a=n.get().get(),l={document:o,elements:a};e.removeElement(l)},"ctrl+g":function(o){console.info("Ctrl + G");var a=n.get();if(!(a.getLength()<1)){var l={document:t.uid(),data:{indexes:i.sort(a.get())}};e.createGroup(l)}},"ctrl+shift+g":function(i){console.info("Ctrl + Shift + G");var o=n.get(),a=o?o.value("currentGroup"):"";if(a){var l={document:t.uid(),group:a};e.removeGroup(l)}},esc:function(){console.info("Esc");var i=t.uid(),o=n.get(i),a=o.value("editingUID");if(a)return void e.closeEditElement({document:i});var l={document:t.uid(),selects:[]};e.selectElement(l)},left:function(e){var t="keyup"!==e.type;console.info("left : ",t),o.moveDirection(-1,"left",null,t)},right:function(e){var t="keyup"!==e.type;console.info("right : ",t),o.moveDirection(1,"left",null,t)},up:function(e){var t="keyup"!==e.type;console.info("up : ",t),o.moveDirection(-1,"top",null,t)},down:function(e){var t="keyup"!==e.type;console.info("down : ",t),o.moveDirection(1,"top",null,t)},"shift+left":function(e){var t="keyup"!==e.type;console.info("ctrl+left",t),o.moveDirection(-10,"left",null,t)},"shift+right":function(e){var t="keyup"!==e.type;console.info("ctrl+right",t),o.moveDirection(10,"left",null,t)},"shift+up":function(e){var t="keyup"!==e.type;console.info("ctrl+up",t),o.moveDirection(-10,"top",null,t)},"shift+down":function(e){var t="keyup"!==e.type;console.info("ctrl+down",t),o.moveDirection(10,"top",null,t)}};return{get:function(){return a}}}var t=MODULE.tool.instance;t.service("$shortcuts_select",e),e.$inject=["$commandController","$documents","$selects","$mask","$align"]}(),function(){function e(e,t,n,i,o){function a(){}a.prototype={getEventList:function(){var t=e;return t},getEventGroups:function(e){var n=[];switch(e){case t.DOCUMENT:n=n.concat(["document"]);break;case t.IMAGE:n=n.concat(["mouse","basic"]);break;case t.TEXT:n=n.concat(["mouse","basic","keyboard"]);break;case t.VIDEO:n=n.concat(["mouse","basic","media"]);break;case t.AUDIO:n=n.concat(["mouse","basic","media"]);break;case t.INPUT:n=n.concat(["mouse","basic","form"]);break;case t.MASK:n=n.concat(["mouse","basic"]);break;case t.HTML:n=n.concat(["basic"]);break;case t.WEB:n=n.concat(["basic"])}return n},getEvents:function(e){var t=this.getEventList(),n=[];for(var i in e){var o=e[i],a=t[o];for(var l in a){var r=a[l];r.group=o,n.push(r)}}return n},getCurrentEvent:function(e){if(!e)return{};var t=this._getData(e),n=t?t.getNoneCopyValue("events"):{};return n},_getData:function(e){var t,o=0===e.indexOf(n.type);return t=o?n.get(e):e?i.get(e):null},save:function(e,i,a){console.log("# 전송 (수정된 resultEvents 을 데이터 바인딩)");var l=this._getData(e),r=l.dataType();if(r===t.GROUP)return void console.error("그룹 UID는 이벤트 편집이 지원되지 않습니다.");var c;r===t.DOCUMENT?(c={ignoreCapture:!0,document:e,data:{events:i},_nothing:function(){a&&a()}},o.modifyDocument(c,a)):(c={ignoreCapture:!0,document:n.uid(),elements:[{element:e,data:{events:i}}],_nothing:function(){a&&a()}},o.modifyElement(c,a))}};var l=new a;return l}var t=MODULE.tool.instance;t.service("$eventEditor",e),e.$inject=["EventPrototype","ElementType","$documents","$elements","$commandController"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(t,n,o){function l(){t.eventCounter={};var e=t.events,n=t.resultEvents;for(var i in e){var o=e[i].type;t.eventCounter[o]=n[o]&&n[o].actions?n[o].actions.length+1:1}}function s(){t.eventGroups=c.getEventGroups(t.type),t.events=c.getEvents(t.eventGroups);var n;n=t.type==e.DOCUMENT?a.uid():r.get().isSingleSelected(),t.uid=n,u()}function u(){g&&(g(),g=null),t.uid&&(g=t.$watchCollection(function(){var e=c.getCurrentEvent(t.uid);return e},function(e,n){t.resultEvents=angular.copy(e),l()}))}function d(){console.log("# 전송 (수정된 resultEvents 을 데이터 바인딩)");var e=t.resultEvents;c.save(t.uid,e)}function p(e,n,o){function a(e){console.log("close popup : ",e),o(e)}i.open({template:'<div jj-event-editor-popup popup-dialog config="config">',item:n,type:t.type,eventType:e,title:"이벤트 동작 설정",cancel:"취소",ok:"확인"},a)}var g,m=t.$watch(function(){return t.type},function(e){s()}),v=t.$watch(function(){var n=t.type==e.DOCUMENT?a.uid():r.get().isSingleSelected();return n},function(e){s()});t.resultEvents=c.getCurrentEvent(t.uid),l(),t.addEvent=function(e,n){console.log("item : ",e);var i=e.type;p(i,n,function(e){if(e){var n=t.resultEvents;n[i]||(n[i]={type:i,actions:[]});var o=n[i].actions;o.push(e),d()}})},t.deleteAction=function(e,n){var i=t.resultEvents[e].actions;i.splice(n,1),i.length<1&&delete t.resultEvents[e],d()},t.editAction=function(e,n){var i=t.resultEvents[e].actions,o=i[n];p(e,o,function(e){e&&(i[n]=e,d())})},t.$on("$destroy",function(){t.eventGroups=null,t.events=null,t.config=null,t.resultEvents=null,m(),v(),g&&(g(),g=null)})}return{restrict:"EA",templateUrl:"content/event/jj-event-basic.html",replace:!0,scope:!0,link:s}}var t=MODULE.tool.instance;t.directive("jjEventBasic",e),e.$inject=["ElementType","EventPrototype","$commandController","$import","$notice","$documents","$elements","$selects","$eventEditor"]}(),function(){function e(e,t,n,i){function o(o,a,l){function r(){var t=e;try{for(var i in t){var o=t[i];for(var a in o){var l=o[a];l.desc&&"string"==typeof l.desc&&(l.desc=n.trustAsHtml(l.desc.replace(/\n/gim,"<br>")))}}}catch(r){console.warn("\n# 리로딩 후 실행시 Error: [$sce:unsafe] 에러 발생함.\n리로딩은 비정상 동작이므로 신경쓰지 않아도 됨."),console.error(r)}return t}function c(){o.config.item=o.config.item&&"string"==typeof o.config.item?function(e,t){return e.split(".").forEach(function(e){t&&(t=t[e])}),t}(o.config.item,o.actionList):o.config.item||o.actionList.common.none,o.result=angular.copy(o.config.item),s()}function s(){o.currentAction=o.result.group+"."+o.result.name,o.selectAction=angular.copy(o.actionList[o.result.group][o.result.name]);var e=o.result.params||[],t=o.selectAction.params;for(var n in t){var i=t[n],a=e[n];if(i.name||!a.name)if(void 0!==a&&i.name==a.name){console.log("* 이전 설정값 : ",i.name);var l=a.type!=i.type;for(var r in a)"type"!=r&&(l&&"value"==r?(i[r]=d(i.type,a[r]),a.type=i.type,console.debug("	- value [",a.type,"->",i.type,"] ",i[r],"(",typeof i[r],")")):(i[r]=a[r],console.log("	- ",r,":",i[r])))}else e[n]=u(i);else e.splice(n,0,i)}o.selectAction.asynchronous=o.result.asynchronous}function u(e){return{name:e.name,value:e.value,type:e.type,require:e.require}}function d(e,t){var n;switch(e){case"object":case"array":angular.isArray(t)&&(n=t),angular.isString(t)&&(n=angular.fromJson(t));break;case"boolean":if("string"==typeof t){var i=t.toLowerCase();n="true"===i?!0:"false"===i?!1:Boolean(t)}else n=Boolean(t);break;case"number":n=Number(t);break;case"string":default:n=String(t)}return n}function p(){var e=o.currentAction.split(".");return{group:e[0],name:e[1]}}function g(){var e=p(o.currentAction);o.selectAction=angular.copy(o.actionList[e.group][e.name]),o.result={asynchronous:o.selectAction.asynchronous};for(var t in o.selectAction)"params"!=t&&"desc"!=t&&(o.result[t]=o.selectAction[t]);var n=[],i=o.selectAction.params;for(var a in i){var l=i[a];n[a]=u(l)}o.result.params=n,console.log("# Action Change : ",o.result)}o.actionList=r(),o.actionGroups=function(){var e=["common","book","media","JJ Binder API (link)","JJ Binder API (native)","JJ Binder API (record)","custom"];switch(o.config.type){case t.DOCUMENT:break;case t.IMAGE:break;case t.TEXT:break;case t.VIDEO:break;case t.AUDIO:break;case t.INPUT:}return e}(),o.actions=function(e,t){var n=[];for(var i in t){var o=t[i],a=e[o];for(var l in a){var r=a[l];r.group=o,n.push(r)}}return n}(o.actionList,o.actionGroups);var m=o.$watch(function(){return o.config},function(e,t){c()},!0);o.actionChange=function(){console.log("currentActionName : ",o.currentAction),g()},o.submit=function(e,t){typeof t.value!=t.type&&(t.value=d(t.type,t.value)),console.log("# Param 값 변경 : [",e,"] require/",t.require," : ",t.name," : value/",t.value,"(",typeof t.value,")");var n=o.result.params[e];n.value=t.value,n.require=t.require},o.close=function(e){var t=o.callback;if(t)if(!o.result||1>e)t();else if("common"==o.result.group&&"none"==o.result.name)t();else{var n=o.getResult();t(n)}o.$applyAsync(),o.$destroy()},o.getResult=function(){var e=o.result.params;if(e)for(var t=e.length-1,n=t;n>=0;--n){var i=e[n];i.name||e.splice(n,1)}return o.result},o.weblink=function(e){i.weblink(e)},o.$on("$destroy",function(){m&&m(),o.actionList=null,o.actionGroups=null,o.actions=null,o.result=null,o.selectAction=null,o.currentAction=null})}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/event/jj-event-editor.html",replace:!0,scope:!1,controller:o}}var t=MODULE.tool.instance;t.directive("jjEventEditor",e),e.$inject=["ActionPrototype","ElementType","$sce","$util"]}(),function(){function e(){function e(e,t,n){e.escKey=function(){e.close(0)},e.enterKey=function(){e.close(1)},e.$on("$destroy",function(){e.config=null})}return{restrict:"EA",templateUrl:"content/event/jj-event-editor-popup.html",replace:!0,scope:!1,link:e}}var t=MODULE.tool.instance;t.directive("jjEventEditorPopup",e)}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p){function g(d,p,g){function m(e){if(e&&"image"===d.item.editor.display){var t='url("'+e+'")';d.displayImageStyle=angular.merge({backgroundSize:"contain",backgroundImage:t,backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"},d.item.editor.displayStyle)}else d.displayImageStyle={display:"none"}}function v(a){var l;l=d.item.editor.multiSelect?[]:[{label:"( "+d.item.desc+" )",value:""}];var r=d.item.value;for(var c in a){var s,u,p=a[c];switch(p){case"E":s=t.get().elements(),u=n;break;case"G":s=t.get().groups(),u=i;break;case"A":s=t.get().assets(),u=o;break;case"D":s=e.get().documents(),u=t}for(var g=s.length-1;g>=0;--g){var m=s[g],v=u.get(m).name();if(S&&S.length>0){var f=u.get(m).type();if(S.indexOf(f)<0){s.splice(g,1);continue}}if(s[g]={label:v+" ( "+m+" )",value:m},d.item.editor.multiSelect){var h=r.indexOf(m)>-1;s[g].select=h}}l=l.concat(s)}return l}function f(e){var t=[],n=d.UIDs;for(var i in n){var o=n[i].select;if(o){var a=n[i].value;t.indexOf(a)<0&&t.push(a)}}return t}function h(e,t){var n=p.find("#codeItem")[0];if(!n)return void console.error("Code Editor DOM이 준비되지 않음.");I=l.set(p.find("#codeItem")[0],a.codeEditor[e]),I.toButton({parent:p.find("[code-editor]")[0],eventName:"click",eventHandler:b});var i=I.get(),o=d.item.editor.placeholder||"Content goes here...";i.setOption("placeholder",o),i.setValue(t),i.getDoc().clearHistory(),i.on("change",y)}function y(e,t){d.item.value=e.getValue()||"",d.itemChange()}function b(e,t){var n=angular.element(e.currentTarget),i=n.text(),o={style:{left:e.clientX,top:e.clientY},selects:[i]};l.openExplorerPopup(o,function(e){if(e[0]){var n=e[0];t&&t({replace:n.target})}})}var x=d.item.editor.pattern;if(x){var w;if(x instanceof RegExp)w=x.source;else{if("string"!=typeof x)throw"잘못된 RegExp 표현식 입니다.";r.pattern[x]?(x=r.pattern[x],w=x.source):w=x}d.item.editor.pattern=w}var j=d.item.editor.classNames;if(j){var $={};for(var C in j){var k=j[C];$[k]=!0}d.classObject=$}d.item=d.item||{},d.item.editor=d.item.editor||{},d.item.editor.type=d.item.editor.type||"",d.temp=void 0===d.item.require?{enable:!0,displayEnableBox:!1}:{enable:d.item.require,displayEnableBox:!0},d.itemChange=function(){d.submit({index:d.index,result:d.item})},d.itemEnableChange=function(){console.log("# require 값 변경 : ",d.item.require,d.temp.enable),d.item.require=d.temp.enable,d.submit({index:d.index,result:d.item})};var _;if("image"===d.item.editor.display?_=d.$watch("item.value",function(e,t){m(e)}):(d.displayImageStyle={display:"none"},_&&_()),d.openImageDialogBox=function(){var e={accept:u.ACCEPT_IMAGES,task:"assetFile"};c.getOpenInformation(e,function(e){return e?(e=e.replace(/\\/g,"/"),d.item.value=e,console.log("# item 값 변경 : ",d.item.name," : ",d.item),void d.submit({index:d.index,result:d.item})):void console.log("경로가 지정되지 않았습니다.")})},d.removeResource=function(){d.item.value="",d.submit({index:d.index,result:d.item})},"select"==d.item.editor.type&&d.item.editor.data.unshift({label:"( 기본값 사용 ) "+d.item.desc,value:""}),"uid"==d.item.editor.type){var E=d.item.editor.data||"EG",S=d.item.editor.filter;d.UIDs=v(E,S)}d.itemUIDChange=function(){d.item.value=f(),d.itemChange()};var I;d.item.editor.codeEditorType&&d.$applyAsync(function(){if(d.item){var e=d.item.value||"",t=d.item.editor.codeEditorType;h(t,e)}}),d.openCodeEditor=function(){function e(e,t){return e?console.error("결과 에러 : ",e):void(void 0!==t&&I&&I.get().setValue(t))}var t=d.item.value||"",n=d.item.editor.codeEditorType,i=d.item.editor.codeEditorTitle||"코드 편집",o={template:'<div jj-code-editor-dialog-box popup-dialog config="config">',mode:n,title:i,placeholder:d.item.editor.placeholder,value:t,codeTest:!0};s.open(o,e)},d.openEditorKeymap=function(){l.openKeymap()},d.$on("$destroy",function(){if(_&&_(),d.item=null,d.jjBinding=null,d.temp=null,I){var e=I.get();e.off("change",y),l.destroy(I.uid())}I=null})}return{restrict:"EA",templateUrl:"content/event/jj-form-item.html",replace:!0,scope:{index:"@",item:"=",submit:"&"},link:g}}var t=MODULE.tool.instance;t.directive("jjFormItem",e),e.$inject=["$projects","$documents","$elements","$groups","$assets","Default","$codeEditor","$util","$externalAPI","$import","FileSystem","$explorerPopup","$toast"]}(),function(){function e(e,t){function n(e,t,n){}return{restrict:"EA",templateUrl:"content/event/jj-event-image.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("__jjEventImage",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t,n,i,o,a,l,r){return{get:function(n,i,o){var a=e.get(n,i,o),c=a.extend("ContentAssetBase",{setItem:function(e){n.item=e.uid?l.getContent(e.uid):null},getGeometrySize:function(e){return n.item.type===r.MASTER?{width:void 0,height:void 0}:this._super(e)},itemChanged:function(e){if(!n.info.source)return void(n.imageStyle=null);var i=t.pathToActual(n.info.source);i=t.getAvailablePath(i),n.imageStyle={backgroundImage:'url("'+i+'")'}},onDoubleClick:function(e){e=e.originalEvent||e,e.stopPropagation();var t=n.item.uid;l.insertItem(t,function(){n.$applyAsync()})}});return n.modifyItem=function(){console.error("modifyItem 구현안됨 : ",n.item.uid),l.modifyItem()},n.deleteItem=function(){console.error("deleteItem 구현안됨 : ",n.item.uid),l.deleteItem()},n.showInfoItem=function(){l.showInfoItem(n.info)},c}}}var t=MODULE.tool.instance;t.factory("ContentAssetBase",e),e.$inject=["ContentItemBase","FileSystem","$documents","$commandController","$mime","$assetManager","$contentAssetSetting2","ElementType"]}(),function(){function e(e,t,n,i){return{get:function(i,o,a){function l(){i.thumbnailSource=i.item.thumbnail.source?i.item.thumbnail.source:null}var r=e.get(i,o,a),c=r.extend("ContentComponentBase",{itemChanged:function(e){var n=t.getSetting(e.component);e.css=n.css,t.changeThumbnailSource(e),l()},onDoubleClick:function(e){e=e.originalEvent||e,e.stopPropagation(),i.insertComponent()}});return i.insertComponent=function(){var e=i.item.component;e&&t.insert(e,function(){})},i.modifyComponent=function(){t.modify(i.item,function(e){if(e){var t="컴포넌트가 변경되었습니다.";n.message(t,{delay:n.SHORTEST}),l()}})},i.deleteComponent=function(){var e=i.item.component,n=t.getData(e),o=n.value("name"),a={remove:[{uid:e}],confirm:{title:"컴포넌트 삭제",content:'"'+o+'" 컴포넌트를 삭제하시겠습니까?'}};t.remove(a)},i.infoComponent=function(){var e=i.item.component;t.openInfoPopup(e)},c}}}var t=MODULE.tool.instance;t.factory("ContentComponentBase",e),e.$inject=["ContentItemBase","$componentUtil","$toast","FileSystem"]}(),function(){function e(e,t,n,i,o){return{get:function(i,a,l){var r=e.create("ContentItemBase",{init:function(){this._run()},isDragable:!1,_run:function(){var e=this,t=this.setWatch_info();this.isDragable=n.isDragNDropable(),i.isDragging=!1;var o=this.setWatch_dragid();i.$on("$destroy",function(){e.removeDragEvent(),t&&t(),o&&o()})},setWatch_info:function(){var e=this;return i.$watch(function(){return i.info},function(t,n){var o=t?angular.copy(t):t;e.setItem(o),e.itemChanged(i.item)},!0)},setItem:function(e){i.item=e},setWatch_dragid:function(){var e=this;return l.$observe("dragId",function(t){var n=t;n?(a.attr("draggable","true"),e.addDragEvent()):(a.removeAttr("draggable"),e.removeDragEvent())})},itemChanged:function(e){},addDragEvent:function(){this.isDragable?(a.on("dragstart",angular.bind(this,this.onDragstart)),a.on("dragend",angular.bind(this,this.onDragend)),a.on("dblclick",angular.bind(this,this.onDoubleClick))):(console.debug("jjContentItem : Drag & Drop 기능이 지원되지 않습니다."),a.on("click",angular.bind(this,this.onDoubleClick)))},removeDragEvent:function(){this.isDragable?(a.off("dragstart",angular.bind(this,this.onDragstart)),a.off("dragend",angular.bind(this,this.onDragend)),a.off("dblclick",angular.bind(this,this.onDoubleClick))):a.off("click",angular.bind(this,this.onDoubleClick)),i.isDragging&&this.onDragend()},setDragData:function(e){var t=this.getGeometrySize(e.target),n={id:l.dragId,item:i.item,geometry:{offsetX:e.offsetX,offsetY:e.offsetY,width:t.width,height:t.height,transform:{angle:0,scale:1}}};return n},getGeometrySize:function(e){e=angular.element(e);var t,n,o=i.item.css;return t=o.width||e.width(),n=o.height||e.height(),t=Math.max(t,o.minWidth||0),n=Math.max(n,o.minHeight||0),t=Math.min(t,o.maxWidth||1/0),n=Math.min(n,o.maxHeight||1/0),{width:t,height:n}},onDragstart:function(e){if(e=e.originalEvent||e,e.stopPropagation(),!(e.target instanceof HTMLElement))return void e.preventDefault();var t=this.setDragData(e);this.setDataTransfer(t),a.addClass("dragging"),i.isDragging=!0,i.$applyAsync()},setDataTransfer:function(e){t.get().dataTransfer(e),console.log("* 아이템 드래그 SET : ",e)},onDragend:function(e){e&&(e=e.originalEvent||e,e.stopPropagation()),console.warn("mouseup trigger : nwJS 새버전에서는 필요없을수도..."),o.triggerHandler("mouseup"),a.removeClass("dragging"),i.isDragging=!1,this.setDataTransfer(null),e&&i.$applyAsync()}});return r}}}var t=MODULE.tool.instance;t.factory("ContentItemBase",e),e.$inject=["$superClass","$applications","$device","ElementType","$document"]}(),function(){function e(e,t,n,i){return{get:function(i,o,a){function l(){i.thumbnailSource=i.item.thumbnail.source?i.item.thumbnail.source:null}var r=e.get(i,o,a),c=r.extend("ContentTemplateBase",{getGeometrySize:function(e){return{width:void 0,height:void 0}},itemChanged:function(e){t.changeThumbnailSource(e),l()},onDoubleClick:function(e){}});return i.insertTemplate=function(){var e=i.item.template;e&&t.insert(e,function(){})},i.modifyTemplate=function(){t.modify(i.item,function(e){if(e){var t="템플릿이 변경되었습니다.";n.message(t,{delay:n.SHORTEST}),l()}})},i.deleteTemplate=function(){var e=i.item.template,n=t.getData(e),o=n.value("name"),a={remove:[{uid:e}],confirm:{title:"템플릿 삭제",content:'"'+o+'" 템플릿을 삭제하시겠습니까?'}};t.remove(a)},i.infoTemplate=function(){var e=i.item.template;t.openInfoPopup(e)},c}}}var t=MODULE.tool.instance;t.factory("ContentTemplateBase",e),e.$inject=["ContentItemBase","$templateUtil","$toast","FileSystem"]}(),function(){function e(e){function t(t,n,i){var o=e.get(t,n,i),a=o.extend("ContentAssetBox",{}),l=new a;t.$on("$destroy",function(){l=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-asset-box.html",replace:!0,scope:{info:"="},link:t}}var t=MODULE.tool.instance;t.directive("jjContentAssetBox",e),e.$inject=["ContentAssetBase"]}(),function(){function e(e,t){function n(n,i,o){n.tabWidth=t.treeTabWidth;var a=e.get(n,i,o),l=a.extend("ContentAssetList",{setItem:function(e){this._super(e),n.item.depth=1}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-asset-list.html",replace:!0,scope:{info:"="},link:n}}var t=MODULE.tool.instance;t.directive("jjContentAssetList",e),e.$inject=["ContentAssetBase","Default"]}(),function(){function e(e){function t(t,n,i){var o=e.get(t,n,i),a=o.extend("ContentComponentBox",{}),l=new a;t.$on("$destroy",function(){l=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-component-box.html",replace:!0,scope:{info:"="},link:t}}var t=MODULE.tool.instance;t.directive("jjContentComponentBox",e),e.$inject=["ContentComponentBase"]}(),function(){function e(e,t){function n(n,i,o){n.tabWidth=t.treeTabWidth;var a=e.get(n,i,o),l=a.extend("ContentComponentList",{setItem:function(e){this._super(e),n.item.type="file",n.item.depth=1}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-component-list.html",replace:!0,scope:{info:"="},link:n}}var t=MODULE.tool.instance;t.directive("jjContentComponentList",e),e.$inject=["ContentComponentBase","Default"]}(),function(){function e(e,t,n,i,o){function a(a,l,r){var c=e.get(a,l,r),s=c.extend("ContentItem",{onDoubleClick:function(e){e=e.originalEvent||e,e.stopPropagation();var l=angular.merge({},a.item.css,{left:100,top:100,width:a.item.css.width,height:a.item.css.height}),r=t.uid(),c={
normal:{css:l,option:a.item.option,style:a.item.style}};if(a.item.type===i.MASK)return o.add(r,{state:c}),void a.$apply();var s={document:r,elements:[{data:{type:a.item.type,state:c}}]};n.addElement(s),a.$apply()}}),u=new s;a.$on("$destroy",function(){u=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-item.html",replace:!0,scope:{info:"="},link:a}}var t=MODULE.tool.instance;t.directive("jjContentItem",e),e.$inject=["ContentItemBase","$documents","$commandController","ElementType","$mask"]}(),function(){function e(e){function t(t,n,i){var o=e.get(t,n,i),a=o.extend("ContentTemplateBox",{}),l=new a;t.$on("$destroy",function(){l=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-template-box.html",replace:!0,scope:{info:"="},link:t}}var t=MODULE.tool.instance;t.directive("jjContentTemplateBox",e),e.$inject=["ContentTemplateBase"]}(),function(){function e(e,t){function n(n,i,o){n.tabWidth=t.treeTabWidth;var a=e.get(n,i,o),l=a.extend("ContentTemplateList",{setItem:function(e){this._super(e),n.item.type="file",n.item.depth=1}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/item/jj-content-template-list.html",replace:!0,scope:{info:"="},link:n}}var t=MODULE.tool.instance;t.directive("jjContentTemplateList",e),e.$inject=["ContentTemplateBase","Default"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(n,i,o){var l=e.get(n,i,o),r=l.extend("ContentAsset",{itemChanged:function(e){var i=t.pathToActual(e.source);i=t.getAvailablePath(i),n.imageStyle={backgroundImage:'url("'+i+'")'}},onDoubleClick:function(e){e=e.originalEvent||e,e.stopPropagation();var i=angular.merge({},n.item.css,{left:50,top:50}),o=t.pathToActual(n.item.source);a.insertImage(o,{uid:n.item.uid,css:i,option:n.item.option,style:n.item.style},function(){}),n.$apply()}}),c=new r;n.$on("$destroy",function(){c=null})}return{restrict:"EA",templateUrl:"content/item/__jj-content-asset.html",replace:!0,scope:{info:"="},link:c}}var t=MODULE.tool.instance;t.directive("__jjContentAsset",e),e.$inject=["ContentItemBase","FileSystem","$documents","$commandController","$mime","$assetManager","$assets","$externalAPI"]}(),function(){function e(e,t,n,i,o,a){function l(i,o,l){var r=e.get(i,o,l),c=r.extend("ContentMaster",{itemChanged:function(e){var n;n=e.source?t.pathToActual(e.source):t.pathToActual(t.BUNDLE_RESOURCE+"/masters/"+t.MASTER_DELETE_FILE_NAME,!0),n=t.getAvailablePath(n),i.imageStyle={backgroundImage:'url("'+n+'")'}},onDragstart:function(){},onDragend:function(){},onDoubleClick:function(e){}}),s=new c;i.insertMaster=function(){var e=i.item.source;e&&(e=t.pathToActual(i.item.source));var o=n.uid(),l=i.item.uid;a.masterImageChange(e,{uid:l},o),i.$applyAsync()},i.$on("$destroy",function(){s=null})}return{restrict:"EA",templateUrl:"content/item/__jj-content-master.html",replace:!0,scope:{info:"="},link:l}}var t=MODULE.tool.instance;t.directive("__jjContentMaster",e),e.$inject=["ContentItemBase","FileSystem","$documents","$commandController","$mime","$changeImageSource"]}(),function(){function e(e,t,n,i,o,a){function l(t,i,o){var a=e.get(t,i,o),l=a.extend("ContentTemplateItem",{onDragstart:function(){},onDragend:function(){},onDoubleClick:function(e){}}),r=new l;t.insertTemplate=function(e){var t={template:e};n.insertTemplate(t,function(e){console.log("# 템플릿 삽입 완료 : ",e)})},t.removeTemplate=function(e){var t={template:e};n.deleteTemplate(t,function(e){console.log("# 템플릿 삭제 완료 : ",e)})},t.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/item/__jj-content-template.html",replace:!0,scope:{info:"="},link:l}}var t=MODULE.tool.instance;t.directive("__jjContentTemplate",e),e.$inject=["ContentItemBase","$documents","$commandController","$templates","$notice","$toast"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(e,c,s){function u(){if(!e.selects||e.selects.length<1)return e.arrange.back.disable=!0,e.arrange.backward.disable=!0,e.arrange.forward.disable=!0,void(e.arrange.front.disable=!0);var t=l.toIndexes(e.selects),i=l.getChildElements(!0),o=l.toIndexes(i),a=n.checkEnable(t,o);e.arrange.back.disable=!a.back,e.arrange.backward.disable=!a.backward,e.arrange.forward.disable=!a.forward,e.arrange.front.disable=!a.front}function d(){return"page"===e.alignOption.sortByPage?void(e.alignOption.canAlign=e.selects&&e.selects.length>0):"element"===e.alignOption.sortByPage?void(e.alignOption.canAlign=e.selects&&e.selects.length>1):void 0}e.arrange={back:{disable:!0},backward:{disable:!0},forward:{disable:!0},front:{disable:!0}};var p=e.$watch(function(){var e=a.get();return e?e.getNoneCopyValue("select"):null},function(t,n){i.safetyCall(e,function(){var t=a.get();e.selects=t?t.get():null,u(),d()})},!0),g=e.$watchCollection(function(){var e=l.getChildElements(!0);return e},function(t,n){i.safetyCall(e,function(){u()})});e.arrangeChange=function(n){var i={document:o.uid(),elements:e.selects,position:n};t.indexElement(i,function(t){e.$applyAsync()})},e.$on("$destroy",function(){e.arrange=null,g(),p()}),function(){var t=r.alignBoundaryOption();e.alignOption={sortByPage:t.sortByPage,sortByPage_virtualGroup:t.sortByPage_virtualGroup,canAlign:!1}}(),e.onAlignOptionChange=function(){r.alignBoundaryOption({sortByPage:e.alignOption.sortByPage}),d()},e.onDirectionChange=function(t){e.alignOption.canAlign&&r.sort(t,e.selects)},e.onVirtualGroupChange=function(){r.alignBoundaryOption({sortByPage_virtualGroup:e.alignOption.sortByPage_virtualGroup})}}return{restrict:"EA",templateUrl:"content/operation/jj-operation-layout.html",replace:!0,scope:!0,link:c}}var t=MODULE.tool.instance;t.directive("jjOperationLayout",e),e.$inject=["ElementType","$commandController","$arrange","$applications","$documents","$selects","$mask","$align"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyAudio",{getType:function(){return t.AUDIO}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-audio.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyAudio",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyButton",{getType:function(){return t.BUTTON}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-button.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyButton",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t,n,i){function o(o,a,l){var r=e.get(o,a,l),c=r.extend("PropertyDocument",{_run:function(){o.uid=n.uid(),o.type=this.getType(),this.setWatch()},getType:function(){return t.DOCUMENT},setWatch:function(){this.unwatch_uid=o.$watch(function(){var e=i.get(),t=e?e.value("currentDocument"):"";return t},function(e){o.uid=e})}}),s=new c;o.$on("$destroy",function(){s.unwatch_uid(),s=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-document.html",replace:!0,scope:!0,link:o}}var t=MODULE.tool.instance;t.directive("jjPropertyDocument",e),e.$inject=["PropertyBase","ElementType","$documents","$projects"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(s,u,d){function p(e){a.confirm({modal:!0,content:"캡슐화 기능이 적용된 그룹입니다. <br>그룹을 해지하면 그룹에 적용된 코드가 정상작동하지 않을 수 있습니다. <br>해지하시겠습니까?",title:"그룹 해지",ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(t){e(1===t?!0:!1)},function(t){console.error("confirm err : ",t),e(!1)})}function g(e,t){var n={document:o.uid(),groups:[{group:e,data:{capsule:t}}]};r.modifyGroup(n)}function m(e,t){function n(n,i){return n?console.log("# 편집 결과: ",n):(console.log("# 편집 결과 : ",i),g(e,i),void(t&&t(i)))}c.open({template:'<div jj-capsulize-editor-popup popup-dialog config="config">',uid:e,cancel:"취소",ok:"확인"},n)}var v=e.get(s,u,d),f=v.extend("PropertyGroup",{_run:function(){s.uid=i.isMaskElement(n.get().get()),s.type=this.getType(),this.setWatch()},getType:function(){return t.GROUP},setWatch:function(){var e=this;this.unwatch_guid=s.$watch(function(){var e=n.get().value("currentGroup");return e},function(t){s.uid=t,e.setWatchCapsule()})},setWatchCapsule:function(){return s.uid?void(this.unwatch_capsule=s.$watch(function(){var e=i.get(s.uid);if(e){var t=e.getNoneCopyValue("capsule");return t}},function(e){s.capsule=e},!0)):(this.unwatch_capsule&&this.unwatch_capsule(),this.unwatch_capsule=null,void(s.capsule=null))}}),h=new f;s.createGroup=function(){var e=n.get();if(!(e.getLength()<1)){var t={document:o.uid(),data:{indexes:l.sort(e.get())}};r.createGroup(t)}},s.removeGroup=function(){function e(){var e={document:o.uid(),group:s.uid};r.removeGroup(e)}if(s.uid){var t=i.get(s.uid).getNoneCopyValue("capsule");return t.schema&&t.schema.length>0?void p(function(t){t&&e()}):void e()}},s.$on("$destroy",function(){h.unwatch_guid(),h.unwatch_guid=null,h.unwatch_capsule&&(h.unwatch_capsule(),h.unwatch_capsule=null),h=null,s.capsule=null}),s.editSchema=function(){m(s.uid)}}return{restrict:"EA",templateUrl:"content/property/jj-property-group.html",replace:!0,scope:!0,link:s}}var t=MODULE.tool.instance;t.directive("jjPropertyGroup",e),e.$inject=["PropertyBase","ElementType","$selects","$groups","$documents","$notice","$mask","$commandController","$import"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyHtml",{getType:function(){return t.HTML}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-html.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyHtml",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t,n,i,o,a){function l(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyImage",{getType:function(){return t.IMAGE}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-image.html",replace:!0,scope:!0,link:l}}var t=MODULE.tool.instance;t.directive("jjPropertyImage",e),e.$inject=["PropertyBase","ElementType","$selects","$documents","$elements","$commandController"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("jjPropertyInput",{getType:function(){return t.INPUT}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-input.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyInput",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(c,s,u){function d(){var e=n.get(c.uid),t=e.isGroupContainer(),r=i.get(t).indexes(),s=o.getRotatedBoundary(r),u={document:l.uid(),masks:[{element:c.uid,boundary:s}]};a.maskElementBoundary(u)}var p=e.get(c,s,u),g=p.extend("PropertyMask",{getType:function(){return t.MASK}}),m=new g;c.useSizeResetButton=!1;var v=c.$watchCollection(function(){var e=n.get(c.uid);if(!e)return[];var t=e.getNoneCopyValue("childGroup"),o=i.get(t);if(!o)return[];var a=o.getNoneCopyValue("indexes");return a.length},function(e,t){r.safetyCall(c,function(){c.useSizeResetButton=e>0})});c.sizeReset=function(){d()},c.$on("$destroy",function(){m=null,v()})}return{restrict:"EA",templateUrl:"content/property/jj-property-mask.html",replace:!0,scope:!0,link:c}}var t=MODULE.tool.instance;t.directive("jjPropertyMask",e),e.$inject=["PropertyBase","ElementType","$elements","$groups","$mask","$commandController","$documents","$applications"]}(),function(){function e(e,t,n,i,o){function a(n,a,l){var r=e.get(n,a,l),c=r.extend("PropertyProject",{_run:function(){n.uid=i.uid(),n.type=this.getType(),this.setWatch()},getType:function(){return t.PROJECT},setWatch:function(){this.unwatch_uid&&this.unwatch_uid(),this.unwatch_uid=n.$watch(function(){return i.uid()},function(e){n.uid=e})}}),s=new c;n.openPublishSetting=function(){o.publishSetting()},n.openContentEditor=function(){o.contentEditor()},n.openFileEditor=function(){o.fileEditor()},n.$on("$destroy",function(){s.unwatch_uid(),s=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-project.html",replace:!0,scope:!0,link:a}}var t=MODULE.tool.instance;t.directive("jjPropertyProject",e),e.$inject=["PropertyBase","ElementType","$documents","$projects","$commandController"]}(),function(){function e(e,t,n){function i(i,o,a){var l=e.get(i,o,a),r=l.extend("PropertyText",{getType:function(){return t.TEXT}}),c=new r;!function(){i.editorConfig=n.setEditorConfig({enable:!1,uid:i.uid,isPopup:!1})}(),i.$on("$destroy",function(){c=null,i.editorConfig=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-text.html",replace:!0,scope:!0,link:i}}var t=MODULE.tool.instance;t.directive("jjPropertyText",e),e.$inject=["PropertyBase","ElementType","$richEditor"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyVideo",{getType:function(){return t.VIDEO}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-video.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyVideo",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("PropertyWeb",{getType:function(){return t.WEB}}),r=new l;n.$on("$destroy",function(){r=null})}return{restrict:"EA",templateUrl:"content/property/jj-property-web.html",replace:!0,scope:!0,link:n}}var t=MODULE.tool.instance;t.directive("jjPropertyWeb",e),e.$inject=["PropertyBase","ElementType"]}(),function(){function e(e,t,n,i,o){return{get:function(a,l,r){var c=e.create("PropertyBase",{init:function(){a.companyNotSupport=o.companyLimit(),this._run()},_run:function(){function e(){var e=t.get(a.uid);if(!e)return"";var n=e.value("currentState");return"over"!=n||e.value("overStateEnabled")?"down"!=n||e.value("downStateEnabled")||(n="normal"):n="normal",n}var o=n.get(),l=o.isSingleSelected();a.uid=l?l:i.uid(),a.type=this.getType(),this.setOption({}),this.setStyle({}),this.setCss({}),this.setWatch();var r=this,c=a.$watch(function(){return e()},function(e,t){r.setWatch()}),r=this;a.$on("$destroy",function(){r.unwatch_css(),r.unwatch_style(),r.unwatch_option(),c()})},getType:function(){throw new Error("ElementType이 지정되지 않았습니다.")},setWatch:function(){this.setWatchCss(),this.setWatchStyle(),this.setWatchOption()},setWatchCss:function(){this.unwatch_css&&this.unwatch_css();var e=this;this.unwatch_css=a.$watch(function(){if(!a.uid)return{};var e=t.get(a.uid),n=e?e.css():{};return n},function(t){console.debug("# 값 바뀜 적용(css) : ",t),e.setCss(t)},!0)},setCss:function(e){var n=t.get(a.uid);if(n){var i=n.css();a.css=angular.extend({},i,e)}},setWatchStyle:function(){this.unwatch_style&&this.unwatch_style();var e=this;this.unwatch_style=a.$watch(function(){if(!a.uid)return{};var e=t.get(a.uid),n=e?e.style():{};return n},function(t){console.debug("# 값 바뀜 적용(style) : ",t),e.setStyle(t)},!0)},setStyle:function(e){var n=t.get(a.uid);if(n){var i=n.style();a.style=angular.extend({},i,e)}},setWatchOption:function(){this.unwatch_option&&this.unwatch_option();var e=this;this.unwatch_option=a.$watch(function(){if(!a.uid)return{};var e=t.get(a.uid),n=e?e.option():{};return n},function(t){console.debug("# 값 바뀜 적용(option) : ",t),e.setOption(t)},!0)},setOption:function(e){var n=t.get(a.uid);if(n){var i=n.option();a.option=angular.extend({},i,e)}}});return c}}}var t=MODULE.tool.instance;t.factory("PropertyBase",e),e.$inject=["$superClass","$elements","$selects","$documents","$version"]}(),function(){function e(e,t,n){function i(n,i,o){function a(){var t=e.getAsynchronousSelects();n.config.selects&&"boolean"==typeof n.config.selects&&(n.config.selects=t,console.log("Explorer 선택 목록 수정 : ",n.config.selects));var i=n.config.filters;i&&("boolean"==typeof i.disable&&(n.config.filters.disable=i.disable?t:[],console.log("Explorer disable 목록 수정 : ",n.config.filters.disable)),"boolean"==typeof i.highlight&&(n.config.filters.highlight=i.highlight?t:[],console.log("Explorer highlight 목록 수정 : ",n.config.filters.highlight)))}a(),n.tree=e.create(n.config.root,n.config.options,n.config.filters),n.close=function(e){n.closeFunction&&n.closeFunction({code:e})},n.$on("$destroy",function(){n.close=null,e.destroy(n.config.root)}),n.$applyAsync(function(){console.log("# 탐색기 선택 목록 초기화 : ",n.config.selects),n.tree.initSelects(n.config.selects||[])}),n.$on("$resetIndexes",function(i,o){var a,l=n.tree.getSelects()||[],r=l.length>0&&l.every(function(e){var t=n.tree.get(e);return Boolean(t)}),c=e.getAsynchronousSelects();if(r){if(1===c.length){var s=t.isMaskElement(c);if(s){var u=t.get(s),d=u?u.isSameElements(l):!1;d&&(a=c)}}}else a=c;a||(a=l),n.$applyAsync(function(){n.tree.initSelects(a),console.log("# 탐색기 선택 목록 새로고침 : ",a)})})}return i.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/selector/jj-explorer-selector.html",replace:!0,scope:{closeFunction:"&closeFunction",config:"="},controller:i}}var t=MODULE.tool.instance;t.directive("jjExplorerSelector",e),e.$inject=["$explorerTree","$groups","$documents"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u){function d(t,n,s){function u(){t.isRoot="root"===t.jjExplorerTree,t.isEvent=t.uid.indexOf(":event:")>0,t.isAsset=t.uid.indexOf(":asset:")>0,t.isCapsule=t.uid.indexOf(":capsule:")>0,t.isDocument=t.isEvent||t.isAsset||t.isCapsule?!1:0===t.uid.indexOf(a.type),t.isElement=t.isEvent||t.isAsset||t.isCapsule?!1:0===t.uid.indexOf(l.type),t.tree=e.get(t.root),t._multiSelect=t.tree.options("multiSelect"),t._multiSelectInGroup=t.tree.options("multiSelectInGroup"),t._showRoot=t.tree.options("showRoot"),t._selectAndClose=t.tree.options("selectAndClose"),t._showLabelDetail=t.tree.options("showLabelDetail"),t._rootSelectable=t.tree.options("rootSelectable"),t.isRoot&&(L&&L(),L=t.$on("close",function(e,n){t.close&&t.close({code:1})}))}function d(){L&&(L(),L=null),U&&U(),U=null,P&&P(),P=null,B&&B(),B=null,R&&R(),R=null,N&&N(),N=null,V&&V(),V=null,F&&F(),F=null,t.treeItem=null}function p(e){return d(),u(),t.isElement&&!l.get(t.uid)?void t.tree.remove(t.uid):(g(),t.treeItem=t.tree.get(t.uid),b(),x(),j(),w(),$(),k(),E(),I(),T(),void t.$applyAsync(function(){e&&t.$emit("$resetIndexes",t.uid)}))}function g(){function e(e){return t.isRoot?!0:Boolean(e)}function n(e){return t.isRoot?!1:e&&e.length>0}function o(){return t.isRoot?!1:t.tree.isSelected(t.uid)||!1}function a(){var e=l.get(t.uid).type(),o=h("fold",e);o||e===i.MASK||(o=h("fold","element"));var a=o?n(p):!1;return a}function r(){if(t.isEvent&&h("checkbox","event"))return!0;if(t.isAsset&&h("checkbox","asset"))return!0;if(t.isCapsule&&h("checkbox","capsule"))return!0;if(!t.isElement)return!1;var e=l.get(t.uid),n=e.type(),o=h("checkbox",n);return o||n===i.MASK||(o=h("checkbox","element")),o}function c(){var e=h("disable",t.uid);return e}function s(){var e=h("highlight",t.uid);return e}t.tree&&t.tree.remove(t.uid);var u=v(),d=f(),p=[].concat(d,u);p.length<1&&(p=null);var g=e(p),y=t.tree.add(t.uid,{isRoot:t.isRoot,state:{isGroup:g,selected:o()},indexes:p||[],info:m()});y.state.isFold=g&&t.isElement?a():!1,y.state.showCheckbox=t.isRoot?!1:r(),y.state.disable=c(),y.state.highlight=s()}function m(){var n={uid:t.uid,index:t.index,depth:t.depth,owner:e.getOwnerUID(t.uid),target:e.getTargetUID(t.uid)};n.groupUID="";var a;if(t.isDocument)n.type="mask",n.name="Document";else if(t.isElement)a=l.get(t.uid),n.type=a.type(),n.name=a.name(),n.groupUID=a.isGroupContainer();else if(t.isAsset){var s=e.getAssetUID(t.uid);if(a=c.get(s.target),n.type="asset",a){var u=a.value("original"),d=o.parse(u);n.name=d.base}else{var p=l.get(s.owner);if(p&&p.type()===i.HTML){var g=p.value("property"),m=(g.temp||{}).assets;if(m&&m.datas&&m.datas[s.target]){var v=m.datas[s.target];n.name="(임시 등록) "+v.name}else n.name="Asset 정보가 없음."}else n.name="Asset 정보가 없음."}}else if(t.isEvent){var s=e.getEventUID(t.uid);n.type="event",n.name="event "+s.eventType+" ["+s.index+"]",n.description=D()}else if(t.isCapsule){var f=!1,h="",y=0,s=e.getCapsuleUID(t.uid),b=A();if(b){var x=l.get(s.target).isGroupContainer(),w=r.get(x);f=w.isSchemaLock(),h=b.join(", "),y=b.length}n.type="capsule",n.description=h;var j=f?" (read only)":"";n.name=s.name+j+" : "+y}else n.type="etc",n.name=t.uid;return t.isRoot&&(n.name=t.tree.options("rootLabel")||n.name),n}function v(){var e=[],n=t.tree.options("keepHierarchy");t.isDocument?e=function(){if(n){var e=a.get(t.uid);return e?e.indexes():[]}var e=a.get(t.uid);return e?e.elements():[]}():t.isElement&&(e=function(){if(!n&&t.depth<0)return[];var e=l.get(t.uid),i=e?e.isGroupContainer():"";if(!i)return[];var o=r.get(i);return o?o.indexes():[]}());var o=y(e);return o.reverse(),n||o.sort(function(e,t){var n=l.get(e),o=l.get(t),a=n.type(),r=o.type();if(a===i.MASK&&(a=i.GROUP),r===i.MASK&&(r=i.GROUP),a>r)return 1;if(r>a)return-1;var c=n.name(),s=o.name();return c>s?1:s>c?-1:0}),o}function f(){var n;if(t.isDocument?n=a.get(t.uid):t.isElement&&(n=l.get(t.uid)),!n)return[];var o=function(){var o=[],a=h("display","asset");return a?(t.isDocument?o=function(){var i,o=t.tree.options("keepHierarchy");if(o)i=n.files();else{var a=n.assets();i=[];for(var l in a)i.push(l)}return(i||[]).map(function(n){return e.setAssetUID(n,t.uid)})}():t.isElement&&(o=function(){var o=n.getNoneCopyValue("assets")||[],a=o.map(function(n){return e.setAssetUID(n,t.uid)}),l=function(){if(n.type()!==i.HTML)return[];var o=n.value("property"),a=(o.temp||{}).assets;return a?a.add.edit.map(function(n){return e.setAssetUID(n,t.uid)}):[]}(),r=a.concat(l);return r}()),o):o}(),c=function(){var i=[],o=h("display","event");if(!o)return i;var a=n.events();for(var l in a){var r=a[l].actions.map(function(n,i){return e.setEventUID(t.uid,l,i)});r&&(i=i.concat(r))}return i}(),s=function(){var i=[],o=h("display","capsule");if(!t.isElement||!o)return i;var a=n?n.isGroupContainer():"";if(!a)return i;var l=r.get(a),c=l.getNoneCopyValue("capsule");if(c&&c.schema&&c.schema.length>0){var s=e.setCapsuleUID(t.uid);i=[s]}return i}(),u=[].concat(s,c,o);return u}function h(e,n){return t.tree.hasFilter.apply(t.tree,arguments)}function y(e){if(!h("display"))return e;var n=t.tree.options("keepHierarchy"),o=e.filter(function(e){var t=l.get(e).type(),o=h("display",t);return n&&t===i.MASK&&(o=!0),o||t===i.MASK||(o=h("display","element")),o});return o}function b(){function e(e,n){if(!e)return[];var i=t.tree.options("keepHierarchy");i?n++:!t.isRoot&&t.depth<0&&(n=0);var o=e.map(function(e,t){var o;if(i)o=n;else{var a=e.indexOf(":event:")>0,l=e.indexOf(":asset:")>0,r=e.indexOf(":capsule:")>0;o=a||l||r?n+1:n}var c={uid:e,depth:o,index:t};return c});return o}var n=t.treeItem.indexes;t.child=e(n,t.depth)}function x(){function n(e){var n=l.get(t.uid).parentGroup(),i=l.get(e).parentGroup();return i===n}function o(n){var i=e.getOwnerUID(n),o=e.getOwnerUID(t.uid);return i===o}if(!t.uid)return t.disable=!0,void(t.treeItem.state.selectable=!t.disable);if(t.isElement&&!l.get(t.uid))return t.disable=!0,void(t.treeItem.state.selectable=!t.disable);if(t.isRoot&&t.isDocument){var a=t.tree.getFilters("selectable"),r=a.indexOf("all")>-1;return void(r?(t.disable=!1,t.treeItem.state.selectable=t._rootSelectable):(t.disable=!1,t.treeItem.state.selectable=!1))}var c=function(){if(!h("selectable"))return!1;if(t.isAsset)return h("selectable","asset");if(t.isEvent)return h("selectable","event");if(t.isCapsule)return h("selectable","capsule");var e=l.get(t.uid).type(),n=h("selectable",e);return n||e===i.MASK||(n=h("selectable","element")),n}();if(!c)return t.disable=!0,void(t.treeItem.state.selectable=!t.disable);if(!t._multiSelect)return t.disable=!1,void(t.treeItem.state.selectable=!t.disable);var s=t.tree.getSelects(),u=e.getOwnerUID(s[0]);if(!u||!t._multiSelectInGroup)return t.disable=!1,void(t.treeItem.state.selectable=!t.disable);var d=u===s[0];return d?t.isElement?(t.treeItem.state.selectable=n(u),void(t.disable=!t.treeItem.state.selectable)):(t.disable=!0,void(t.treeItem.state.selectable=!t.disable)):t.isElement?(t.disable=!0,void(t.treeItem.state.selectable=!t.disable)):(t.treeItem.state.selectable=o(u),void(t.disable=!t.treeItem.state.selectable))}function w(){P&&P(),P=t.$watch(function(){return t.tree.getFilters("selectable")},function(e,n){x(),t.$applyAsync()})}function j(){U&&U(),U=t.$watch(function(){return t.treeItem.state},function(e,n){b(),x(),t.$applyAsync()},!0)}function $(){(t.isDocument||t.isElement)&&(B&&B(),B=t.$watch(function(){return C()},function(e,t){t!==e&&(console.log("# child num 변경됨 : ",t,"->",e),p(!0))}))}function C(){var e,n=0;if(!t.isDocument&&!t.isElement)return n;if(t.isDocument)e=a.get(t.uid);else if(t.isElement){var i=l.get(t.uid),o=i?i.isGroupContainer():"";o&&(e=r.get(o))}return e&&(n=e.getNoneCopyValue("indexes").length),n}function k(){(t.isDocument||t.isElement)&&(R&&R(),R=t.$watch(function(){return _()},function(e,t){t!==e&&(console.log("# info asset num 변경됨 : ",t,"->",e),p(!0))}))}function _(){var e,n=0;if(!t.isDocument&&!t.isElement)return n;if(t.isDocument?e=a.get(t.uid):t.isElement&&(e=l.get(t.uid)),!e)return n;var i;return t.isDocument?i=e.files():t.isElement&&(i=e.getNoneCopyValue("assets")),i&&(n=i.length),n}function E(){(t.isDocument||t.isElement)&&(N&&N(),N=t.$watch(function(){return S()},function(e,t){t!==e&&(console.log("# info event num 변경됨 : ",t,"->",e),p(!0))}))}function S(){var e,n=0;if(!t.isDocument&&!t.isElement)return n;if(t.isDocument?e=a.get(t.uid):t.isElement&&(e=l.get(t.uid)),!e)return n;var i=e.events();for(var o in i){var r=i[o].actions;r&&(n+=r.length)}return n}function I(){t.isEvent&&(V&&V(),V=t.$watch(function(){return D()},function(e,n){n!==e&&(t.treeItem.info=m(),t.$applyAsync())}))}function D(){if(!t.isEvent)return"";var n,i="Undefined event",o=e.getOwnerUID(t.uid);if(n=0===o.indexOf(a.type)?a.get(o):l.get(o)){var r=e.getEventUID(t.uid),c=n.getNoneCopyValue("events");if(c[r.eventType]&&c[r.eventType].actions){var s=c[r.eventType].actions[r.index];s&&(i=s.label)}}return i}function T(){if(t.isCapsule){var n=e.getCapsuleUID(t.uid),i=l.get(n.target),o=i?i.isGroupContainer():"";o&&(F&&F(),F=t.$watch(function(){var e=A();return e?e.join(", "):""},function(e,n){e!==n&&(console.log("# info capsule 변경됨 : ",n,"->",e),t.treeItem.info=m(),t.$applyAsync())}))}}function A(){if(t.isCapsule){var n=e.getCapsuleUID(t.uid),i=l.get(n.target);if(i){var o=i.isGroupContainer(),a=r.get(o),c=a.getNoneCopyValue("capsule").schema,s=c.map(function(e){return e.name});return s}}}var L;p();var O=t.$watch(function(){return t.uid},function(e){p()}),M=t.$watch(function(){return t.tree.options("showLabelDetail")},function(e,n){t._showLabelDetail=e});t.$on("$destroy",function(){M(),O(),d(),t.isRoot&&e.destroy(t.root,t.uid),t.tree=null});var U,P,B,R,N,V,F}return d.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/selector/jj-explorer-tree.html",replace:!0,scope:{close:"&closeFunction",jjExplorerTree:"@",root:"@",uid:"@",index:"=",depth:"="},controller:d}}var t=MODULE.tool.instance;t.directive("jjExplorerTree",e),e.$inject=["$explorerTree","$util","Default","ElementType","$node_path","$documents","$elements","$groups","$assets","$selects","$key"]}(),function(){function e(e,t,n,i,o){function a(t,n,i){t.elementFilters={type:e.elementFilters(),value:""},t.infoFilters={type:e.infoFilters(),value:""},t.filterChange=function(n){var i="";switch(n){case"element":i=t.elementFilters.value,t.infoFilters.value="";break;case"info":i=t.infoFilters.value,t.elementFilters.value="";break;default:return}var o=e.get(t.config.root);o.setFilters("selectable",i)},t.onShowLabelDetailChanged=function(){var n=e.get(t.config.root);n.options("showLabelDetail",t.config.options.showLabelDetail)},t.$on("$destroy",function(){})}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/selector/jj-explorer-tree-header.html",replace:!0,scope:{config:"="},controller:a}}var t=MODULE.tool.instance;t.directive("jjExplorerTreeHeader",e),e.$inject=["$explorerTree","$documents","$elements","$selects","Default"]}(),function(){function e(e,t,n,i){function o(e,t,n){function i(){e.edit.selected=!e.edit.selected,e.onSelectChanged()}function o(){var t=e.treeItem.state;t.isGroup&&(t.isFold=!t.isFold,e.$applyAsync())}e.tabWidth=20,e.edit={selected:e.tree.isSelected(e.uid)},e.$on("$destroy",function(){a&&a()});var a=e.$watch(function(){return e.tree.isSelected(e.uid)},function(t,n){e.edit.selected=t,e.$applyAsync()});e.onSelectChanged=function(){var t=e.tree.options("selectToggle");t||(e.edit.selected=!0);var n=e.edit.selected;e.tree.setSelects(e.uid,n),e.tree.options("selectAndClose")&&e.$emit("close",1),e.$applyAsync()},e.onClick_tabButton=function(){var t=e.treeItem.state;t.isGroup?o():i()},e.onClick_iconButton=function(){i()},e.onClick_selector=function(){i()},e.onClick_foldButton=function(){var t=e.treeItem.state;t.isGroup?o():i()}}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/selector/jj-explorer-tree-item.html",replace:!0,scope:!1,controller:o}}var t=MODULE.tool.instance;t.directive("jjExplorerTreeItem",e),e.$inject=["$documents","$elements","$selects","Default"]}(),function(){function e(e,t,n,i,o){function a(t,i,o){function a(){t.config.id=t.config.id||"ExplorerDialogBox",t.contentView={name:"all",fixed:!1,level:0,enable:!1,isGroup:!1,isDocument:!1}}function l(){if(!t.config||!t.config.root)return r(),void t.$applyAsync();var n=e.get(t.config.root);if(!n)return r(),void t.$applyAsync();var i=n.getSelects(),o=e.getSelectInfomation(i);if(!o[0]||1!==o.length)return void c();var a=o[0];switch(a.category){case"asset":d(a);break;case"event":s(a);break;case"capsule":u(a);break;case"document":case"group":case"element":c();break;default:r()}t.$applyAsync()}function r(){t.content={type:"",config:null}}function c(){t.content={type:"basic",config:null}}function s(e){var n=e.eventType,i=e.index;t.content={type:"event",config:{uid:e.target,eventType:n,index:i}}}function u(e){var i=n.get(e.target),o=i.isGroupContainer();t.content={type:"capsule",config:{uid:o}}}function d(e){t.content={type:"asset",config:{uid:e.target}}}t.$on("$destroy",function(){p&&p(),t.config=null,t.content=null}),a(),t.content={type:"",config:null};var p=t.$watchCollection(function(){if(!t.config||!t.config.root)return null;var n=e.get(t.config.root);return n?n.getSelects():null},function(e,t){l()})}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/jj-explorer-view.html",replace:!0,scope:{config:"="},controller:a}}var t=MODULE.tool.instance;t.directive("jjExplorerView",e),e.$inject=["$explorerTree","$documents","$elements","$assets","$mime"]}(),function(){function e(){function e(e,t,n){e.onClick_yesButton=function(){e.$broadcast("yesButtonClick",e.category)},e.onClick_noButton=function(){e.$broadcast("noButtonClick",e.category)}}return e.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/jj-explorer-view-asset.html",replace:!0,scope:{config:"="},controller:e}}var t=MODULE.tool.instance;t.directive("jjExplorerViewAsset",e)}(),function(){function e(e,t,n,i,o,a){function l(l,r,c){function s(){l.config.yes="저장"}function u(e,i,l){function r(e){return void 0===e?(o.message("변경된 사항이 없습니다.",{delay:o.SHORTEST}),void(l&&l())):e&&e.modifyGroup?(o.message("변경된 사항이 적용되었습니다.",{delay:o.SHORTEST}),void(l&&l(!0))):void a.alert({modal:!0,title:"저장 실패",content:"변경된 사항이 정상적으로 저장 되지 않았습니다.<br>다시 시도해 주세요",ok:"확인"}).then(function(){l&&l(!1)})}var c={document:t.uid(),groups:[{group:e,data:{capsule:i}}],_nothing:function(){r()}};n.modifyGroup(c,r)}function d(){p&&p(),l.config={}}s();var p=l.$watch(function(){return l.config?l.config.uid:""},function(e,t){e!==t&&(l.refresh&&l.refresh(),s())});l.callback=function(e,t){if(e)return console.log("# 편집 결과: ",e);var n=l.config.uid;u(n,t,function(e){})},l.selectNone=function(t){t.stopImmediatePropagation(),e.select(null)},l.importProperties=function(t){var n=i.capsuleUID_byGroup(l.config.uid),o=n?[n]:[],a={filters:{disable:o,highlight:o},style:{left:t.clientX,top:t.clientY}};e.openImporter(a,function(e){
e&&l.importData(e)})},l.$on("$destroy",function(){d()})}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/jj-explorer-view-capsule.html",replace:!0,scope:{config:"="},controller:l}}var t=MODULE.tool.instance;t.directive("jjExplorerViewCapsule",e),e.$inject=["$capsulize","$documents","$commandController","$explorerTree","$toast","$notice"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(i,o,a){function c(){var o,a,l=i._config.uid,r=i._config.eventType,c=i._config.index,s=0===l.indexOf(t.type);s?(o=t.get(),a=o.dataType()):(o=l?e.get(l):null,a=o.type()),i.type=a;var u=n.getCurrentEvent(l),d=u[r],p=d.actions[c];i.config=angular.merge(i._config,{item:p,type:i.type,ok:"저장"}),i.$applyAsync()}function s(){u&&u(),i.config={}}var u=i.$watch(function(){return i._config},function(e,t){c()},!0);c(),i.saveData=function(){function e(e){return void 0===e?void l.message("변경된 사항이 없습니다.",{delay:l.SHORTEST}):e?void l.message("변경된 사항이 적용되었습니다.",{delay:l.SHORTEST}):void r.alert({modal:!0,title:"저장 실패",content:"변경된 사항이 정상적으로 저장 되지 않았습니다.<br>다시 시도해 주세요",ok:"확인"}).then(function(){})}var t=i._config.uid,o=i._config.eventType,a=i._config.index,c=n.getCurrentEvent(t),s=angular.copy(c),u=s[o].actions,d=i.getResult();u[a]=d,n.save(t,s,e)},i.$on("$destroy",function(){s()})}return c.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/jj-explorer-view-event.html",replace:!0,scope:{_config:"=config"},controller:c}}var t=MODULE.tool.instance;t.directive("jjExplorerViewEvent",e),e.$inject=["$elements","$documents","$eventEditor","$import","$commandController","$explorerPopup","$toast","$notice"]}(),function(){function e(e,t,n){return{set:function(i){var o=i.uid||"",a=void 0===i.deleteConnection?!0:i.deleteConnection,l=this;window[o]=function(e){if(a)delete window[o];else{var r=e.console,c=t.isDevelopVersion(),s=n.isPreviewer();c||s||r.clear(),r.log("%cHTML Element Debuger","color:green;font-size:1.5em;font-weight:bold;"),r.log("%c# 전달된 속성값 (window.scope) : ","color:green;",e.scope)}i.set&&i.set(e);var u=l._code2Html_usingTemplate(i);l._injection_usingTemplate(e,u)};var r=(new Date).getTime(),c=e.pathToActual(i.src);i.iframe.src=c+"?uid="+i.uid+"&_cachetime="+r},_code2Html_usingTemplate:function(t){function n(){var t="../";return window.$$__isEditTool&&(t=e.pathToActual(e.WORK_OPS_FOLDER)+"/"),t}function i(e){return e?e:""}var o=t.code||{},a=t.exceptScript||!1,l=o.css||"",r=o.html||"",c=a?"":i(o.js),s=n(),u={baseURL:s,css:l,html:r,js:c};return u},_injection_usingTemplate:function(e,t){function n(e,t){var n=e.getElementsByTagName("base")[0];if(n)n.setAttribute("href",t);else{n=e.createElement("base");var i=e.createAttribute("href");i.value=t,n.setAttributeNode(i)}e.head.appendChild(n)}function i(e,t){if(t){var n=e.createElement("style");n.innerHTML=t,e.head.appendChild(n)}}function o(e,t){t&&e.write(t)}function a(e,t){t&&(t="<script>//<![CDATA[\n"+t+"\n//]]></script>",e.write(t))}var l=e.document;n(l,t.baseURL),i(l,t.css),o(l,t.html),a(l,t.js)},decode:function(e){var t={};for(var n in e)t[n]=decodeURIComponent(e[n]);return t},encoding:function(e){var t={};for(var n in e)t[n]=encodeURIComponent(e[n]);return t}}}var t=MODULE.tool.instance;t.service("$htmlElement",e),e.$inject=["FileSystem","$version","$util"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(e){n.exitHack("편집창을 닫은 후 종료하시기 바랍니다.");var t={template:'<div jj-html-editor-dialog-box popup-dialog config="config">',title:"HTML 내용 편집",run:"실행",yes:"저장",uid:y,read:u,write:d,codeTest:!0};l.open(t,function(t,i){t&&console.error("결과 에러 : ",t),e&&e(i),n.exitHack()})}function u(t,n){var i=e.get(y),a=i.getNoneCopyValue("property"),l=a.code?a.code||{}:{},r=a.temp,c=r&&r.code?r.code:l;setTimeout(function(){var e=o.decode(c);n&&n(e)},100)}function d(t,n){if(!t)return void(n&&n());var i=e.get(y),a=i.value("property");a.temp=a.temp||{};var l=a.temp,c=!1,s=[],u=t?t.assets:null;u&&(p(s,u),s.push(function(e){delete u.task,l.assets=angular.extend(l.assets||{},u),c=!0,e()}));var d=t?t.code:null;s.push(function(e){return d?(l.code=o.encoding(d),c=!0,void e()):e()}),async.waterfall(s,function(e){e&&console.error("임시 저장 에러 : ",e),i.value("property",a),r.execute({ignoreCapture:!0}),n&&n()})}function p(e,n){function i(e){var t=a[e];return{src:t.path,dest:t.copyPath}}function o(e){return e}var a=n.datas,l=n.task;l||done();var r=[],c=[];l.edit.copy&&l.edit.copy.forEach(function(e){r.push(i(e))}),l.edit.remove&&l.edit.remove.forEach(function(e){c.push(o(e))}),l.saved.copy&&l.saved.copy.forEach(function(e){r.push(i(e))}),l.saved.remove&&l.saved.remove.forEach(function(e){c.push(o(e))}),r&&r.length>0&&e.push(function(e){t.copy(r,function(t,n){t&&console.error("파일 복사 에러 : ",t),e()})}),c&&c.length>0&&e.push(function(e){var n={path:c};t.remove(n,null,function(t,n){t&&console.error("파일 삭제 에러 : ",t),e()})})}function g(n){function i(){delete o.getNoneCopyValue("property").temp,o.isChanged(!0),n(),r.execute({ignoreCapture:!0})}var o=e.get(y),a=o.getNoneCopyValue("property");if(!a.temp)return n();var l=function(e){if(e){var t,n=e.datas;if(e.add&&(t=[],function(e){if(e){var i=e.map(function(e){return n[e].copyPath});t=t.concat(i)}}(e.add.edit),function(e){if(e){var i=e.map(function(e){return n[e].copyPath});t=t.concat(i)}}(e.add.saved)),t&&!(t.length<1))return t}}(a.temp.assets);if(!l||l.length<1)return i();var c={path:l};t.remove(c,null,function(e,t){e&&console.error("파일 삭제 에러 : ",e),i()})}function m(t){var n=e.get(y),i=n.value("property");if(!i.temp)return t();var o=a.uid(),l=v(o,i.temp);delete n.getNoneCopyValue("property").temp,n.isChanged(!0);var r={document:o,elements:[l],_nothing:function(){t()}};c.modifyElement(r,t)}function v(e,t){if(t){var n={element:y},i=t.code;i&&(n.data={},n.data.property={code:i});var o=t.assets;if(!o)return n;var a,l=o.datas;o.add&&(a=[],function(e){if(e){var t=e.map(function(e){var t=h(l[e],{copyed:!0});return t});a=a.concat(t)}}(o.add.edit),function(e){if(e){var t=e.map(function(e){var t=h(l[e],{replace:!0});return t});a=a.concat(t)}}(o.add.saved));var r;return o.remove&&(r=[],function(e){if(e){var t=e.map(function(e){var t=f(e);return t});r=r.concat(t)}}(o.remove.saved)),a&&a.length>0&&(n.asset=n.asset||{},n.asset.add={document:e,assets:a}),r&&r.length>0&&(n.asset=n.asset||{},n.asset.remove={document:e,assets:r}),n}}function f(e){var t={asset:e};return t}function h(e,t){var n=e.uid,o=e.copyPath,a=i.pattern.source.test(o),l="WORK_ASSET_CUSTOM_FOLDER",r=a?o:l,c={type:e.type,path:r,original:e.path,property:{name:e.name,size:e.size}},s={asset:n,data:c};return t.copyed&&(s._copyedElementAsset=!0),t.replace&&(s._movedElementAsset=e.copyPath,s._replaceElementAsset=!0),s}var y;return{open:function(e,t){y||(y=e,s(function(e){function n(){y=null,t&&t(e)}e?m(n):g(n)}))}}}var t=MODULE.tool.instance;t.service("$htmlElementEditor",e),e.$inject=["$elements","$externalAPI","$exitApplicationMacro","$util","$htmlElement","$documents","$import","$autoBackup","$commandController"]}(),function(){function e(e){var t=e.browser(),n=!t||"Edge"!=t.name&&"IETablet"!=t.name?"p":"div",i="<"+n+">",o="</"+n+">",a=i+"<br>"+o;return{toData:function(e){var t=e;t=t.replace(/\n/gim,"");var a=new RegExp("(</"+n+">|^)+?(?!<"+n+">)(.+?)(<"+n+">|$)","img");t=t.replace(a,function(e,t,n,a,l,r){return console.log("- 	 * match 문자열 : ",e),console.log("- 	 * $1 : ",t),console.log("- 	 * $2 : ",n),console.log("- 	 * $3 : ",a),console.log("- 	 * offset : ",l),console.log("---------------------------"),t==o&&a==i?o+i+n+o+i:t==o?o+i+n+o:a==i?i+n+o+i:e}),console.debug("input Tag : ",t.replace(/\n/gim,"\\n"));var l=new RegExp("<"+n+">(<br>|<br/>|<br></br>)</"+n+">","img");t=t.replace(l,"\n");var r=new RegExp("(</"+n+">|^)+?(?!<"+n+">)(\n+)+?(<"+n+">|$)","img");t=t.replace(r,function(e,t,n,i,o,a){return console.log("- 	 * match 문자열 : ",e.replace(/\n/g,"\\n")),console.log("- 	 * $1 : ",t?t.replace(/\n/g,"\\n"):""),console.log("- 	 * $2 : ",n?n.replace(/\n/g,"\\n"):""),console.log("- 	 * $3 : ",i?i.replace(/\n/g,"\\n"):""),console.log("- 	 * offset : ",o),console.log("---------------------------"),""==n||"<br>"==n?"\n":t&&i?n+"\n":n});var c=new RegExp("(</"+n+">)+?(s?)+(<"+n+">)","img");t=t.replace(c,"\n");var c=new RegExp("(<"+n+">|</"+n+">)","img");return t=t.replace(c,""),t=t.replace(/(<br>|<br\/>|<br><\/br>)/gim,""),console.debug("toData : ",t.replace(/\n/gim,"\\n")),t},toTag:function(e){if(console.debug("input data : ",e.replace(/\n/gim,"\\n")),""==e)return"";e=e.replace(/(.+)(\n+)?/gim,function(e,t,n,l,r){console.log("- 	 * match 문자열 : ",e.replace(/\n/g,"\\n"),e.length),console.log("- 	 * $1 : ",t?t.replace(/\n/g,"\\n"):""),console.log("- 	 * $2 : ",n?n.replace(/\n/g,"\\n"):""),console.log("- 	 * offset : ",l);var c=0==l,s=l==r.length-e.length;n=n||"";var u=n;u=s?n:n.length>0?n.substring(1):n;var d=i+t+o+u.replace(/\n/g,a);return console.log("tag : ",d),console.log(c,"---------------------------",s),d});var t=e.replace(/\n/gim,a);return console.debug("toTag : ",t),t}}}var t=MODULE.tool.instance;t.service("$supportText_IE",e),e.$inject=["$device"]}(),function(){function e(e,t,n,i,o,a){return{loadTest:function(e,n){var i=e.url;if(!i)return n(i);var o=e.checkXFrameOption,a=t.isPreviewer(),l=0===window.location.protocol.indexOf("http"),r=t.pattern.http.test(i);window.$$__isEditTool?r||o?this._loadURL(i,o,n):this._loadFile(i,n):a||window.nw?r?this._loadURL(i,!1,n):this._loadFile(i,n):r||l?this._loadURL(i,!0,n):this._loadFile(i,n)},_loadFile:function(t,o){var a;a=window.$$__isEditTool?e.pathToActual(e.WORK_OPS_FOLDER)+"/":"";var l=a?n.resolve(a,t):t;l=e.normalize(l);var r=i.parse(l);t=""===n.extname(r.pathname)?"notFoundPage":l,console.warn("# 로컬 페이지 로드 : ",t),o(t)},_loadURL:function(e,n,i){function o(){return t.isPreviewer()?!0:Boolean(window.nw)}var l,r,c=o(),s=$.ajax({url:e,type:"GET"}).done(function(t){console.warn("# HTML 로드 성공함 : ",e),c||(l=t)}).fail(function(t){if(s.responseText)l=s.responseText;else{var n=a[s.status]||s.statusText;r="<h2>Response : "+s.status+"</h2><p>"+n+"</p>"}console.warn("# HTML 로드 실패함 : ",e)}).always(function(){var t=s.getResponseHeader("x-frame-options");if(console.warn("	- x-frame-options : ",t,n),console.warn("# web 페이지 로드 : ","네트웍 XFrame 체크 (",n,")",r),!n&&!r)return void i(e,l);if(t&&"DENY"!==t&&"SAMEORIGIN"!==t)i(e,l||r);else{var o="<h2>X-Frame-Options : "+t+"</h2><p>웹 사이트 게시자가 정보 보안을 위해 프레임 내에 콘텐츠 표시를 허용하지 않습니다.<br>웹 사이트의 서버 관리자에게 문의하세요.</p>";i(e,l||o)}})},load:function(e,n,i,a){if(e){var l=0===window.location.protocol.indexOf("http"),r=t.pattern.http.test(n),c=angular.element(e);if(r||l){var s="allow-forms allow-pointer-lock allow-same-origin allow-scripts";c.attr("sendbox",s)}else c.removeAttr("sendbox");e.src="",c.removeAttr("src"),n&&o(function(){if(i){var t=e.document||e.contentDocument||e.contentWindow.document;t.open("text/html","replace"),t.write(i),t.close()}else e.src=n;a&&a()})}}}}var t=MODULE.tool.instance;t.service("$webElement",e),e.$inject=["FileSystem","$util","$node_path","$node_url","$timeout","StatusCode"]}(),function(){function e(e,t,n,i,o,a,l,r,c){return{get:function(s,u,d){var p=e.create("ElementBase",{init:function(){this._run()},_run:function(){var e=n.get(s.uid);s.type=e.type(),s.css=e.css(),s.style=e.style(),s.option=e.option(),this.setOption(s.option),this.setStyle(s.style),this.setCss(s.css),this.updateElementStyle(),this.setWatch(),this.setInvalid(s.option,s.style,s.css),this.setLiveUpdate(),s.option._$$editable&&this.setEditEnable(),s.getLabelDisplay=this._getLabelDisplay,this.setWatchLabel(),this.setWatch_state();var t=this;s.$on("$destroy",function(){s.elementStyle&&(s.elementStyle=null),t.destroy(),s.css=null,s.style=null,s.option=null,e=null})},destroy:function(){this.unwatch_id(),this.unwatch_css(),this.unwatch_style(),this.unwatch_option(),s.option._$$editable&&this.unwatch_edit(),this.unwatch_scale(),this.unwatch_name&&this.unwatch_name(),this.unwatch_selected&&this.unwatch_selected(),this.unwatch_state&&this.unwatch_state()},setWatch_state:function(){var e=this;this.unwatch_state=s.$watch(function(){var e=n.get(s.uid);if(e){var t=e.value("currentState");return"over"!==t||e.value("overStateEnabled")?"down"!==t||e.value("downStateEnabled")||(t="normal"):t="normal",t}},function(t,n){e.setWatch()})},setWatchLabel:function(){this.unwatch_name&&this.unwatch_name(),this.unwatch_name=s.$watch(function(){var e=n.get(s.uid);if(!e)return"";var t=e.value("id");return e.name()+t},function(e,t){s.getLabelDisplay()}),this.unwatch_selected&&this.unwatch_selected(),this.unwatch_selected=s.$watch(function(){var e=i.get();return e?e.isSelected(s.uid):!1},function(e,t){s.getLabelDisplay()})},_getLabelDisplay:function(e){var t=n.get(s.uid),o=i.get();if(!t||!o)return void(s.labelDisplay="");var a=o.isSelected(s.uid),l=t.name();if(e||a){var r=s.uid;r=" ( "+r+" )",s.labelDisplay=l+r}else{var c=t.value("id");c=c?" ( ID : "+c+" )":"",s.labelDisplay=l+c}s.$applyAsync()},updateElementStyle:function(){this.setInvalid(s.option,s.style,s.size);var e=this.getDisplayOptionStyle(),t=this.getDisplayStyleStyle(),n=this.getDisplayCssStyle();this.customFilter(e,t,n),this.styleFilter(e,t,n),this.setUpdateDisplay(e,t,n)},styleFilter:function(e,t,n){if(t.borderWidth&&"none"!==t.borderStyle||(delete t.borderWidth,delete t.borderColor,delete t.borderStyle),t.columnRuleWidth&&"none"!==t.columnRuleStyle||(delete t.columnRuleWidth,delete t.columnRuleColor,delete t.columnRuleStyle),t.backgroundImage)try{this._styleFilter_backgroundImage(t)}catch(i){console.error(i),console.debug("assetData : [",t.backgroundImage,"] ")}},_styleFilter_backgroundImage:function(e){var t=e.backgroundImage,n=a.get(t);if(!n)return void(e.backgroundImage="");var i=n.path();if(!i)return void(e.backgroundImage="");var o=s.option.useCacheImage;o||(i=r.noneCachePath(i)),e.backgroundImage='url("'+i+'")'},customFilter:function(e,t,n){},getDisplayOptionStyle:function(){return{}},getDisplayStyleStyle:function(){return angular.copy(s.style)},getDisplayCssStyle:function(){var e={minWidth:s.css.minWidth,minHeight:s.css.minHeight,maxWidth:s.css.maxWidth,maxHeight:s.css.maxHeight};return s.option._$$flexibleSize?e.width=s.css.width:(e.width="100%",e.height="100%"),e},setUpdateDisplay:function(e,t,n){s.elementStyle=angular.extend({},e,t,n)},_getOverflow:function(){var e,t,n=c.get(s.type,"option"),i=void 0===s.option.overflowVisible?n.overflowVisible:s.option.overflowVisible;return i?(e="visible",t="visible"):(e="visible"===s.option.overflowX?"visible":void 0===s.option.overflowX?n.overflowX:s.option.overflowX,t="visible"===s.option.overflowY?"visible":void 0===s.option.overflowY?n.overflowY:s.option.overflowY),{x:e,y:t}},setInvalid:function(e,t,n){var i=this.checkInvalid(e,t,n);s.invalid=i;var o=s.$parent.$parent;o.invalid=i},checkInvalid:function(e,t,n){return!0},setWatch:function(){this.setAttributeID(),this.setWatchCss(),this.setWatchStyle(),this.setWatchOption(),this.setWatchScale()},setAttributeID:function(){this.unwatch_id&&this.unwatch_id(),this.unwatch_id=s.$watch(function(){var e=s.uid,t=n.get(e),i=t?t.value("id"):"";return i},function(e){var t=e;t?u.attr("id",t):u.removeAttr("id")})},setWatchScale:function(){this.unwatch_scale&&this.unwatch_scale(),this.unwatch_scale=s.$watch(function(){var e=o.get();if(!e)return 1;var t=e.getNoneCopyValue("app");return void 0===t.$$temp_scale?t.scale:t.$$temp_scale},function(e,t){var n=1/e,i="scale("+n+","+n+")";s.labelDisplayStyle={transformOrigin:"0 0",transform:i,top:-2*n+"em"}})},setWatchCss:function(){this.unwatch_css&&this.unwatch_css();var e=this;this.unwatch_css=s.$watch(function(){var e=s.uid,t=n.get(e),i=t?t.css():{};return i},function(t){e.setCss(t),e.updateElementStyle()},!0)},setCss:function(e){var t=n.get(s.uid);if(t){var i=n.get(s.uid).css();s.css=angular.extend({},i,e)}},setWatchStyle:function(){this.unwatch_style&&this.unwatch_style();var e=this;this.unwatch_style=s.$watch(function(){var e=s.uid,t=n.get(e),i=t?t.style():{};return i},function(t){e.setStyle(t),e.updateElementStyle()},!0)},setStyle:function(e){var t=n.get(s.uid);if(t){var i=t.style();s.style=angular.extend({},i,e)}},setWatchOption:function(){this.unwatch_option&&this.unwatch_option();var e=this;this.unwatch_option=s.$watch(function(){var e=s.uid,t=n.get(e),i=t?t.option():{};return i},function(t){e.setOption(t),e.updateElementStyle()},!0)},setOption:function(e){var t=n.get(s.uid);if(t){var i=t.option();s.option=angular.extend({},i,e)}},setLiveUpdate:function(){var e=this;s.liveUpdate=function(t,n){e.liveUpdate(t,n)}},liveUpdate:function(e,n){if(t.safety()){e.option&&this.setOption(e.option),e.style&&this.setStyle(e.style),e.css&&this.setCss(e.css),this.updateElementStyle(),s.$applyAsync();var i=this;l(function(){var e=i.getUpdateResultSize(s.option,s.style,s.css);n(e,s.style,s.option)},0)}},getUpdateResultSize:function(e,t,n){var i=u.outerWidth(),o=u.outerHeight();return i=Math.max(i,n.minWidth||0),o=Math.max(o,n.minHeight||0),i=Math.min(i,n.maxWidth||1/0),o=Math.min(o,n.maxHeight||1/0),{width:i,height:o}},setEditEnable:function(){s.preventEditing=this.preventEditing,s.editable=!1;var e=this;this.unwatch_edit=s.$watch(function(){var e=i.get(),t=e?e.value("editingUID"):"";return t},function(t){var n=Boolean(t&&s.uid===t);s.editingUID=t,s.editable!==n&&(s.editable=n,e.editableChange(s.editable))})},preventEditing:function(){return!1},editableChange:function(e){}});return p}}}var t=MODULE.tool.instance;t.factory("ElementBase",e),e.$inject=["$superClass","$applications","$elements","$selects","$projects","$assets","$timeout","FileSystem","$defaultProperty"]}(),function(){function e(e){function t(t,n,i){var o=n.find("[html5AudioPlayer]"),a=e.get(t,n,i),l=a.extend("ElementAudio",{checkInvalid:function(e,t,n){return!e.source}}),r=new l;t.$on("$destroy",function(){o=null,r=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-audio.html",replace:!0,scope:{uid:"@"},link:t}}var t=MODULE.tool.instance;t.directive("jjElementAudio",e),e.$inject=["ElementBase"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("ElementButton",{checkInvalid:function(e,i,o){var a=t.get(n.uid),l=a.events(),r=!1;for(var c in l){r=!0;break}return!r}}),r=new l,c=n.$watchCollection(function(){var e=n.uid,i=t.get(e),o=i?i.events():{};return o},function(e){r.setInvalid(n.option,n.style,n.size)});n.$on("$destroy",function(){c(),r=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-button.html",replace:!0,scope:{uid:"@"},link:n}}var t=MODULE.tool.instance;t.directive("jjElementButton",e),e.$inject=["ElementBase","$elements"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(c,s,u){var d=s.find("iframe");d.on("load",function(){m._setScrollDisplay()});var p=e.get(c,s,u),g=p.extend("ElementHtml",{setUpdateDisplay:function(e,t,n){this._super(e,t,n),this._setScrollDisplay()},_setScrollDisplay:function(){var e,t,n=r.get(c.type,"option");c.option?(e=c.option.overflowX||n.overflowX,t=c.option.overflowY||n.overflowY):(e=n.overflowX,t=n.overflowY),d.contents().find("body").css({overflowX:e,overflowY:t})},checkInvalid:function(e,n,i){var o=t.get(c.uid),a=o.getNoneCopyValue("property"),l=a.code;return l?!(l.js||l.html||l.css):!0},setWatch:function(){this._super(),this.setWatch_property(),this.setWatch_assets()},setWatch_state:function(){},setWatch_property:function(){var e=this;this.unwatch_code=c.$watch(function(){var e=t.get(c.uid);if(e){var n=e.getNoneCopyValue("property"),i=n.code,o=n.editor;return{code:i,editor:o}}},function(t){o.safetyCall(c,function(){e.setInvalid(c.option,c.style,c.size),e.setViewContent()})},!0)},setWatch_assets:function(){var e=this;this.unwatch_assets=c.$watchCollection(function(){var e=t.get(c.uid);if(e){var n=e.getNoneCopyValue("assets");return n}},function(t){o.safetyCall(c,function(){e.setInvalid(c.option,c.style,c.size),e.setViewContent()})})},destroy:function(){this._super(),this.unwatch_code&&this.unwatch_code(),this.unwatch_assets&&this.unwatch_assets()},setViewContent:function(){var e,o=c.uid,a=t.get(o),l=a.getNoneCopyValue("property"),r=l.editor||{usePreview:!0,exceptScript:!0};r.usePreview&&(e=l.code?n.decode(l.code):{});var s={code:e,uid:o,exceptScript:r.exceptScript,deleteConnection:!0,set:function(e){e.scope={uid:o},e.$this={},e.$self={}},iframe:d[0],src:i.WORK_OPS_FOLDER+"/"+i.HTML_ELEMENT_PATH};n.set(s)},preventEditing:function(){return console.log("# 편집 기본 기능을 사용안함 : ",c.uid),l(function(){a.open(c.uid,function(e){console.log("# 편집 종료 : ",e)})}),!0}}),m=new g;c.$on("$destroy",function(){d.off("load"),d=null,m=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-html.html",replace:!0,scope:{uid:"@"},link:c}}var t=MODULE.tool.instance;t.directive("jjElementHtml",e),e.$inject=["ElementBase","$elements","$htmlElement","FileSystem","$applications","$htmlElementEditor","$timeout","$defaultProperty"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(t,i,a){function l(){p&&(p.deleteEvent(),n.remove("imageEditDrag"),p=null)}var c=i.find("[imageEditor]"),s=e.get(t,i,a),u=s.extend("ElementImage",{checkInvalid:function(e,t,n){return!t.backgroundImage},setUpdateDisplay:function(e,n,i){if(!n.backgroundImage)return t.imageStyle={},void(t.elementStyle=angular.extend({},e,n,i));var a=o.get(t.type,"style"),l={backgroundImage:n.backgroundImage,backgroundSize:n.backgroundSize||a.backgroundSize,backgroundOrigin:n.backgroundOrigin||a.backgroundOrigin,backgroundRepeat:n.backgroundRepeat||a.backgroundRepeat,backgroundPosition:n.backgroundPosition||a.backgroundPosition},r=n.backgroundSizeOption||a.backgroundSizeOption;"custom"!==r&&(l.backgroundSize=r);for(var c in l)delete n[c];delete n.backgroundSizeOption,t.imageStyle=l,t.elementStyle=angular.extend({},e,n,i)},preventEditing:function(){return setTimeout(function(){r.openFileDialogBox(function(e,n){e&&r.elementImageChange(e,n,t.uid)})},100),!0}}),d=new u;t.$on("$destroy",function(){t.imageStyle=null,t.elementStyle=null,t._dragProp=null,c=null,l(),d=null});var p}return{restrict:"EA",templateUrl:"screen/element/jj-element-image.html",replace:!0,scope:{uid:"@"},link:c}}var t=MODULE.tool.instance;t.directive("jjElementImage",e),e.$inject=["ElementBase","$toast","Touch","$util","$defaultProperty","$assets","$selects","$changeImageSource"]}(),function(){function e(e){function t(t,n,i){var o=n.find("[textEditor]"),a=e.get(t,n,i),l=a.extend("jjElementInput",{checkInvalid:function(e,t,n){return!1}}),r=new l;t.$on("$destroy",function(){o=null,r=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-input.html",replace:!0,scope:{uid:"@"},link:t}}var t=MODULE.tool.instance;t.directive("jjElementInput",e),e.$inject=["ElementBase"]}(),function(){function e(e,t,n,i,o,a,l){function r(r,c,s){function u(e){r.indexes=e}function d(){var e=function(){var e=o.get();if(!e)return 1;var t=e.getNoneCopyValue("app");return void 0===t.$$temp_scale?t.scale:t.$$temp_scale}();e=e||1;var t=function(){var e=i.get(),t=e?e.currentEditGroup():"",n=a.getGroupOffsetTransform(t);return n.scale}();r._scaleFactor=e*t}var p=e.get(r,c,s),g=p.extend("ElementMask",{checkInvalid:function(e,i,o){var a=t.get(r.uid);if(a){var l=a.getNoneCopyValue("childGroup"),c=n.get(l);if(c){var s=c.getNoneCopyValue("indexes");return!s||s.length<1}}},setUpdateDisplay:function(e,t,n){this._super(e,t,n),r.overflow=this._getOverflow()}}),m=new g;r.indexes=[];var v=r.$watchCollection(function(){var e=t.get(r.uid);if(!e)return[];var i=e.getNoneCopyValue("childGroup"),o=n.get(i);if(!o)return[];var a=o.getNoneCopyValue("indexes");return a},function(e,t){l.safetyCall(r,function(){u(e),m.setInvalid(r.option,r.style,r.size)})}),f=r.$watch(function(){var e=t.get(r.uid);return e?e.tempdata("scrollRefresh"):!1},function(e,t){r.scrollRefresh=e});r.transformTool="";var h=r.$watch(function(){var e=i.get(),t=e?e.currentEditGroup():"";return t},function(e,n){var i=t.get(r.uid),o=i.getNoneCopyValue("childGroup");r.transformTool=e&&e===o}),y=r.$watch(function(){var e=o.get();if(!e)return 1;var t=e.getNoneCopyValue("app");return void 0===t.$$temp_scale?t.scale:t.$$temp_scale},function(e,t){d()}),b=r.$watch(function(){var e=i.get(),t=e?e.currentEditGroup():"";return t},function(e){d()});r.refreshTransformLayoutFlag=!1,r.$elementLayoutChanged=function(e,t){r.refreshTransformLayoutFlag=e,r.$applyAsync()},r.$on("$destroy",function(){m=null,r.indexes=null,v(),f(),h(),y(),b()})}return{restrict:"EA",templateUrl:"screen/element/jj-element-mask.html",replace:!0,scope:{uid:"@"},link:r}}var t=MODULE.tool.instance;t.directive("jjElementMask",e),e.$inject=["ElementBase","$elements","$groups","$selects","$projects","$mask","$applications"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(c,s,u){function d(){var e=s.find("[richTextEditor]");return e}function p(e){g(),y=r(function(){y=null,m(e),c.$applyAsync()},250)}function g(){y&&(r.cancel(y),y=null)}function m(e){if(c.tempSaveData){var i=angular.copy(c.tempSaveData);c.tempSaveData=null;var o=h.getUpdateResultSize(c.option,c.style,c.css);i.css||(i.css={}),i.css.width=o.width,i.css.height=o.height;var r=n.uid(),s=c.uid,u=a.get(s),d=u.value("currentState"),p={currentState:d,state:{}};p.state[d]=i;var g={ignoreEditText:!0,document:r,elements:[{element:s,data:p}]},m=l.get(),v=m.tooldata("richText");v&&(delete v[c.uid],m.tooldata("richText",v)),t.modifyElement(g,function(t){e&&e(i)})}}var v=e.get(c,s,u),f=v.extend("ElementText",{_run:function(){this._super(),this.setEditEnable();var e=this;c.$on("$destroy",function(){e.unwatch_edit&&e.unwatch_edit(),e.unwatch_edit=null})},setEditEnable:function(){var e=this;this.unwatch_edit=c.$on("$richTextEditorFocusChanged",function(t,n){t.stopPropagation(),e.editableChange(n)})},checkInvalid:function(e,t,n){return!c.option.text},getDisplayOptionStyle:function(){var e=o.get(c.type,"option"),t=c.option?c.option.text||e.text:e.text;return c.contentText=t,{}},getDisplayStyleStyle:function(){var e=this._super(),t=i.parseUnit(e.paddingLeft,"px").num,n=i.parseUnit(e.paddingRight,"px").num,a=i.parseUnit(e.paddingTop,"px").num,l=i.parseUnit(e.paddingBottom,"px").num,r=o.get(c.type,"style");return void 0===t&&(e.paddingLeft=i.parseUnit(r.paddingLeft,"px").num),void 0===n&&(e.paddingRight=i.parseUnit(r.paddingRight,"px").num),void 0===a&&(e.paddingTop=i.parseUnit(r.paddingTop,"px").num),void 0===l&&(e.paddingBottom=i.parseUnit(r.paddingBottom,"px").num),e},setUpdateDisplay:function(e,t,n){this._super(e,t,n)},getUpdateResultSize:function(e,t,n){var i=d(),o=c.option._$$flexibleSize,a=o?i:s,l=a.outerWidth(),r=a.outerHeight();return l=Math.max(l,n.minWidth||0),r=Math.max(r,n.minHeight||0),l=Math.min(l,n.maxWidth||1/0),r=Math.min(r,n.maxHeight||1/0),{width:l,height:r}},editableChange:function(e){c.editable=e,this.getDisplayOptionStyle()}}),h=new f;c.tempSaveData=null,c.onContentChanged=function(e,t,n){return g(),function(){e.option&&void 0!==e.option.text&&(c.contentText=e.option.text),e.option&&(c.option=angular.merge(c.option,e.option)),e.style&&(c.style=angular.merge(c.style,e.style)),e.css&&(c.css=angular.merge(c.css,e.css)),h.updateElementStyle()}(),c.tempSaveData=angular.merge(c.tempSaveData||{},e),t.delay?(p(n),void c.$applyAsync()):void c.$applyAsync(function(){m(n)})};var y;c.$on("$destroy",function(){g(),c.contentText=null,h=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-text.html",replace:!0,scope:{uid:"@"},link:s}}var t=MODULE.tool.instance;t.directive("jjElementText",e),e.$inject=["ElementBase","$commandController","$documents","$util","$defaultProperty","$elements","$projects","$timeout","$richEditor"]}(),function(){function e(e){function t(t,n,i){var o=n.find("[html5VideoPlayer]"),a=e.get(t,n,i),l=a.extend("ElementVideo",{checkInvalid:function(e,t,n){return!e.source}}),r=new l;t.$on("$destroy",function(){o=null,r=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-video.html",replace:!0,scope:{uid:"@"},link:t}}var t=MODULE.tool.instance;t.directive("jjElementVideo",e),e.$inject=["ElementBase"]}(),function(){function e(e,t,n,i){function o(i,o,a){var l=e.get(i,o,a),r=l.extend("ElementWeb",{checkInvalid:function(e,n,o){var a=t.get(i.uid),l=a.getNoneCopyValue("property"),r=l.link;return!r||!r.url},setWatch:function(){this._super(),this.setWatch_property()},setWatch_state:function(){},setWatch_property:function(){var e=this;this.unwatch_link=i.$watch(function(){var e=t.get(i.uid);if(e){var n=e.getNoneCopyValue("property"),o=n.link,a=n.editor;return{link:o,editor:a}}},function(t){e.setInvalid(i.option,i.style,i.size),e.setViewContent()},!0)},destroy:function(){this._super(),this.unwatch_link&&this.unwatch_link()},_removeIntervalID_blur:function(){i.intervalID_blur&&(clearInterval(i.intervalID_blur),i.intervalID_blur=null)},_setIntervalID_blur:function(e){this._removeIntervalID_blur();var t=this,n=0;i.intervalID_blur=setInterval(function(){e.contentDocument&&e.contentDocument.activeElement&&e.contentDocument.activeElement.blur(),++n>4&&t._removeIntervalID_blur()},200)},setViewContent:function(){var e=i.uid,a=t.get(e),l=a.getNoneCopyValue("property"),r=l.editor||{usePreview:!1,checkXFrameOption:!1},c=l.link||{},s=c.url||"";i.editor=r,i.url=s,i.$applyAsync();var u=this;this._removeIntervalID_blur();var d={url:s,checkXFrameOption:i.editor.checkXFrameOption};n.loadTest(d,function(e,t){i.$applyAsync(function(){var i=o.find("iframe"),a=i[0];n.load(a,e,t,function(){a.onload=function(){a.onload=null,u._setIntervalID_blur(a)}})})})}}),c=new r;i.$on("$destroy",function(){c=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-web.html",replace:!0,scope:{uid:"@"},link:o}}var t=MODULE.tool.instance;t.directive("jjElementWeb",e),e.$inject=["ElementBase","$elements","$webElement","$timeout"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(u,d,p){function g(e){if(window.getSelection){var t=window.getSelection();if(w){var n=C.find(j),i=n.length>0?n[n.length-1]:C[0];console.debug("@node : ",i.outerHTML);var o=$(i).text();console.debug("@text : ",o);var a=o.length;console.debug("@idx : ",a),i=a>0?i.firstChild:i,console.debug("@node : ",i.outerHTML),t.collapse(i,a),console.debug("@range.collapse : ",!!t.collapse)}else t.selectAllChildren(e)}else{var t=document.body.createTextRange();t.moveToElementText(e),t.select()}}function m(){if(window.getSelection)if(w);else{var e=window.getSelection();e.rangeCount>0&&e.collapseToEnd()}else{var t=document.selection.createRange();t.collapse(!1),t.select()}}function v(e){var t={};return window.getSelection?t=window.getSelection():document.selection&&(t=document.selection.createRange()),t.rangeCount?void t.removeAllRanges():t.text>""?void document.selection.empty():void 0}function f(e){}function h(e){var t=event.keyCode||event.which;if(27===t){e.preventDefault();var n={document:a.uid()};return void o.closeEditElement(n)}y(),u.$apply()}function y(){var e=i.get(),t=e.value("editingUID");if(t){var n=C.html();n=c.remove(n),w&&(n=r.toData(n));var o=!1,a=o?C:d,l=n?a.outerHeight():a.height(),s={option:{text:n},css:{height:l}};console.log("# update EditingData (live) : ",s),e.value("editingData",s)}}var b=t.browser(),x="Edge"==b.name||"IETablet"==b.name,w="IE"==b.name||x,j=x?"div":"p",C=d.find("[textEditor]"),k=e.get(u,d,p),_=k.extend("ElementText",{checkInvalid:function(e,t,n){return!u.option.text},getDisplayOptionStyle:function(){var e=s.get(u.type,"option").text,t=u.option?u.option.text||e:e;return t=c.create(t),w&&(t=r.toTag(t)),u.displayText=n.trustAsHtml(t),{}},getDisplayStyleStyle:function(){var e=this._super(),t=l.parseUnit(e.paddingLeft,"px").num,n=l.parseUnit(e.paddingRight,"px").num,i=l.parseUnit(e.paddingTop,"px").num,o=l.parseUnit(e.paddingBottom,"px").num,a=s.get(u.type,"style");return void 0===t&&(e.paddingLeft=l.parseUnit(a.paddingLeft,"px").num),void 0===n&&(e.paddingRight=l.parseUnit(a.paddingRight,"px").num),void 0===i&&(e.paddingTop=l.parseUnit(a.paddingTop,"px").num),void 0===o&&(e.paddingBottom=l.parseUnit(a.paddingBottom,"px").num),e},setUpdateDisplay:function(e,t,n){this._super(e,t,n)},getUpdateResultSize:function(){return{width:C.outerWidth(),height:C.outerHeight()
}},editableChange:function(e){console.log("editableChange : ",e),e?(C.attr("contenteditable",""),C.focus(),g(C[0]),m()):(C.removeAttr("contenteditable"),C.blur())}}),E=new _;u.editableChange=function(){console.log("editableChange : ",u.editable),E.editableChange(u.editable)},u.onFocus=function(){C.on("keydown",f),C.on("keyup",h),console.log("onFocus : ")},u.onBlur=function(){C.off("keydown",f),C.off("keyup",h),console.log("onBlur : "),y(),v()},u.$on("$destroy",function(){C.off("keydown",f),C.off("keyup",h),u.displayText=null,C=null,E=null})}return{restrict:"EA",templateUrl:"screen/element/jj-element-text.html",replace:!0,scope:{uid:"@"},link:u}}var t=MODULE.tool.instance;t.directive("__jjElementText",e),e.$inject=["ElementBase","$device","$sce","$selects","$commandController","$documents","$util","$supportText_IE","$autolink","$defaultProperty"]}(),function(){function e(e,t,n,i,o){function a(i,a,l){function r(){i._unwatchElementStyle&&i._unwatchElementStyle(),i._unwatchElementCSS&&i._unwatchElementCSS(),i._unwatchBoundary&&i._unwatchBoundary()}function c(){r();var o=i.selects[0],a=n.get(o),l=a.value("type");if(l!=e.IMAGE)return void(i.sizeResetDisplay=!1);var c=i.$watchCollection(function(){if(!t.safety())return"not safety";var e=n.get(o),i=e?e.style():null;return i},function(e,t){e&&s()});i._unwatchElementStyle=c;var u=i.$watchCollection(function(){if(!t.safety())return"not safety";var e=n.get(o),i=e?e.css():null;return i},function(e,t){e&&s()});i._unwatchElementCSS=u;var d=i.$watch("boundary.height",function(e,t){s()});i._unwatchBoundary=d}function s(){if(!t.safety())return"not safety";var e=i.selects[0];if(e){var a=n.get(e);if(i.boundary.height<30)return void(i.sizeResetDisplay=!1);var l=a.style();if(l&&l.backgroundSize&&"auto"!=l.backgroundSize)return void(i.sizeResetDisplay=!1);var r=o.checkImageContainerSize(a);i.sizeResetDisplay=i.boundary.width==r.width&&i.boundary.height==r.height?!1:!0}}i.sizeResetDisplay=!1;var u=i.$watchCollection("selects",function(e,t){return!e||e.length<1?(r(),void(i.sizeResetDisplay=!1)):"single"!=i.type?void(i.sizeResetDisplay=!1):void c()});i._unwatchElementStyle,i._unwatchElementCSS,i._unwatchBoundary,i.sizeReset=function(){var e=i.selects[0];o.resetImageSize(e)},i.$on("$destroy",function(){u(),r()})}return a.$inject=["$scope","$element","$attrs"],{restrict:"A",scope:!1,controller:a}}var t=MODULE.tool.instance;t.directive("jjSizeResetAnchor",e),e.$inject=["ElementType","$applications","$elements","$projects","$propertyManager"]}(),function(){function e(e,t,n,i,o,a,l,r){function c(e,t,n,i){u=i}function s(c,s,d){function p(){function t(e,t){B&&(a.cancel(B),B=null),c.displayToolButtons=!1,c.$applyAsync();var n=void 0===t?e.length>0:t,i=n?r.toolButtonDelay:100;B=a(function(){B=null,n&&(c.buttons=e),c.displayToolButtons=n,$()},i)}if(c.editingUID||c.isDragging||!c.anchorVisible)return void t(c.buttons,!1);var n=[],i=c.pasteEnable,o=c.selects;if(!o||o.length<1)c.ingroup&&(i&&n.push(_.paste),n=n.concat([_.groupOut]));else{if(n=n.concat([_.del,_.copy,_.cut]),i&&n.push(_.paste),o.length>1){var l=g();n=n.concat(l?[_.ungroup,_.group,_.groupIn]:[_.group])}else{var s=g();if(s)n=n.concat([_.ungroup,_.group,_.groupIn]);else{n.push(_.group);var u=o[0],d=e.get(u);d.isEditable()&&n.push(_.edit)}}c.ingroup&&n.push(_.groupOut)}t(n)}function g(){var e=i.get(),t=e?e.value("currentGroup"):"";return t}function m(){var e={document:o.uid(),elements:c.selects};t.removeElement(e)}function v(){t.copy()}function f(){t.cut()}function h(){t.paste()}function y(){var e=i.get();if(!(e.getLength()<1)){var n={document:o.uid(),data:{indexes:l.sort(e.get())}};t.createGroup(n)}}function b(){var e=g();if(e){var n={document:o.uid(),group:e};t.removeGroup(n)}}function x(){var e=g();if(e){var n={document:o.uid(),group:e};t.moveEditGroup(n)}}function w(){var e={document:o.uid()};t.moveEditGroup(e)}function j(){u.startEdit(c.selects)}function $(){var e=i.get();if(e){var t,n=1/c._scaleFactor,o="scale("+n+","+n+")";if(e.getLength()<1&&c.ingroup)t=angular.copy(c.ingroupArea);else{var a=c.actualBoundary||c.ingroupArea;a&&(t=angular.copy(a))}if(t){var l,r=!0;l=r?C(t,n):k(t,n);var s=c.actualBoundary?c.tranformRectOffset.left:0,u=c.actualBoundary?c.tranformRectOffset.top:0;c.toolPosition={left:l.x-s,top:l.y-u,transformOrigin:l.transformOrigin,transform:o},c.$applyAsync()}}}function C(e,t){var i,o,a,l=R*c.buttons.length,r=N,s=e.left,u=e.top,d=30*t,p=n.get();if(p){var g=p.getNoneCopyValue("paper");return o=(e.width-l)/2,i="center",r+d>u?(a=e.height+d,i+=" top"):u+e.height>g.height-d?(a=-(r+d),i+=" bottom"):(a=-(r+d),i+=" bottom"),o+=s,a+=u,{x:o,y:a,transformOrigin:i}}}function k(e,t){var i,o,a,l=R,r=N*c.buttons.length,s=e.left,u=e.top,d=30*t,p=n.get();if(p){var g=p.getNoneCopyValue("paper");return d>s?(o=e.width+d,i="left"):s+e.width>g.width-(l+d)?(o=-(l+d),i="right"):(o=-(l+d),i="right"),a=(e.height-r)/2,i+=" center",o+=s,a+=u,{x:o,y:a,transformOrigin:i}}}var _={del:{id:"delete",title:"Delete"},copy:{id:"copy",title:"Copy"},cut:{id:"cut",title:"Cut"},paste:{id:"paste",title:"Paste"},edit:{id:"edit",title:"Edit"},groupIn:{id:"inGroup",title:"그룹 편집"},groupOut:{id:"outGroup",title:"그룹 편집 종료"},group:{id:"group",title:"그룹화"},ungroup:{id:"ungroup",title:"그룹 해지"}},E=c.$watch(function(){return c._scaleFactor||1},function(e,t){$()}),S=c.$watchCollection("selects",function(e,t){p()}),I=c.$watch("ingroup",function(e,t){p()}),D=c.$watch(function(){var e=g();return e},function(e,t){p()}),T=c.$watch(function(){var e=i.get(),t=e?e.value("editingUID"):"";return t},function(e){c.editingUID=e,p()});c.$watch("anchorVisible",function(e){p()}),c.pasteEnable=!1;var A=c.$watch(function(){var e=n.get();if(!e)return null;var t=e.copyPasteData();return t},function(e,t){c.pasteEnable=Boolean(e),p()},!0),L=c.$watch(function(){return[c.resizable,c.isResizing,c.isDragging]},function(e,t){p()},!0),O=c.$watch("boundary",function(e,t){$()},!0),M=c.$watch("actualBoundary",function(e,t){$()},!0),U=c.$watch("ingroupArea",function(e,t){$()},!0),P=c.$watch("tranformRectOffset",function(e,t){e&&$()},!0);c.buttons=[];var B;c.onMounsdownProtectSelect=function(e){e.stopImmediatePropagation()},c.callToolFunction=function(e,t){switch(t.preventDefault(),t.stopImmediatePropagation(),e){case"delete":m();break;case"copy":v();break;case"cut":f();break;case"paste":h();break;case"edit":j();break;case"group":y();break;case"ungroup":b();break;case"inGroup":x();break;case"outGroup":w()}};var R=40,N=40;c.$on("$destroy",function(){_=null,c.buttons=null,S(),D(),L(),P(),I(),O(),U(),M(),E(),A(),T()})}var u;return s.$inject=["$scope","$element","$attrs"],{require:"^^jjPaper",restrict:"EA",replace:!0,templateUrl:"screen/transform/jj-tool-buttons.html",scope:!1,link:c,controller:s}}var t=MODULE.tool.instance;t.directive("jjToolButtons",e),e.$inject=["$elements","$commandController","$projects","$selects","$documents","$timeout","$mask","Default"]}(),function(){function e(e,t,n,i,o,a,l,r,c){function s(s,u,d){function p(e){var t=n.get();if(t){var i=t.getNoneCopyValue("paper"),o=(i.width-e.width)/2,a=(i.height-e.height)/2;s.tranformRectOffset={left:o,right:o,top:a,bottom:a}}}function g(){var n=e.get(),i=n?n.get():[];if(s.selects=i,0===i.length)s.type="none",s.elementType=null;else if(i.length>1)s.type="multi",s.elementType=null;else{s.type="single";var o=s.selects[0],a=t.get(o);s.elementType=a.type()}v()}function m(){f()}function v(){if(l.key){var e=s.selects.length>1;s.isMultiSelecting=e}else s.isMultiSelecting=!1}function f(){if("single"===s.type)y();else if("multi"===s.type){var e=b(s.selects);s.boundary=e}else h();s.ingroupArea=x(),w()}function h(){console.log("* Element selector 상태 (선택 없음) : "),s.boundary=null}function y(){var e=s.selects[0],n=t.get(e);if(n){console.log("* Element selector 상태 (단일 선택) : ",s.selects);var i=n.css(),o=n.option();if(o._$$flexibleSize)s.boundary=angular.copy(i);else{var a=c.resetCssByLayoutOption(e,i,o.layout);console.log("* 단일 선택 css : ",a),s.boundary=a}}}function b(e){var t=a.getRotatedBoundary(e);return t}function x(){var t=e.get(),n=t?t.currentEditGroup():"";if(!n)return null;var a=o.get(n),l=a?a.indexes():[];if(!l||l.length<1)return null;var r=i.get().value("screen"),c=r.padding,s=b(l),u={left:s.left+c,top:s.top+c,width:s.width,height:s.height};return u}function w(){s.updateUI()}var j=s.$watch("uid",function(e,t){e&&m()});s.ctrl=!1,s.$watch(function(){return l.ctrl},function(e){s.ctrl=e,v()}),s.onMounsdown=function(){r.mousedownType="transform"},s.onClick=function(){r.clickType="transform"},s.tranformRectOffset={left:0,right:0,top:0,bottom:0};var $=s.$watch(function(){var e=i.get(),t=e.temp(),n=t.screenWidth,o=t.screenHeight;return{width:n,height:o}},function(e,t){p(e)},!0);s.type="none",s.selects=[];var C=s.$watch(function(){var t=e.get();return t?t.getNoneCopyValue("select"):null},function(e,t){g(),m()},!0),k=s.$watch(function(){var e=n.get(),t=e?e.getNoneCopyValue("paper"):null;return t},function(e,t){f()},!0),_=s.$watch(function(){return s.$parent.$parent.refreshTransformLayoutFlag},function(e,t){e&&(s.$parent.$parent.refreshTransformLayoutFlag=null,f())});s.isMultiSelecting=!1,s.boundary,s.ingroupArea;var E=s.$watch(function(){var t=e.get(),n=t?t.currentEditGroup():"";return n},function(e){s.ingroup=Boolean(e),f()});s.liveUpdate=function(e){var t=s.isDragging||s.isResizing||s.isMultiSelecting;e&&!t&&(void 0===e.left&&(e.left=s.boundary.left),void 0===e.top&&(e.top=s.boundary.top),void 0===e.width&&(e.width=s.boundary.width),void 0===e.height&&(e.height=s.boundary.height),void 0===e.transform&&(e.transform=s.boundary.transform),s.boundary.left=e.left,s.boundary.top=e.top,s.boundary.width=e.width,s.boundary.height=e.height,s.boundary.transform=e.transform,s.$applyAsync())},s.$on("$destroy",function(){s.selects=null,s.boundary=null,s.ingroupArea=null,$(),k(),C(),j(),E(),_()})}return s.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"screen/transform/jj-transform.html",replace:!0,scope:!0,controller:s}}var t=MODULE.tool.instance;t.directive("jjTransform",e),e.$inject=["$selects","$elements","$projects","$applications","$groups","$mask","$key","$selectDragger","$layout"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){function v(t,a,u){function v(){return K.anchor/t._scaleFactor}function f(e){t.tempLine=e,t.$applyAsync()}function h(){var e=!1;if(t.boundary&&t.boundary.transform){var n=t.boundary.transform.angle||0,i=n&&n%360!==0;e=i}f(e),t.$applyAsync()}function y(){if(ne=!1,"single"==t.type?(t.movable=!0,t.resizable=!0,t.rotatable=!0):"multi"==t.type?(t.movable=!0,t.resizable=!1,t.rotatable=!1):(t.movable=!1,t.resizable=!1,t.rotatable=!1),J){var e={drag:t.movable?Q.drag:[],draw:t.movable||t.resizable&&t.rotatable?Q.draw:[],scale:t.resizable?Q.scale:[],rotate:t.rotatable?Q.rotate:[],scaleFactor:t._scaleFactor,size:v(),snap:{rotate:1,scale:1,drag:m.gridSize},snapDist:{rotate:0,scale:0,drag:m.magneticSize}};e=angular.extend({},Q,e),O(e)}}function b(e){a.focus(),F(t.boundary);var n=Y.getBBox();ee.x=n.cx,ee.y=n.cy,t.isDragging=!0,p.set(g.DRAG_ELEMENT),t.$applyAsync()}function x(e){if(m.clear(),t.isDragging=!1,p.set(g.DRAG_ELEMENT,!1),t.$applyAsync(),ne){F();var n=Y.getBBox(),i=n.cx-ee.x,o=n.cy-ee.y;w({x:i,y:o})}}function w(n){var i=[];for(var o in t.selects){var a=t.selects[o],l=e.get(a),r=l.value("currentState"),c=j(r,l,n),s={element:a,data:{currentState:r,state:c}};i.push(s)}T(i,function(){})}function j(e,t,n){var i={},o=l.move(t,n);return i[e]={css:o},i}function $(e){a.focus(),F(t.boundary),t.isResizing=!0}function C(e,t,n){}function k(e){if(m.clear(),t.isResizing=!1,ne){F();var n=M(e),i={};i.width=Number(n.w.toFixed(2)),i.height=Number(n.h.toFixed(2)),i.left=Number(n.x.toFixed(2)),i.top=Number(n.y.toFixed(2)),i.transform||(i.transform={}),i.transform.angle=n.angle,_(i)}}function _(n){function o(t,n){var o=e.get(t),l=o.value("currentState");i.liveUpdate(t,n,function(e){console.log("# selector result : ",e);var n=e.css,i={};i[l]={css:n};var o={element:t,data:{currentState:l,state:i},layoutUpdate:!0};a.push(o),T(a),P()})}var a=[];if(1==t.selects.length){var r=t.selects[0],c=e.get(r),s=l.resize(c,n);return void o(r,{css:s})}}function E(e){a.focus(),F(t.boundary),t.isRotating=!0}function S(n){if(1===t.selects.length){var i=t.selects[0];F();var o=M(n),a=e.get(i);a.tempdata("liveAngle_fromUI",o.angle)}}function I(e){if(t.isRotating=!1,ne){F();var n=M(e),i={};i.width=Number(n.w.toFixed(2)),i.height=Number(n.h.toFixed(2)),i.left=Number(n.x.toFixed(2)),i.top=Number(n.y.toFixed(2)),i.transform||(i.transform={}),i.transform.angle=n.angle,D(i)}}function D(n){if(1===t.selects.length){var i=t.selects[0],o=e.get(i),a=o.value("currentState"),l=n,r={};r[a]={css:l};var c={element:i,data:{currentState:a,state:r},layoutUpdate:!0},s=[];s.push(c),T(s,function(){var t=e.get(i);t.tempdata("liveAngle_fromUI",void 0)})}}function T(e,t){var n={document:o.uid(),elements:e};r.modifyElement(n,t)}function A(){J&&J.unplug(),J=null,Y&&Y.remove(),Y=null,console.log("객체 boundary 표시 제거")}function L(e){Y||(Y=X.rect(),Y.attr("x",e.left).attr("y",e.top).attr("width",e.width).attr("height",e.height),Y.node.setAttribute("class","basic")),J||(Q.scaleFactor=t._scaleFactor,Q.size=v(),J=X.freeTransform(Y,Q,B),O())}function O(e){if(J){e&&J.setOpts(e);var n=0,i=0;t.tranformRectOffset&&(n=-t.tranformRectOffset.left,i=-t.tranformRectOffset.top),J.setOffset(n,i)}}function M(e){var t=Y.getBBox(),n=e.attrs.size.x*e.attrs.scale.x,i=e.attrs.size.y*e.attrs.scale.y,o=t.cx-n/2,a=t.cy-i/2,l=e.attrs.rotate;return{x:o,y:a,w:n,h:i,angle:l}}function U(e){J.attrs.left=e.left,J.attrs.top=e.top,J.attrs.width=e.width,J.attrs.height=e.height;var t=0;e.transform&&(t=e.transform.angle||0,J.attrs.rotate=t),J.apply();var n=Y.getBBox();ee.x=n.cx,ee.y=n.cy,ee.w=n.width,ee.h=n.height,ee.a=t}function P(){A();var e=t.boundary;if(!e)return t.actualBoundary=null,void z(!0);L(e),U(e),y();var n=Y.getBBox();t.actualBoundary={width:n.width,height:n.height,left:n.x,top:n.y},z(),h()}function B(e,n,i){if(n=n[0],"init"!==n&&"apply"!==n){var o=t.boundary;o&&(("drag start"===n||"scale start"===n||"rotate start"===n)&&("drag start"===n&&b(e),"scale start"===n&&$(e),"rotate start"===n&&E(e),R(e)),("drag"===n||"scale"===n||"rotate"===n)&&("scale"===n&&C(e,n,i),"rotate"===n&&S(e),ne=!0,N(e)),("drag end"===n||"scale end"===n||"rotate end"===n)&&("drag end"===n&&x(e),"scale end"===n&&k(e),"rotate end"===n&&I(e),ne=!1,V(e)),t.$applyAsync())}}function R(e){t.anchorVisible=!1,oe=!0}function N(e){t.anchorVisible=!1,oe=!0}function V(e){oe=!1,ie&&d.cancel(ie),ie=d(function(){ie=null,oe||(t.anchorVisible=!0,t.$applyAsync())},50)}function F(e){}function z(i){function o(e,t){return{left:e.x+t.x,top:e.y+t.y,width:10,height:10,border:"1px solid red",position:"absolute",borderRadius:10,marginLeft:-5,marginTop:-5,zIndex:1e5}}if(G){var a=n.get(),l=a.temp();if(i)return t._actualBoundary_test=null,t._boundary_test=null,t._rotated_test=null,t._rotated_point_test=null,void(l.selectBoundary=null);var r=0,c=0;t.tranformRectOffset&&(r=-t.tranformRectOffset.left,c=-t.tranformRectOffset.top);var s=t.boundary;t._actualBoundary_test={border:"1px dashed rgba(0, 0, 0, 0.2)",position:"absolute",left:t.actualBoundary.left+r,top:t.actualBoundary.top+c,width:t.actualBoundary.width,height:t.actualBoundary.height},l.selectBoundary={left:t.actualBoundary.left,top:t.actualBoundary.top,width:t.actualBoundary.width,height:t.actualBoundary.height};var u=s.transform?s.transform.angle:0;t._boundary_test=isNaN(u)||0===u?null:{left:s.left+r,top:s.top+c,width:s.width,height:s.height},t._rotated_test=angular.extend({},t._boundary_test,{border:"1px solid rgb(168, 0, 153)",transform:e.getTransformString(s.transform),transformOrigin:"center center"}),delete t._rotated_test.backgroundColor,function(n,i){var a=t.selects[0];if(a){var l=n.transform?n.transform.angle:0,r=e.getRotatedPoints(n,l);t._rotated_point_test={p1:o(r.p1,i),p2:o(r.p2,i),p3:o(r.p3,i),p4:o(r.p4,i)}}}(s,{x:r,y:c})}}var G=!1;if(!Raphael.svg&&!Raphael.vml)return void alert("svg를 지원하지 않습니다.");var H=t.$watch(function(){return c.shift&&!c.pressedKey&&!c.pressedSpace},function(e){J&&(J.opts.keepRatio=e?["corners","sides"]:[])});t.lineThick=1;var W=t.$watch(function(){return t._scaleFactor||1},function(e,n){t.lineThick=Math.max(1/e,1),y()}),K=n.get().getNoneCopyValue("selector"),q=a[0],X=Raphael(q,0,0,100,100);X.setSize("100%","100%");var Y,J,Q={distance:1.3,draw:["bbox"],keepRatio:!1,range:{rotate:[-180,180],scale:[0,99999]},boundary:{x:-1e4,y:-1e4,width:1e4,height:1e4},drag:["side"],rotate:["axisX","axisY"],scale:["bboxCorners","bboxSides"],snap:{rotate:1,scale:1,drag:m.gridSize},snapDist:{rotate:1,scale:0,drag:m.magneticSize},scaleFactor:1,size:v(),moveSnapFilter:function(e,t,n,i){return m.filter(e,t,n,i)},resizeSnapFilter:function(e,t,n,i){var o=m.filter(e,t,0,0);return n<=m.magneticSize&&(o.x=0),i<=m.magneticSize&&(o.y=0),o},showTempLine:f},Z=t.$watch(function(){if(1!==t.selects.length)return null;var n=t.selects[0],i=e.get(n);return i?i.tempdata("liveAngle_fromInputBox"):null},function(e){t.boundary&&t.boundary.transform&&(t.boundary.transform.angle=e||0),t.$applyAsync()});t.movable=!1,t.isDragging=!1,t.resizable=!0,t.isResizing=!1,t.rotatable=!1,t.isRotating=!1;var ee={x:0,y:0,w:0,h:0,a:0};t.actualBoundary,t.visible=!0,t.updateUI=function(){return t.visible=!s.isTemporary(),t.visible?void P():void t.$applyAsync()};var te=t.$watch("tranformRectOffset",function(){O()},!0),ne=!1;t.anchorVisible=!0;var ie,oe=!1;t.$on("$destroy",function(){t.actualBoundary=null,H(),te(),W(),Z(),q=null,Q=null,X.clear(),X=null,A(),ee=null})}return v.$inject=["$scope","$element","$attrs"],{restrict:"EA",replace:!0,scope:!1,controller:v}}var t=MODULE.tool.instance;t.directive("jjTransformSvg",e),e.$inject=["$elements","$projects","$applications","$selectManager","$documents","$mask","$layout","$commandController","$key","$align","ElementType","$timeout","$cursor","Cursor","$snap"]}(),function(){function e(e){var t=e,n=t.extend("ListTreeItemDragNDropService",{isDragging:!1,rollOverItem:null}),i=new n;return i}var t=MODULE.tool.instance;t.service("$listTreeItemDragNDrop",e),e.$inject=["DragNDropService"]}(),function(){function e(){function e(e,t,n){function i(){s&&s(),c&&c(),e.categories=null,e.state=null}function o(){if(e.state.isFold)return void(e.categories=[]);var t=Number(r.depth)+1,n="root"===r.category?"":r.category,i=e.api("getTree",[r.dataName,n]),o=[];for(var a in i.children){var l=i.children[a],c=e.api("createTreeItem",[l]);c.dataName=r.dataName,c.type=r.type,c.depth=t,o.push(c)}o.sort(function(t,n){return e.api("sortBy",[t,n])}),e.categories=o}function a(){return e.$watch(function(){return e.foldValue},function(t,n){e.state.isFold=t})}function l(){return e.$watch(function(){return e.state},function(e,t){o()},!0)}e.api=function(t,n){return e.funcApi({name:t,args:n})};var r=e.info;if(i(),e.state={isFold:!1},e.isRoot="root"===n.jjListTree,e.isGroup=Boolean(r.category),e.$on("$destroy",function(){i()}),r.category){if(e.isRoot&&void 0!==e.foldValue){e.state.isFold=e.foldValue;var c=a()}o();var s=l()}}return e.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/item/component/jj-list-tree.html",replace:!0,scope:{info:"=",index:"@",funcApi:"&funcApi",foldValue:"=?"},controller:e}}var t=MODULE.tool.instance;t.directive("jjListTree",e)}(),function(){function e(e,t,n,i,o,a,l){function r(r,c,s){function u(e){if(!e.showImage)return void(r.imageStyle={});var t=v(e.uid);if(!t.source)return void(r.imageStyle={});var i=n.pathToActual(t.source);i=n.getAvailablePath(i),r.imageStyle={backgroundImage:'url("'+i+'")'}}function d(t){t?(c.attr("draggable","true"),e.addDragEvent(S,{id:t,element:c,dragStart:p,dragEnd:g,ghostName:"component-ghost-container"})):(c.attr("draggable","false"),e.removeDragEvent(S))}function p(t,n){f(n,t),n.ghostOffset={x:-(20*r.item.depth+40)},e.isDragging=!0,r.$applyAsync()}function g(t,n){m(),e.isDragging=!1,r.$applyAsync()}function m(){r.isDragOver=!1,r.dropDirection=null}function v(e){return r.api("getSetting",[e])}function f(e,t){var n,i;if(r.isGroup?i=E.category:(n=v(E.uid),i=n.categoryPath),e.selects={label:E.label,category:i,id:S},n){e.item=n,e.geometry={offsetX:120*t.offsetX/c.width(),offsetY:120*t.offsetY/c.height(),transform:{angle:0,scale:1}};var o=n.css;o&&(void 0!==o.width&&(e.geometry.width=o.width),void 0!==o.height&&(e.geometry.height=o.height))}}function h(t){t?e.addDropEvent(S,{id:t,element:c,dragEnter:b,dragOver:x,dragLeave:w,isDropAllowed:y,drop:j}):e.removeDropEvent(S)}function y(e){return"bundle"===E.type?!1:e.item&&e.item.bundle?!1:!0}function b(e,t){r.$applyAsync()}function x(e,t){var n=e.offsetY;e.target!==c[0]&&(n+=angular.element(e.target).position().top);var i=n<c.height()/2?"top":"bottom",o=$(i,t);o?(t.index=o.index,t.category=o.category):e.dataTransfer.dropEffect="none",r.dropDirection=o&&void 0!==o.index?i:null,r.isDragOver=!0,r.$applyAsync()}function w(e,t){delete t.index,delete t.category,m(),r.$applyAsync()}function j(e,t){C(t),m(),r.$applyAsync()}function $(e,t){if(e){var n,i=t.selects,o=i.category,a=o===i.id;if(n=r.isGroup?"top"==e?E.category.substring(0,E.category.lastIndexOf("/")):E.category:v(E.uid).categoryPath,a){var l=o.substring(0,o.lastIndexOf("/"));if(r.isGroup){if(l===n)return}else if(l===n)return;var c=r.api("compareCategory",[o,n]);if(c>=0)return}var s;return s=r.isGroup?"top"==e?r.index:0:"top"==e?r.index+1:r.index,{index:s,category:n}}}function C(e){if(void 0!==e.category&&void 0!==e.index){var t,n,i,o=e.selects,a=o.category?o.category:"",c=o.id,s=a===c,u=e.category?e.category:"";return s?(t=a,n=u+a.substring(a.lastIndexOf("/")),i=[{source:{category:t},dest:{category:n}}],console.log("* 아이템 이동전 : ",t),console.log("* 아이템 이동후 : ",n)):(t=a,n=u,i=[{source:{category:t,uid:c},dest:{category:n}}],console.log("* 아이템 이동전 : ",t+"/"+c),console.log("* 아이템 이동후 : ",n+"/"+c)),t===n?void l.message("같은 폴더 내에서는 자동 정렬됩니다.",{delay:l.SHORTEST}):void r.api("moveItem",[i,function(){k("선택한 항목이 이동되었습니다.")}])}}function k(e){i.setMessage(e,o.ALERT,a.SUCCESS)}function _(){r.isGroup&&(r.state.isFold=!r.state.isFold,r.isRoot&&r.api("treeFoldChanged",[r.info.category,r.state.isFold]))}var E=r.info;r.tabWidth=t.treeTabWidth,r.item={showImage:E.uid?E.showImage:!1,type:r.isGroup?"folder":"file",index:Number(r.index),depth:Number(E.depth),label:E.label,uid:E.uid},u(r.item),r.isSelected=!1,r.select=function(){e.rollOverItem=r.info,r.$applyAsync()},r.unselect=function(){e.rollOverItem=null,r.$applyAsync()},r.$watch(function(){return e.rollOverItem},function(){var t=e.rollOverItem===r.info;r.isSelected=t,r.$applyAsync()}),r.$on("$destroy",function(){r.unselect(),r.imageStyle={},r.item=null}),r.isDragOver=!1,r.dropDirection=null;var S=r.isGroup?E.category:E.uid;e.create(S),r.dragId="Insert the element to the paper",d(r.dragId),r.dropId="Insert the element to the paper",h(r.dropId),r.onClick_foldButton=function(){_()},r.onDoubleClick=function(){r.api("insertItem",[r.info,function(){k('"'+r.info.name+'" 항목이 생성되었습니다.')}])},r.modifyItem=function(){r.api("modifyItem",[r.info,function(){k('"'+r.info.name+'" 항목이 변경되었습니다.')}])},r.deleteItem=function(){r.api("deleteItem",[r.info,function(){k('"'+r.info.name+'" 항목이 삭제되었습니다.')}])},r.showInfoItem=function(){var e=angular.extend({},r.item);e.dataName=E.dataName,r.api("showInfoItem",[e,function(){}])}}return r.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/item/component/jj-list-tree-item.html",replace:!0,scope:!1,controller:r}}var t=MODULE.tool.instance;t.directive("jjListTreeItem",e),e.$inject=["$listTreeItemDragNDrop","Default","FileSystem","$status","MessageType","StatusIcon","$toast"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u){var d=e,p=d.extend("ComponentUtil",{label:"컴포넌트",getData:function(e){return i.get(e)},getSetting:function(e){return n.getSetting(e)||{}},changeThumbnailSource:function(e){var t=e.bundle,n=e.categoryPath,i=e.thumbnail.source;i&&(i=t?i.replace(new RegExp(l.USER_DATA_COMPONENT_MARKER,"img"),l.BUNDLE_COMPONENT_MARKER+n):i.replace(new RegExp(l.USER_DATA_COMPONENT_MARKER,"img"),l.USER_DATA_COMPONENT_MARKER+n),e.thumbnail.source=l.pathToActual(i))},getInfo:function(e){var t=this.getData(e),n=this.getSetting(e);return{uid:e,name:t.name(),category:n.categoryPath,creator:t.value("creator"),"user version":n.userVersion,"Jik-ji version":n.version}},popupConfig:function(e){var t;switch(e){case"modify":t={templateUrl:"popup/component/edit.html"};break;case"create":t={templateUrl:"popup/component/create.html"};break;case"info":t={templateUrl:"popup/component/info.html"}}return t},insert:function(e,n){if(e){var i=this.getSetting(e),a=angular.merge({},i.css,{left:100,top:100}),l=o.uid();t.insertComponent({css:{left:a.left,top:a.top},document:l,component:i.component},n)}},move:function(e,n){var i={move:e};t.modifyComponent(i,function(){console.log("# 컴포넌트 이동 완료 : ",i),n(i)})},remove:function(e,n){function i(i){return i?void t.deleteComponent({remove:e.remove},n):void c.setMessage("컴포넌트 삭제 작업이 취소되었습니다.",s.ALERT,u.SUCCESS)}e=e||{},e.confirm&&a.confirm({content:e.confirm.content,title:e.confirm.title,ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(e){i(e>0)},function(e){console.error("[err] : "+e)})},getCreateDefault:function(){var e={thumbnail:"",thumbnailName:"",name:"",schemaLock:!0,groupLock:!0,creator:""};return e},getCreateResult:function(e){return{thumbnail:e.thumbnail,name:e.name,schemaLock:e.schemaLock,groupLock:e.groupLock,creator:e.creator}},create:function(e,n){var i={item:e,openImageDialogBox:this.openImageDialogBox};this.openCreatePopup(i,function(e){return console.log("	# 컴포넌트 등록 : ",e),e.name?void t.createComponent(e,function(t,i){if(t)a.alert({content:t,title:"컴포넌트 등록 취소",ok:"확인",isTop:!0,closeButton:!1});else{var o='"'+e.name+'" 이름으로 컴포넌트가 등록되었습니다.<br>컴포넌트 선택창에서 등록된 컴포넌트를 사용할 수 있습니다.';a.alert({content:o,title:"컴포넌트 등록 완료",ok:"확인",isTop:!0,closeButton:!1})}n&&n(t,i)}):void a.alert({content:"컴포넌트로 등록할 이름을 작성 하세요.",title:"알림",ok:"확인",isTop:!0})})},modify:function(e,n){var o=e.component,a=this.getData(o),c=a.value("name"),s=e.thumbnail.source,u=i.get(o),d=u.thumbnailName(!0),p={item:{uid:o,thumbnail:s,thumbnailName:d,name:c},openImageDialogBox:this.openImageDialogBox};this.openModifyPopup(p,function(e){if(!e)return void(n&&n());var i=!1,a={};if(p.item.name!==e.name&&(a.name=e.name,i=!0),p.item.thumbnail!==e.thumbnail){var c=r.path.parse(e.thumbnail),s=l.USER_DATA_COMPONENT_MARKER,u=c.ext;a.capture={original:e.thumbnail,path:s+"/"+o+u},i=!0}if(!i)return void(n&&n());var d={edit:[{uid:e.uid,data:a}]};t.modifyComponent(d,function(){console.log("# 이름 변경 완료 : ",e),n&&n(e)})})}}),g=new p;return g}var t=MODULE.tool.instance;t.service("$componentUtil",e),e.$inject=["ContentUtilBase","$commandController","$contentComponentSetting","$components","$documents","$notice","FileSystem","$nativeInterface","$status","MessageType","StatusIcon"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){var u=e,d=u.extend("TemplateUtil",{label:"템플릿",getData:function(e){return i.get(e)},getSetting:function(e){return n.getSetting(e)||{}},changeThumbnailSource:function(e){var t=e.bundle,n=e.categoryPath,i=e.thumbnail.source;i&&(i=t?i.replace(new RegExp(a.USER_DATA_TEMPLATE_MARKER,"img"),a.BUNDLE_TEMPLATE_MARKER+n):i.replace(new RegExp(a.USER_DATA_TEMPLATE_MARKER,"img"),a.USER_DATA_TEMPLATE_MARKER+n),e.thumbnail.source=a.pathToActual(i))},getInfo:function(e){var t=this.getData(e),n=this.getSetting(e);return{uid:e,name:t.name(),category:n.categoryPath,creator:t.value("creator"),"user version":n.userVersion,"Jik-ji version":n.version}},popupConfig:function(e){var t;switch(e){case"modify":t={templateUrl:"popup/template/edit.html"};break;case"create":t={templateUrl:"popup/template/create.html"};break;case"info":t={templateUrl:"popup/template/info.html"}}return t},insert:function(e,n){e&&t.insertTemplate({template:e},n)},move:function(e,n){var i={move:e};t.modifyTemplate(i,function(){console.log("# 템플릿 이동 완료 : ",i),n(i)})},remove:function(e,n){function i(i){return i?void t.deleteTemplate({remove:e.remove},n):void r.setMessage("템플릿 삭제 작업이 취소되었습니다.",c.ALERT,s.SUCCESS)}e=e||{},e.confirm&&o.confirm({content:e.confirm.content,title:e.confirm.title,ok:"예",cancel:"아니오",isTop:!0,closeButton:!1}).then(function(e){i(e>0)},function(e){console.error("[err] : "+e)})},getCreateDefault:function(){var e={name:"",creator:""};return e},getCreateResult:function(e){return{name:e.name,creator:e.creator}},create:function(e,n){var i={item:e};this.openCreatePopup(i,function(e){return console.log("	# 템플릿 등록 : ",e),e.name?void t.createTemplate(e,function(t,i){if(t)o.alert({content:t,title:"템플릿 등록 취소",ok:"확인",isTop:!0,closeButton:!1});else{var a='"'+e.name+'" 이름으로 템플릿이 등록되었습니다.<br>템플릿 선택창에서 등록된 템플릿을 사용할 수 있습니다.';o.alert({content:a,title:"템플릿 등록 완료",ok:"확인",isTop:!0,closeButton:!1})}n&&n(t,i)}):void o.alert({content:"템플릿으로 등록할 이름을 작성 하세요.",title:"알림",ok:"확인",isTop:!0})})},modify:function(e,n){var o=e.template,r=this.getData(o),c=r.value("name"),s=e.thumbnail.source,u=i.get(o),d=u.thumbnailName(!0),p={item:{uid:o,thumbnail:s,thumbnailName:d,name:c},openImageDialogBox:this.openImageDialogBox};this.openModifyPopup(p,function(e){if(!e)return void(n&&n());var i=!1,r={};if(p.item.name!==e.name&&(r.name=e.name,i=!0),p.item.thumbnail!==e.thumbnail){var c=l.path.parse(e.thumbnail),s=a.USER_DATA_TEMPLATE_MARKER,u=c.ext;r.capture={original:e.thumbnail,path:s+"/"+o+u},i=!0}if(!i)return void(n&&n());var d={edit:[{uid:e.uid,data:r}]};t.modifyTemplate(d,function(){console.log("# 이름 변경 완료 : ",r),n&&n(edit.data)})})}}),p=new d;return p}var t=MODULE.tool.instance;t.service("$templateUtil",e),e.$inject=["ContentUtilBase","$commandController","$contentTemplateSetting","$templates","$notice","FileSystem","$nativeInterface","$status","MessageType","StatusIcon"]}(),function(){function e(e,t,n,i,o,a,l){var r=e.create("ContentUtilBase",{label:"",openImageDialogBox:function(e){var t={accept:a.ACCEPT_IMAGES,task:"thumbnailFile"};l.getOpenInformation(t,function(t){if(!t)return void console.log("경로가 지정되지 않았습니다.");t=t.replace(/\\/g,"/"),e.item.thumbnail=t;var n=t?t.substring(t.lastIndexOf("/")+1):t;e.item.thumbnailName=n,e.$applyAsync()})},openModifyPopup:function(e,a){if(void 0!==e.item){var l=this,r=this.popupConfig("modify");t.open({isTop:!0,templateUrl:r.templateUrl,controller:["$scope","$notice",function(t,n){t.config={title:l.label+" 수정",yes:"수정",no:"취소"},angular.merge(t,e),t.close=function(e){e>0?n.close(t.item):n.close()},t.$on("$destroy",function(){t.config=null,t.item=null})}]}).then(function(e){e?(console.log("	# 변경 내용 : ",e),a&&a(e)):(console.log("	# 취소"),n.setMessage(l.label+" 수정 작업이 취소되었습니다.",i.ALERT,o.SUCCESS))},function(){console.log("	# 변경 에러")})}},modify:function(e,t){console.error("구현 안됨")},move:function(e,t){console.error("구현 안됨")},insert:function(e,t){console.error("구현 안됨")},getSetting:function(e){console.error("구현 안됨")},remove:function(e,t){console.error("구현 안됨")},getData:function(e){console.error("구현 안됨")},getInfo:function(e){console.error("구현 안됨")},popupConfig:function(e){console.error("구현 안됨")},openInfoPopup:function(e,n){if(n=n||function(){},!e)return n(null,-1);var i=this.getData(e);if(!i)return n(null,-1);var o=this.getInfo(e),a=this.popupConfig("info"),l=this;t.open({isTop:!0,templateUrl:a.templateUrl,controller:["$scope","$notice",function(e,t){e.close=function(e){t.close()},e.config={title:l.label+" 정보",yes:"확인",info:o},e.$on("$destroy",function(){e.config=null})}]}).then(function(e){n(null,e)},function(e){n(e,-1)})},create:function(e,t){console.error("구현 안됨")},getCreateDefault:function(){var e={};return e},getCreateResult:function(e){return{}},openCreatePopup:function(e,a){e=e||{};var l=this,r=this.popupConfig("create");t.open({isTop:!0,templateUrl:r.templateUrl,controller:["$scope","$notice","$version",function(t,n,i){t.config={title:l.label+" 등록",yes:"등록",no:"취소"},t.item=l.getCreateDefault(),angular.merge(t,e),t.userVersion=i.toObject("0.0.1"),t.getVersion=function(){return i.toVersion(t.userVersion)},t.close=function(e){
if(e>0){var i=l.getCreateResult(t.item);i.userVersion=t.getVersion(),n.close(i)}else n.close()},t.$on("$destroy",function(){t.config=null,t.item=null,t.userVersion=null})}]}).then(function(e){e?a&&a(e):(console.log("	# 취소"),n.setMessage(l.label+" 등록 작업이 취소되었습니다.",i.ALERT,o.SUCCESS))},function(){console.log("	# 등록 에러")})}});return r}var t=MODULE.tool.instance;t.factory("ContentUtilBase",e),e.$inject=["$superClass","$notice","$status","MessageType","StatusIcon","FileSystem","$externalAPI"]}(),function(){function e(e,t){function n(n,i,o){var a=e.get(n,i,o),l=a.extend("AssetList",{setBox:function(e){return this.setList(e)},createTreeItem:function(e){var n=e.uid,i=e.categoryPath,o=n?t.getInfo(n):null,a=t.newTreeItem({showImage:!0,uid:n,label:o?o.label:t.getCategoryName(i),category:o?"":i});return a},getTree:function(e,n){return t.getTree(e,n)},sortBy:function(e,t){return this.sortBy_folder_file(e,t)},getSetting:function(e){return t.getContent(e)},compareCategory:function(e,n){return t.compareCategory(e,n)},moveItem:function(e,n){t.moveItem(e,n)},modifyItem:function(e,n){t.modifyItem(e,n)},deleteItem:function(e,n){t.deleteItem(e,n)},showInfoItem:function(e,n){t.showInfoItem(e,n)},insertItem:function(e,i){var o=Boolean(e.category);if(o)return void(i&&i());var a=e.uid;t.insertItem(a,function(){i&&i(),n.$applyAsync()})}}),r=new l;n.$on("$destroy",function(){r=null})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/item/list/jj-asset-list.html",replace:!0,scope:{list:"=",listName:"@",listViewMode:"@",slider:"=",changeSliderExtend:"&",type:"@"},controller:n}}var t=MODULE.tool.instance;t.directive("jjAssetList",e),e.$inject=["ListBase","$contentAssetSetting2"]}(),function(){function e(e,t,n,i){function o(o,a,l){var r=e.get(o,a,l),c=r.extend("ComponentList",{sort:function(e){if(Array.isArray(e))switch(o.listViewMode){case"tree":e.sort(t.sortBy_folder_file);break;case"list":e.sort(this.sortBy_folder_file);break;case"box":default:e.sort(this.sortBy_folder_file)}},setBox:function(e){return this.setList(e)},createListItem:function(e){var n=e.categoryPath,i=t.getCategoryName(n),o={bundle:e.bundle,component:e.component,categoryPath:n,categoryName:i,label:e.label,version:e.version,userVersion:e.userVersion,thumbnail:e.thumbnail};return o},createTreeItem:function(e){var n=e.component,i=t.newTreeItem({uid:n,label:n?e.label:t.getCategoryName(e.categoryPath),category:n?"":e.categoryPath,version:e.version,userVersion:e.userVersion,thumbnail:e.thumbnail});return i},getTree:function(e,n){return t.getTree(e,n)},sortBy:function(e,n){return t.sortBy_folder_file(e,n)},getSetting:function(e){return t.getSetting(e)},compareCategory:function(e,n){return t.compareCategory(e,n)},moveItem:function(e,t){n.move(e,function(){t&&t()})},modifyItem:function(e,o){var a=e.label,l=Boolean(e.category);if(l){var r=e.category;return console.log("# 폴더 이름 변경 (Move) : ",r),void function(){var e={item:{name:a}};n.openModifyPopup(e,function(e){if(!e)return void(o&&o());var t=[{source:{category:r},dest:{category:r.substring(0,r.lastIndexOf("/"))+"/"+e.name}}];n.move(t,function(){o&&o()})})}()}!function(){var a=e.uid;console.log("# 컴포넌트 이름 변경 : ",a);var l=t.getSetting(a);l=angular.copy(l),n.changeThumbnailSource(l),n.modify(l,function(e){if(!e)return void(o&&o());var t="컴포넌트가 변경되었습니다.";i.message(t,{delay:i.SHORTEST}),o&&o()})}()},deleteItem:function(e,t){console.log("# 컴포넌트 삭제 : ",e);var i,o,a=e.label,l=Boolean(e.category&&!e.uid);l?(o='"'+a+'" 폴더의 모든 항목이 삭제됩니다.<br>정말로 삭제하시겠습니까?',i={category:e.category}):(i={uid:e.uid},o='"'+a+'" 컴포넌트를 삭제하시겠습니까?');var r={remove:[i],confirm:{title:"컴포넌트 삭제",content:o}};n.remove(r,function(){t&&t()})},showInfoItem:function(e,t){var i=e.uid;n.openInfoPopup(i,t)},insertItem:function(e,t){var i=Boolean(e.category);return i?void(t&&t()):void(e.uid&&n.insert(e.uid,function(){t&&t()}))}}),s=new c;o.$on("$destroy",function(){s=null})}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/item/list/jj-component-list.html",replace:!0,scope:{list:"=",listName:"@",listViewMode:"@",slider:"=",changeSliderExtend:"&",type:"@"},controller:o}}var t=MODULE.tool.instance;t.directive("jjComponentList",e),e.$inject=["ListBase","$contentComponentSetting","$componentUtil","$toast"]}(),function(){function e(e,t,n,i){function o(o,a,l){var r=e.get(o,a,l),c=r.extend("TemplateList",{sort:function(e){if(Array.isArray(e))switch(o.listViewMode){case"tree":e.sort(t.sortBy_folder_file);break;case"list":e.sort(this.sortBy_folder_file);break;case"box":default:e.sort(this.sortBy_folder_file)}},setBox:function(e){return this.setList(e)},createListItem:function(e){var n=e.categoryPath,i=t.getCategoryName(n),o={bundle:e.bundle,template:e.template,categoryPath:n,categoryName:i,label:e.label,version:e.version,userVersion:e.userVersion,thumbnail:e.thumbnail};return o},createTreeItem:function(e){var n=e.template,i=t.newTreeItem({uid:n,label:n?e.label:t.getCategoryName(e.categoryPath),category:n?"":e.categoryPath,version:e.version,userVersion:e.userVersion,thumbnail:e.thumbnail});return i},getTree:function(e,n){return t.getTree(e,n)},sortBy:function(e,n){return t.sortBy_folder_file(e,n)},getSetting:function(e){return t.getSetting(e)},compareCategory:function(e,n){return t.compareCategory(e,n)},moveItem:function(e,t){n.move(e,function(){t&&t()})},modifyItem:function(e,a){var l=e.label,r=Boolean(e.category);if(r){var c=e.category;return console.log("# 폴더 이름 변경 (Move) : ",c),void function(){var e={item:{name:l}};n.openModifyPopup(e,function(e){if(!e)return void(a&&a());var t=[{source:{category:c},dest:{category:c.substring(0,c.lastIndexOf("/"))+"/"+e.name}}];n.move(t,function(){a&&a()})})}()}!function(){var l=e.uid;console.log("# 템플릿 이름 변경 : ",l,o.items);var r=t.getSetting(l);r=angular.copy(r),n.changeThumbnailSource(r),n.modify(r,function(e){if(!e)return void(a&&a());var t="템플릿이 변경되었습니다.";i.message(t,{delay:i.SHORTEST}),a&&a()})}()},deleteItem:function(e,t){console.log("# 템플릿 삭제 : ",e);var i,o,a=e.label,l=Boolean(e.category&&!e.uid);l?(o='"'+a+'" 폴더의 모든 항목이 삭제됩니다.<br>정말로 삭제하시겠습니까?',i={category:e.category}):(i={uid:e.uid},o='"'+a+'" 템플릿를 삭제하시겠습니까?');var r={remove:[i],confirm:{title:"템플릿 삭제",content:o}};n.remove(r,function(){t&&t()})},showInfoItem:function(e,t){var i=e.uid;n.openInfoPopup(i,t)},insertItem:function(e,t){var i=Boolean(e.category);return i?void(t&&t()):void(e.uid&&n.insert(e.uid,function(){t&&t()}))}}),s=new c;o.$on("$destroy",function(){s=null})}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/item/list/jj-template-list.html",replace:!0,scope:{list:"=",listName:"@",listViewMode:"@",slider:"=",changeSliderExtend:"&",type:"@"},controller:o}}var t=MODULE.tool.instance;t.directive("jjTemplateList",e),e.$inject=["ListBase","$contentTemplateSetting","$templateUtil","$toast"]}(),function(){function e(e){return{get:function(t,n,i){var o=e.create("ListBase",{init:function(){this._run()},_run:function(){function e(){n.displayUpdate()}var n=this;t.api=function(e,t){return n[e]?n[e].apply(n,t):void console.error("# 리스트 API 호출 실패 : ",e,t)},this.setSliderExtend();var i=t.$watch("list",e,!0),o=t.$watch("type",e),a=t.$watch("listViewMode",e);t.$on("$destroy",function(){i(),o(),a(),t.items=null})},displayUpdate:function(){t.items=null;var e,n=t.list;switch(t.listViewMode){case"tree":e=this.setTree(n);break;case"list":e=this.setList(n);break;case"box":default:e=this.setBox(n)}this.sort(e),t.items=e,t.$applyAsync()},sort:function(e){Array.isArray(e)&&e.sort(this.sortBy_folder_file)},setTree:function(e){if(!e)return null;if(Array.isArray(e))return null;if(!e.children)return null;var t=[];for(var n in e.children){var i=e.children[n],o=this.newTreeItem(i);t.push(o)}return t},newTreeItem:function(e){var n=this.createTreeItem(e);return n.dataName=t.listName,n.type=t.type,n.depth=0,n},createTreeItem:function(e){return e},setBox:function(e){if(!e)return null;if(!Array.isArray(e))return null;var t=this,n=e.map(function(e){var n=t.newBoxItem(e);return n});return n},newBoxItem:function(e){var n=this.createBoxItem(e);return n.dataName=t.listName,n},createBoxItem:function(e){return e},sortBy_folder_file:function(e,t){var n=e.categoryPath||e.category,i=t.categoryPath||t.category,o=e.label,a=t.label;if(n&&i){if(i>n)return-1;if(n>i)return 1}else{if(n)return-1;if(i)return 1;if(a>o)return-1;if(o>a)return 1}return 0},setList:function(e){if(!e)return null;if(!Array.isArray(e))return null;var t={},n=this;e.forEach(function(e){var i=n.newListItem(e),o=i.categoryPath||"/";t[o]||(t[o]=[]),t[o].push(i)});var i=[];for(var o in t){var a=t[o];i.push({category:o,list:a})}return i},newListItem:function(e){var n=this.createListItem(e);return n.dataName=t.listName,n},createListItem:function(e){return e},sortBy_label:function(e,t){var n=e.label,i=t.label;if(i>n)return-1;if(n>i)return 1;var o=e.categoryPath,a=t.categoryPath;return a>o?-1:o>a?1:0},setSliderExtend:function(){t.getCategoryLabel=function(e){var t;return e&&0===e.indexOf("/")&&(t=e.substring(1)),t=t||"분류 안됨"},t.sliderExtendChanged=function(e){t.changeSliderExtend&&t.changeSliderExtend({category:e,value:!t.slider[e],type:t.type})}},treeFoldChanged:function(e,n){t.changeSliderExtend&&t.changeSliderExtend({category:e,value:!n,type:t.type})}});return o}}}var t=MODULE.tool.instance;t.factory("ListBase",e),e.$inject=["$superClass"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m){function v(t,n,a){function l(e,n){if(e){var i=m.path.parse(e).ext;t.isSVG=i&&".svg"===i.toLowerCase()}else t.isSVG=!1;g.elementImageChange(e,n,t.uid)}var r={groupName:"style",item:{edit:void 0,value:void 0},submit:t.submit,invalid:!0},s=angular.merge({},r,{propertyName:"backgroundColor",itemName:"backgroundColorItem",invalid:!1});u.input(s,t);var d=angular.merge({},r,{groupName:"option",propertyName:"useCacheImage",itemName:"useCacheImageItem",invalid:!1});u.input(d,t),t.isSVG=!1,t.showHttpAdressBox=o.get().value("showHttpAdressBox"),t.onShowHttpAdressBoxChange=function(){var e=o.get().value("showHttpAdressBox");e.image=t.showHttpAdressBox.image,o.get().value("showHttpAdressBox",e)};var v=angular.merge({},r,{propertyName:"backgroundImage",itemName:"backgroundImageItem",invalid:!1,item:{path:void 0,url:void 0,pathString:void 0,oldUrl:void 0},setValue:function(e,n){if(!e)return t.backgroundImageItem.url=void 0,t.backgroundImageItem.path=void 0,t.backgroundImageItem.pathString=void 0,void(t.backgroundImageItem.oldUrl=void 0);var o,a,l,r,c=i.get(e);if(c){var s=c.path();r=c.isURL(s);var u=m.path.parse(s).ext;if(t.isSVG=u&&".svg"===u.toLowerCase(),r)o=s;else{a=c.value("original");var l=a.replace(/\\/g,"/"),d=l.lastIndexOf("/");d>=0&&(l=l.substr(d+1))}}else console.debug("# AssetData 가 없습니다. : ",e,"\n(렌더링 delay 현상에 의해 데이터가 삭제된 후에도 asset data를 참조)");t.showHttpAdressBox.image=r,t.backgroundImageItem.url=o,t.backgroundImageItem.path=a,t.backgroundImageItem.pathString=l,t.backgroundImageItem.oldUrl=o}});u.input(v,t),t.inputFocus=function(){t.backgroundImageItem.oldUrl=t.backgroundImageItem.url},t.sourceURLChange=function(){var n=t.backgroundImageItem.url;if(t.backgroundImageItem.oldUrl!=n){if(!n)return void t.removeSource();n=n.replace(/(\n|\r|\t)/g,""),e.getImageInfomation(n,function(e,t){console.log("# IMAGE 정보 : %o",t),l(n,t)})}},t.removeSource=function(){l()},t.openFileDialogBox=function(){g.openFileDialogBox(function(e,n){e&&g.elementImageChange(e,n,t.uid)})},t.backgroundSizeList=[{label:"원본 크기",value:"auto"},{label:"크기 맞춤",value:"contain"},{label:"강제 늘림 (줄임)",value:"100% 100%"},{label:"사용자 지정",value:"custom"}];var f=angular.merge({},r,{propertyName:"backgroundSizeOption",itemName:"backgroundSizeOptionItem",item:{edit:void 0,value:void 0},invalid:!1,setValue:function(e){t.useSizeResetButton="auto"==e}});u.input(f,t);var h=angular.merge({},r,{propertyName:"backgroundSize",itemName:"backgroundSizeItem",invalid:!1,item:{value:void 0,horizontal:void 0,vertical:void 0,units:["px","%"],horizontalUnit:void 0,verticalUnit:void 0},setValue:function(e){var n=e.split(" "),i=c.parseUnit(n[0],"%|px");t.backgroundSizeItem.horizontal=i.num,t.backgroundSizeItem.horizontalUnit=i.unit,void 0===n[1]&&(n[1]=n[0]);var o=c.parseUnit(n[1],"%|px");t.backgroundSizeItem.vertical=o.num,t.backgroundSizeItem.verticalUnit=o.unit}});u.input(h,t),t.sizeItemChange=function(){var e=void 0!==t.backgroundSizeItem.horizontal,n=e?t.backgroundSizeItem.horizontal:50,i=e?t.backgroundSizeItem.horizontalUnit:"%",o=void 0!==t.backgroundSizeItem.vertical,a=o?t.backgroundSizeItem.vertical:50,l=o?t.backgroundSizeItem.verticalUnit:"%";t.backgroundSizeItem.value=n+i+" "+a+l,t.backgroundSizeItemChange()},t.useSizeResetButton=!1,t.sizeReset=function(){p.resetImageSize(t.uid)};var y=angular.merge({},r,{propertyName:"backgroundRepeat",itemName:"backgroundRepeatItem",invalid:!1,item:{x:void 0,y:void 0},setValue:function(e){var n=!1,i=!1;"no-repeat"==e?n=i=!1:"repeat"==e?n=i=!0:(n=e.indexOf("repeat-x")>-1,i=e.indexOf("repeat-y")>-1),t.backgroundRepeatItem.x=n,t.backgroundRepeatItem.y=i}});u.input(y,t),t.repeatItemChange=function(){var e=t.backgroundRepeatItem.x?"repeat-x":"",n=t.backgroundRepeatItem.y?"repeat-y":"",i="no-repeat";e&&n?i="repeat":(e&&(i="repeat-x"),n&&(i="repeat-y")),t.backgroundRepeatItem.value=i||void 0,t.backgroundRepeatItemChange()};var b=angular.merge({},r,{propertyName:"backgroundPosition",itemName:"backgroundPositionItem",invalid:!1,item:{value:void 0,horizontal:void 0,vertical:void 0,units:["px","%"],horizontalUnit:void 0,verticalUnit:void 0},setValue:function(e){var n=e.split(" "),i=c.parseUnit(n[0],"%|px");t.backgroundPositionItem.horizontal=i.num,t.backgroundPositionItem.horizontalUnit=i.unit,void 0===n[1]&&(n[1]=n[0]);var o=c.parseUnit(n[1],"%|px");t.backgroundPositionItem.vertical=o.num,t.backgroundPositionItem.verticalUnit=o.unit}});u.input(b,t),t.positionItemChange=function(){var e=void 0!==t.backgroundPositionItem.horizontal,n=e?t.backgroundPositionItem.horizontal:50,i=e?t.backgroundPositionItem.horizontalUnit:"%",o=void 0!==t.backgroundPositionItem.vertical,a=o?t.backgroundPositionItem.vertical:50,l=o?t.backgroundPositionItem.verticalUnit:"%";t.backgroundPositionItem.value=n+i+" "+a+l,t.backgroundPositionItemChange()}}return v.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-background.html",scope:!0,controller:v}}var t=MODULE.tool.instance;t.directive("jjBoxBackground",e),e.$inject=["$externalAPI","$projects","$elements","$assets","$applications","UIDType","$commandController","$mime","$util","$assetManager","$formInteraction","$toast","$propertyManager","$changeImageSource","$nativeInterface"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p){function g(e,t,n){var i={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0},o=angular.merge({},i,{propertyName:"backgroundColor",itemName:"backgroundColorItem",submit:e.submit,invalid:!1});u.input(o,e)}return g.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-background-color.html",scope:!0,controller:g}}var t=MODULE.tool.instance;t.directive("jjBoxBackgroundColor",e),e.$inject=["$externalAPI","$projects","$elements","$assets","$applications","UIDType","$commandController","$mime","$util","$assetManager","$formInteraction","$toast","$propertyManager"]}(),function(){function e(e,t,n,i){function o(e,n,o){var a={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0},l=angular.merge({},a,{propertyName:"borderWidth",itemName:"borderWidthItem",item:{edit:void 0,value:void 0,unitPattern:"px",unit:"px",min:0,max:2e3},submit:e.submit});i.input(l,e);var r=angular.merge({},a,{propertyName:"borderColor",itemName:"borderColorItem",submit:e.submit,invalid:!1});i.input(r,e);var c={none:"없음",dotted:"둥근 점선",dashed:"파선",solid:"실선","double":"이중 실선",groove:"굵은 실선",ridge:"입체효과 1",inset:"입체효과 2",outset:"입체효과 3"};e.borderStyleList=function(){var e=[];for(var t in c)e.push(t);return e}(),e.getStyleLabel=function(e){return c[e]+" ("+e+")"};var s=angular.merge({},a,{propertyName:"borderStyle",itemName:"borderStyleItem",submit:e.submit,invalid:!1});i.input(s,e);var u=angular.merge({},a,{propertyName:"borderRadius",itemName:"borderRadiusItem",item:{edit:void 0,value:void 0,min:0,max:2e3},submit:e.submit,setValue:function(n){var i=n.match(/([+-.\d\w]+)px/g);e.borderRadiusTL=t.parseUnit(i[0],"px").num,e.borderRadiusTR=t.parseUnit(i[1],"px").num,e.borderRadiusBR=t.parseUnit(i[2],"px").num,e.borderRadiusBL=t.parseUnit(i[3],"px").num},liveUpdateBefore:function(){e.borderRadiusItem.value=""+e.borderRadiusTL+"px "+e.borderRadiusTR+"px "+e.borderRadiusBR+"px "+e.borderRadiusBL+"px"}});i.input(u,e)}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-border.html",scope:!0,controller:o}}var t=MODULE.tool.instance;t.directive("jjBoxBorder",e),e.$inject=["$document","$util","$selectManager","$formInteraction"]}(),function(){function e(e){function t(t,n,i){var o={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0};t.columnCountList=[{label:"none",value:"auto"},{label:"1 단",value:1},{label:"2 단",value:2},{label:"3 단",value:3},{label:"4 단",value:4},{label:"5 단",value:5}];var a=angular.merge({},o,{propertyName:"columnCount",itemName:"columnCountItem",submit:t.submit,invalid:!1});e.input(a,t);var l=angular.merge({},o,{propertyName:"columnGap",itemName:"columnGapItem",item:{unitPattern:"em",unit:void 0,min:0,max:2e3},submit:t.submit});e.input(l,t);var r=angular.merge({},o,{propertyName:"columnRuleWidth",itemName:"columnRuleWidthItem",item:{unitPattern:"px",unit:void 0,min:0,max:2e3},submit:t.submit});e.input(r,t);var c={none:"없음",dotted:"둥근 점선",dashed:"파선",solid:"실선","double":"이중 실선",groove:"굵은 실선",ridge:"입체효과 1",inset:"입체효과 2",outset:"입체효과 3"};t.columnRuleStyleList=function(){var e=[];for(var t in c)e.push(t);return e}(),t.getStyleLabel=function(e){return c[e]+" ("+e+")"};var s=angular.merge({},o,{propertyName:"columnRuleStyle",itemName:"columnRuleStyleItem",submit:t.submit,invalid:!1});e.input(s,t);var u=angular.merge({},o,{propertyName:"columnRuleColor",itemName:"columnRuleColorItem",submit:t.submit,invalid:!1});e.input(u,t)}return t.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-column.html",scope:!0,controller:t}}var t=MODULE.tool.instance;t.directive("jjBoxColumn",e),e.$inject=["$formInteraction"]}(),function(){function e(e,t,n,i,o,a){function l(l,r,c){function s(e,t){return void 0===t&&(t=!1),e=void 0===e?t:Boolean(e)}function u(e,t){var n=d(f,h);void 0!==n&&(e=e||n),_.oldValue=e,_.value=e}function d(e,t){var n=a.get(l.type,e);return n?n[t]:void 0}var p=c.jjBoxCommon;if(!p)throw new Error("attribute에 속성 정보가 지정되지 않았습니다.");p=l.$eval(p),p.input=p.input||{},p.input.type=p.input.type||"text","text"===p.input.type&&(p.input.multiline=s(p.input.multiline,!1));var g=Boolean(p.input.multiline),m="checkbox"===p.input.type;m&&(p.input.trueValue=void 0===p.input.trueValue?!0:"'"+p.input.trueValue+"'",p.input.falseValue=void 0===p.input.falseValue?!1:"'"+p.input.falseValue+"'");var v="select"===p.input.type,f=p.propGroup,h=p.name;if(!h)throw new Error("attribute에 속성 이름이 지정되지 않았습니다.");var y=s(p.required,!1),b=p.fixedValueState,x=s(p.invalid,!0),w=s(p.change,!1),j=s(p.blur,!0),$={$property:h};if(g||v||($.enter=h+"ItemChange"),x&&($.onInvalid=h+"ItemInvalid"),j&&($.onBlur=h+"ItemChange"),w)var C=l.$watch(function(){return _.value},function(e,t){e!==t&&l[h+"ItemChange"]()});var k=d(f,h),_={oldValue:void 0,value:k};l.config=p,l.property={useInvalid:x,required:y,binding:$,item:_};var E=l.$watch(function(){if(!l.uid)return"";var n,a;if(l.type==o.DOCUMENT)n=e.get(l.uid),a=n?n.value(h):l.uid;else if(l.type==o.GROUP)n=i.get(l.uid),a=n?n.value(h):l.uid;else if(n=t.get(l.uid))if(f){var r=n[f]();a=r?r[h]:void 0}else a=n.value(h);else a=l.uid;return a},function(e,t){u(e,t)});l[h+"ItemInvalid"]=function(){_.value=_.oldValue},l[h+"ItemChange"]=function(){if(y&&!_.value)return void(_.value=_.oldValue);var a={};if(l.type==o.DOCUMENT){var r=e.get(l.uid);if(!r||r.value(h)===_.value)return;if(a[h]===_.value)return;a[h]=_.value;var c={document:e.uid(),data:a};n.modifyDocument(c)}else if(l.type==o.GROUP){var s=i.get(l.uid);if(!s||s.value(h)===_.value)return;a[h]=_.value;var c={document:e.uid(),groups:[{group:l.uid,data:a}]};n.modifyGroup(c)}else{var u=t.get(l.uid);if(!u)return;if(f){var d=u.value("currentState");if("over"==d&&!u.value("overStateEnabled"))return;if("down"==d&&!u.value("downStateEnabled"))return;var p=_.value;if(b&&d!=b){var g=u.option(b);p=g[h]}var m=u[f](d);if(m[h]===p)return;if(m[h]=p,a.currentState=d,a.state={},a.state[d]={},a.state[d][f]=m,b&&d==b){var v=a.state;if(!v)return;["normal","over","down"].forEach(function(e){e!==d&&v[e]&&v[e][f]&&(v[e][f][h]=p)})}}else{if(u.value(h)===_.value)return;a[h]=_.value}var c={document:e.uid(),elements:[{element:l.uid,data:a}]};n.modifyElement(c)}},l.$on("$destroy",function(){C&&C(),E&&E(),l.config=null,l.property=null})}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-common.html",scope:!0,controller:l}}var t=MODULE.tool.instance;t.directive("jjBoxCommon",e),e.$inject=["$documents","$elements","$commandController","$groups","ElementType","$defaultProperty"]}(),function(){function e(e,t,n,i){function o(t,n,o){function a(){i.load(function(){t.fontList=i.list,t.fontGroupList=i.groupList})}function l(){var e,n,i,o,a=t.fontSizeItem.unit;switch(a){case"px":e=t.jjBinding.integer,i=5,o=1e3,n=1;break;case"%":e=t.jjBinding.integer,i=1,o=1e3,n=1;break;case"em":e=t.jjBinding.decimal,i=.3,o=1e3,n=.1}t.fontSizeItem.pattern=e,t.fontSizeItem.min=i,t.fontSizeItem.max=o,t.fontSizeItem.step=n}var r={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0},c=angular.merge({},r,{propertyName:"fontFamily",itemName:"fontFamilyItem",submit:t.submit,invalid:!1});e.input(c,t),a(),t.refreshFontFamily=function(){a()};var s=angular.merge({},r,{propertyName:"fontSize",itemName:"fontSizeItem",item:{unitPattern:"px|%|em|pt",unit:void 0,units:["px","%","em","pt"],min:0,max:1/0},submit:t.submit});e.input(s,t);var u=t.$watch("fontSizeItem.unit",function(e,t){l()}),d=angular.merge({},r,{propertyName:"color",itemName:"colorItem",submit:t.submit,invalid:!1});e.input(d,t);var p=angular.merge({},r,{propertyName:"fontWeight",itemName:"fontWeightItem",submit:t.submit,invalid:!1});e.input(p,t);var g=angular.merge({},r,{propertyName:"fontStyle",itemName:"fontStyleItem",submit:t.submit,invalid:!1});e.input(g,t);var m=angular.merge({},r,{propertyName:"textDecoration",itemName:"textDecorationItem",submit:t.submit,invalid:!1});e.input(m,t),t.$on("$destroy",function(){u(),t.fontList=null,t.fontGroupList=null})}return{restrict:"EA",templateUrl:"content/property/basic/jj-box-font.html",scope:!0,link:o}}var t=MODULE.tool.instance;t.directive("jjBoxFont",e),e.$inject=["$formInteraction","$applications","$projects","$fontList"]}(),function(){function e(e,t,n,i){function o(e,t,n){var o={groupName:"option",item:{edit:void 0,value:void 0},invalid:!1,submit:e.submit};e.overflowVisibleOption=[{label:"자르기",value:!1},{label:"보이기",value:!0}],e.scrollOption=[{label:"자동",value:"auto"},{label:"항상 보이기",value:"scroll"},{label:"없음",value:"hidden"}];var a=angular.merge({},o,{propertyName:"overflowVisible",itemName:"overflowVisibleItem"});i.input(a,e);var l=angular.merge({},o,{propertyName:"overflowX",itemName:"overflowXItem"});i.input(l,e);var r=angular.merge({},o,{propertyName:"overflowY",itemName:"overflowYItem"});i.input(r,e)}return o.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-overflow.html",scope:!0,controller:o}}var t=MODULE.tool.instance;t.directive("jjBoxOverflow",e),e.$inject=["$document","$util","$selectManager","$formInteraction"]}(),function(){function e(e,t,n){function i(e,t,i){var o={groupName:"style",item:{edit:void 0,value:void 0,unitPattern:"px",unit:"px",min:0,max:2e3},invalid:!0},a=angular.merge({},o,{propertyName:"paddingTop",itemName:"paddingTopItem",submit:e.submit});n.input(a,e);var l=angular.merge({},o,{propertyName:"paddingRight",itemName:"paddingRightItem",submit:e.submit});n.input(l,e);var r=angular.merge({},o,{propertyName:"paddingBottom",itemName:"paddingBottomItem",submit:e.submit});n.input(r,e);var c=angular.merge({},o,{propertyName:"paddingLeft",itemName:"paddingLeftItem",submit:e.submit});n.input(c,e)}return i.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-padding.html",scope:!0,controller:i}}var t=MODULE.tool.instance;t.directive("jjBoxPadding",e),e.$inject=["$util","$selectManager","$formInteraction"]}(),function(){function e(e){function t(t,n,i){var o={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0},a=angular.merge({},o,{propertyName:"textIndent",itemName:"textIndentItem",submit:t.submit,item:{unitPattern:"px|pt|cm|em|%",unit:"px",min:-2e3,max:2e3,step:1,units:["px","pt","cm","em","%"]}});e.input(a,t);var l=angular.merge({},o,{propertyName:"letterSpacing",itemName:"letterSpacingItem",submit:t.submit,item:{unitPattern:"px|pt|cm|em|%",unit:"px",min:-2e3,max:2e3,step:1,units:["px","pt","cm","em","%"]}});e.input(l,t)}return t.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-paragraph.html",scope:!0,controller:t}}var t=MODULE.tool.instance;t.directive("jjBoxParagraph",e),e.$inject=["$formInteraction"]}(),function(){function e(e,t,n,i,o){function a(n,a,l){function r(e,t){d.value=e}var c=l.jjBoxString;if(!c)throw new Error("attribute에 속성 정보가 지정되지 않았습니다.");c=n.$eval(c);var s=c.propGroup,u=c.name;if(!u)throw new Error("attribute에 속성 이름이 지정되지 않았습니다.");var d={value:void 0};n.config=c,n.property={item:d};var p=n.$watch(function(){if(!n.uid)return"";var a,l;if(n.type==o.DOCUMENT)a=e.get(n.uid),l=a?a.value(u):n.uid;else if(n.type==o.GROUP)a=i.get(n.uid),l=a?a.value(u):n.uid;else if(a=t.get(n.uid))if(s){var r=a[s]();r&&(l=r[u])}else l=a.value(u);else l=n.uid;return l},function(e,t){r(e,t)});n.$on("$destroy",function(){p&&p(),n.config=null,n.property=null})}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/jj-box-string.html",scope:!0,controller:a}}var t=MODULE.tool.instance;t.directive("jjBoxString",e),e.$inject=["$documents","$elements","$commandController","$groups","ElementType"]}(),function(){function e(e,t,n,i,o){function a(t,n,o){function a(){i.load(function(){t.fontList=i.list,t.fontGroupList=i.groupList})}function l(){var e,n,i,o,a=t.fontSizeItem.unit;switch(a){case"px":e=t.jjBinding.integer,i=5,o=1e3,n=1;break;case"%":e=t.jjBinding.integer,i=1,o=1e3,n=1;break;case"em":e=t.jjBinding.decimal,i=.3,o=1e3,n=.1}t.fontSizeItem.pattern=e,t.fontSizeItem.min=i,t.fontSizeItem.max=o,t.fontSizeItem.step=n}var r={groupName:"style",item:{edit:void 0,value:void 0},invalid:!0},c=angular.merge({},r,{propertyName:"fontFamily",itemName:"fontFamilyItem",submit:t.submit,invalid:!1});e.input(c,t),a(),t.refreshFontFamily=function(){a()};var s=angular.merge({},r,{propertyName:"fontSize",itemName:"fontSizeItem",item:{unitPattern:"px|%|em|pt",unit:void 0,units:["px","%","em","pt"],min:0,max:1/0},submit:t.submit});e.input(s,t);var u=t.$watch("fontSizeItem.unit",function(e,t){l()}),d=angular.merge({},r,{propertyName:"color",itemName:"colorItem",submit:t.submit,invalid:!1});e.input(d,t);var p=angular.merge({},r,{propertyName:"fontWeight",itemName:"fontWeightItem",submit:t.submit,invalid:!1});e.input(p,t);var g=angular.merge({},r,{propertyName:"fontStyle",itemName:"fontStyleItem",submit:t.submit,invalid:!1});e.input(g,t);var m=angular.merge({},r,{propertyName:"textDecoration",itemName:"textDecorationItem",submit:t.submit,invalid:!1});e.input(m,t),t.$on("$destroy",function(){u(),t.fontList=null,t.fontGroupList=null})}return{restrict:"EA",templateUrl:"content/property/basic/_jj-box-font.html",scope:!0,link:a}}var t=MODULE.tool.instance;t.directive("_jjBoxFont",e),e.$inject=["$formInteraction","$applications","$projects","$fontList","$contentAssetSetting2"]}(),function(){function e(e,n,i){function o(e,n,i){for(var o in n){i=i||{},i[e]=i[e]||{};var a=i[e];if(t.hasOwnProperty(o)){var l=n[o];a[t[o]]=l}}return i}function a(i,a,l){function r(e,n,o){if(j.hasOwnProperty(e)){var l;if(l="function"==typeof j[e]?j[e]:i.$eval(j[e]),l&&"function"==typeof l){if(a.hasClass("error")){if(e!=t.onBlur&&e!=t.enter)return;if(console.log("# error 바인딩 : ",e),l=i.$eval(j.onInvalid),console.log("onInvalid : ",j),!l)return}console.log("# 바인딩 : ",e),o=[a,n,w].concat(o||[]),l.apply(i,o),i.$applyAsync()}}}function c(e){var n=e.which;n==t.enter&&e.preventDefault()}function s(e){var t=e.which;r(t,e)}function u(e){r(t.onClose,e)}function d(e){r(t.onChange,e)}function p(e){r(t.onFocus,e)}function g(e){r(t.onBlur,e)}function m(){v(),i.$$_touch_id=n.createUID(),i.$$_touch=e.instance(i.$$_touch_id),i.$$_touch.createEvent(a,{start:f,move:h,end:y},this),i.$$_touch.preventDefault=!1}function v(){i.$$_touch&&(console.log("jjBinding removeDragEvent : ",i.$$_touch_id),i.$$_touch.deleteEvent(),e.remove(i.$$_touch_id),i.$$_touch=null,i.$$_touch_id=null)}function f(e){}function h(e,n){r(t.onDragging,e,[n])}function y(e){r(t.onDrag,e)}var b=i.$eval(l.jjBinding),x=l.name;if(b){i.jjBinding=n.pattern,i.MAP=o(x,b,i.MAP);var w=b.$property,j=i.MAP[w];j.hasOwnProperty(t.enter)&&a.on("keydown",c),a.on("keyup",s),j.hasOwnProperty(t.onClose)&&a.on("close",u),j.hasOwnProperty(t.onChange)&&a.on("change",d),j.hasOwnProperty(t.onFocus)&&a.on("focus",p),j.hasOwnProperty(t.onBlur)&&a.on("blur",g),j.hasOwnProperty(t.onDragging)&&m(),i.$on("$destroy",function(){j.hasOwnProperty(t.enter)&&a.off("keydown",c),a.off("keyup",s),j.hasOwnProperty(t.onClose)&&a.off("close",u),j.hasOwnProperty(t.onChange)&&a.off("change",d),j.hasOwnProperty(t.onFocus)&&a.off("focus",p),j.hasOwnProperty(t.onBlur)&&a.off("blur",g),j.hasOwnProperty(t.onDragging)&&v(),i.jjBinding=null,i.MAP=null,j=null})}}return{restrict:"A",link:a}}var t={esc:27,space:32,enter:13,tab:9,backspace:8,shift:16,ctrl:17,alt:18,capslock:20,numlock:144,onInvalid:"onInvalid",onClose:"onClose",onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur",onDragging:"onDragging",onDrag:"onDrag",onClick:"onClick"};!function(){var e=MODULE.tool.instance;e.directive("updateOnEnter",function(){return{restrict:"A",require:"ngModel",link:function(e,n,i,o){n.on("keyup",function(e){e.keyCode===t.enter&&o.$commitViewValue()})}}})}();var n=MODULE.tool.instance;n.directive("jjBinding",e),e.$inject=["Touch","$util","$elements"]}(),function(){function e(e,t,n){function o(o,a,l,r){function c(t){var n={templateUrl:"content/property/form/jj-color-panel.html",scope:t,controller:s,onComplete:function(){m=angular.element("#"+t.config.uid).find("input"),d()}},i=e.open(n);i.then(function(e){console.log("* color : ",o.color),e>0?o.ngSelect&&o.ngSelect():o.ngCancel&&o.ngCancel()},function(e){console.log("error",e)}),i["finally"](function(){t.$destroy(),t=null})}function s(e,t){function n(e){m.spectrum("set",e),u(e)}e.enterKey=e.select=function(){t.close(1)},e.escKey=e.cancel=function(){n(e.config.options.color),t.close(-1)},e.reset=function(){n(e.config.options.color)},e.$on("$destroy",function(){p(),e.config=null})}function u(e){o.color=e,r.$setViewValue(e)}function d(){m&&(m.on("move.spectrum",g),m.on("change.spectrum",g))}function p(){m&&(m.off("move.spectrum",g),m.off("change.spectrum",g))}function g(e,t){var n=t?t.toRgbString():"";o.color!=n&&u(n)}o.color=void 0,r.$render=function(){o.color=r.$viewValue},o.open=function(){console.log("original color : ",o.color);var e={color:o.color};e=angular.extend(e,i);var a=n.$new(!0);a.config={uid:t.createUID(),options:e,title:"Select Color",cancel:"cancel",no:"reset",yes:"select"},c(a)},o.onColorChange=function(){r.$setViewValue(o.color),o.ngSelect&&o.ngSelect()};var m;s.$inject=["scope","$notice"],o.$on("$destroy",function(){m&&(p(),m.spectrum("destroy"),m=null)}),a.on("$destroy",function(){m&&(p(),m.spectrum("destroy"),m=null)})}return{
restrict:"EA",templateUrl:"content/property/form/jj-color-picker.html",replace:!0,require:"ngModel",scope:{hideInput:"=",ngSelect:"&?",ngCancel:"&?"},link:o}}var t=MODULE.tool.instance;t.directive("jjColorPicker",e);var n=[["rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(255, 255, 255)"],["rgb(152, 0, 0)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)"],["rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"]],i={flat:!0,showInput:!0,showInitial:!0,allowEmpty:!0,showAlpha:!0,showButtons:!1,showPalette:!0,clickoutFiresChange:!0,containerClassName:"colorPickerContainer",preferredFormat:"rgb",palette:n};e.$inject=["$notice","$util","$rootScope"]}(),function(){function e(e){function t(t,n,i,o){var a=t.$watch(i.ngMax,function(){o.$setViewValue(o.$viewValue)}),l=function(n){var a=parseFloat(i.ngMax)||t.$eval(i.ngMax);return a=a||1/0,!e.isEmpty(n)&&n>a?(o.$setValidity("ngMax",!1),n):(o.$setValidity("ngMax",!0),n)};o.$parsers.push(l),o.$formatters.push(l),t.$on("$destroy",function(){a()})}return{restrict:"A",require:"ngModel",link:t}}var t=MODULE.tool.instance;t.directive("ngMax",e),e.$inject=["$util"]}(),function(){function e(e){function t(t,n,i,o){var a=t.$watch(i.ngMin,function(){o.$setViewValue(o.$viewValue)}),l=function(n){var a=parseFloat(i.ngMin)||t.$eval(i.ngMin);return a=a||0,!e.isEmpty(n)&&a>n?(o.$setValidity("ngMin",!1),n):(o.$setValidity("ngMin",!0),n)};o.$parsers.push(l),o.$formatters.push(l),t.$on("$destroy",function(){a()})}return{restrict:"A",require:"ngModel",link:t}}var t=MODULE.tool.instance;t.directive("ngMin",e),e.$inject=["$util"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(o,a,l){function r(e,i){var a,l=o.option.source,r=e?n.createUID():void 0,c=t.get(o.uid).value("currentState"),s={};s[c]={option:{source:r}};var u={element:o.uid,update:{currentState:c,state:s},asset:{remove:{uid:l},add:{uid:r,data:{original:e,property:a}}}};p.sourceChange(u,"WORK_ASSET_MEDIA_FOLDER",function(e){console.log("Image 수정 종료 : ",e)})}function c(){var e=o.sourceItem.value,t="";if(e){var i=n.get(e);i&&(t=i.path())}o.sourceItem.actualPath=t,f||d(),f.src(t)}function d(){var e={controls:!0,preload:"metadata",muted:!1,defaultPlaybackRate:1,loop:!1};h=a.find("[html5AudioPlayerContainer]"),f=s.create("audio",h,e,function(){console.log("# duration : ",this.duration())})}var m={groupName:"option",item:{edit:void 0,value:void 0},invalid:!1};o.showHttpAdressBox=i.get().value("showHttpAdressBox"),o.onShowHttpAdressBoxChange=function(){var e=i.get().value("showHttpAdressBox");e.audio=o.showHttpAdressBox.audio,i.get().value("showHttpAdressBox",e)};var v=angular.merge({},m,{propertyName:"source",itemName:"sourceItem",submit:o.submit,invalid:!1,item:{path:void 0,url:void 0,pathString:void 0,actualPath:void 0,oldUrl:void 0},setValue:function(e){if(!e)return o.sourceItem.url=void 0,o.sourceItem.path=void 0,o.sourceItem.pathString=void 0,o.sourceItem.oldUrl=void 0,void c();var t,i,a,l,r=n.get(e);if(r){var s=r.path();if(l=r.isURL(s))t=s;else{i=r.value("original");var a=i.replace(/\\/g,"/"),u=a.lastIndexOf("/");u>=0&&(a=a.substr(u+1))}}else console.debug("# AssetData 가 없습니다. : ",e,"\n(렌더링 delay 현상에 의해 데이터가 삭제된 후에도 asset data를 참조)");o.showHttpAdressBox.audio=l,o.sourceItem.url=t,o.sourceItem.path=i,o.sourceItem.pathString=a,o.sourceItem.oldUrl=t,c()}});u.input(v,o),o.inputFocus=function(){o.sourceItem.oldUrl=o.sourceItem.url},o.sourceURLChange=function(){var e=o.sourceItem.url;if(o.sourceItem.oldUrl!=e){if(!e)return void o.removeSource();e=e.replace(/(\n|\r|\t)/g,"");var t={};r(e,t)}},o.removeSource=function(){r()},o.openFileDialogBox=function(){var t={accept:".mp3",task:"assetFile"};e.getOpenInformation(t,function(e){if(!e)return void console.log("경로가 지정되지 않았습니다.");var t={};r(e,t)})};var f,h,y=o.$watch(function(){return g.isOpened()},function(e,t){if(e&&e!=t){if(!f)return;f.pause()}});o.$on("$destroy",function(){y(),f&&(f.dispose(),f=null),h=null})}return m.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-audio.html",scope:!0,controller:m}}var t=MODULE.tool.instance;t.directive("jjBoxAudio",e),e.$inject=["$externalAPI","$elements","$assets","$applications","UIDType","$commandController","$mime","$util","$assetManager","$media","$formInteraction","$toast","$propertyManager","$preview"]}(),function(){function e(e,t){function n(n,i,o){var a=n.$watchCollection(function(){var e=t.get(),n=e?e.getLength():0;return n>0},function(e,t){n.enable=e});n.createComponent=function(){var t={};e.create(t,function(e){})},n.$on("$destroy",function(){a()})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-comp.html",scope:!0,controller:n}}var t=MODULE.tool.instance;t.directive("jjBoxComp",e),e.$inject=["$componentUtil","$selects"]}(),function(){function e(e,t,n,i,o,a){function l(l,r,c){function s(){var e,n=t.get(l.uid),i=n.getNoneCopyValue("property");i.editor?e=angular.copy(i.editor):(e={usePreview:!0,exceptScript:!0},n.value("property",{editor:e})),l.editor=e}l.$on("$destroy",function(){u()});var u=l.$watch(function(){var e=t.get(l.uid),n=e.getNoneCopyValue("property");return n?n.editor:null},function(e){s()},!0);l.editorOptionChange=function(){var t={ignoreHistory:!0,document:e.uid(),elements:[{element:l.uid,data:{property:{editor:l.editor}}}]};n.modifyElement(t),l.$applyAsync()},l.openHtmlEditor=function(){i.open(l.uid,function(e){console.log("# 편집 종료 : ",e)})},function(){if(l.uid){var e=t.get(l.uid),n=e.value("property");if(n.temp)var i=l.$watch(function(){var e=!o._disable;return e},function(e){e&&(i(),a(function(){l.openHtmlEditor()}))})}}()}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-html.html",scope:!0,controller:l}}var t=MODULE.tool.instance;t.directive("jjBoxHtml",e),e.$inject=["$documents","$elements","$commandController","$htmlElementEditor","$autoBackup","$timeout"]}(),function(){function e(e,t){function n(n,i,o){var a=n.$watch(function(){var e=t.uid();return Boolean(e)},function(e,t){n.enable=e});n.createTemplate=function(){var t={};e.create(t,function(e){})},n.$on("$destroy",function(){a()})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-template.html",scope:!0,controller:n}}var t=MODULE.tool.instance;t.directive("jjBoxTemplate",e),e.$inject=["$templateUtil","$documents"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m,v,f){function h(e,n,o){function a(){if(u)return u;var t=f.uid(),n='[screen-container] [document="'+t+'"] [page-container] [jj-element-text][uid="'+e.uid+'"] ',i=angular.element(n);return u=i.scope().$$childHead}function l(){var n=v.get(),i=n.tooldata("richText");if(i&&void 0!==i[e.uid])return i[e.uid];var o=t.get(e.uid),a=o.getNoneCopyValue("currentState"),l=o.value("state")[a],r=l.option||{};return r.text}function r(t){var n={option:{text:e.textItem.value}},i=a();i.onContentChanged(n,t)}function c(t){function n(e,n){e&&console.error("결과 에러 : ",e),t&&t(n)}var i={template:'<div jj-code-editor-dialog-box popup-dialog config="config">',mode:"htmlmixed",title:"내용 편집",value:e.textItem.value,codeTest:!0,test:{options:{"link-tag-disabled":!0,"inline-script-disabled":!0,"script-tag-disabled":!0,"inline-style-disabled":!1,"style-disabled":!1},description:["inline-script 및 <script> 태그를 사용할 수 없습니다.","script 실행이 포함된 내용은 허용되지 않습니다."]}};g.open(i,n)}var u,d={groupName:"option",item:{edit:void 0,value:""},invalid:!1};e.textItem={value:l()};var p=e.$watch(function(){return e.option.text},function(t,n){e.textItem.value=t});e.openTextEditor=function(){function t(){e.textItem.value=l(),c(function(e){void 0!==e&&n(e)})}function n(t){var n=e.textItem.value;t!==n&&(e.textItem.value=t,r({delay:!1}))}i.safetyCall(e,function(){t()})};var m=angular.merge({},d,{propertyName:"useAutolink",itemName:"useAutolinkItem",submit:e.submit,invalid:!1,setValue:function(t,n){e.useAutolinkItem.old=t}});s.input(m,e),e.useAutolinkOptionChange=function(){function t(){var t=e.useAutolinkItem.old,n=e.useAutolinkItem.value;n!==t&&e.useAutolinkItemChange()}t()},e.$on("$destroy",function(){p()})}return h.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-text.html",scope:!0,controller:h}}var t=MODULE.tool.instance;t.directive("jjBoxText",e),e.$inject=["$externalAPI","$elements","$assets","$applications","UIDType","$commandController","$mime","$util","$assetManager","$formInteraction","$toast","$propertyManager","$selects","$import","$notice","$projects","$documents"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g){function m(o,a,l){function c(e,i){var a,l=o.option.source,r=e?n.createUID():void 0,c=t.get(o.uid).value("currentState"),s={};s[c]={option:{source:r}};var u={element:o.uid,update:{currentState:c,state:s},asset:{remove:{uid:l},add:{uid:r,data:{original:e,property:a}}}};p.sourceChange(u,"WORK_ASSET_MEDIA_FOLDER",function(e){console.log("Image 수정 종료 : ",e)})}function d(){var e=o.sourceItem.value,t="";if(e){var i=n.get(e);i&&(t=i.path())}o.sourceItem.actualPath=t,j||m(),""===t?h():v(),j.src(t)}function m(){var e={controls:!0,preload:"metadata",muted:!1,defaultPlaybackRate:1,loop:!1};$=a.find("[html5VideoPlayerContainer]"),j=s.create("video",$,e,function(){console.log("# duration : ",this.duration())})}function v(){j&&(h(),j.on("loadedmetadata",f))}function f(e){o.info.width=j.videoWidth(),o.info.height=j.videoHeight(),o.info.duration=r.time2String(j.duration()),o.$applyAsync()}function h(){y(),j&&j.off("loadedmetadata",f)}function y(){o.info||(o.info={}),o.info.width=0,o.info.height=0,o.info.duration=r.time2String(0),o.$applyAsync()}var b={groupName:"option",item:{edit:void 0,value:void 0},invalid:!1},x=angular.merge({},b,{groupName:"style",propertyName:"backgroundColor",itemName:"backgroundColorItem",submit:o.submit,invalid:!1});u.input(x,o),y(),o.showHttpAdressBox=i.get().value("showHttpAdressBox"),o.onShowHttpAdressBoxChange=function(){var e=i.get().value("showHttpAdressBox");e.video=o.showHttpAdressBox.video,i.get().value("showHttpAdressBox",e)};var w=angular.merge({},b,{propertyName:"source",itemName:"sourceItem",submit:o.submit,invalid:!1,item:{path:void 0,url:void 0,pathString:void 0,actualPath:void 0,oldUrl:void 0},setValue:function(e){if(!e)return o.sourceItem.url=void 0,o.sourceItem.path=void 0,o.sourceItem.pathString=void 0,o.sourceItem.oldUrl=void 0,void d();var t,i,a,l,r=n.get(e);if(r){var c=r.path();if(l=r.isURL(c))t=c;else{i=r.value("original");var a=i.replace(/\\/g,"/"),s=a.lastIndexOf("/");s>=0&&(a=a.substr(s+1))}}else console.debug("# AssetData 가 없습니다. : ",e,"\n(렌더링 delay 현상에 의해 데이터가 삭제된 후에도 asset data를 참조)");o.showHttpAdressBox.video=l,o.sourceItem.url=t,o.sourceItem.path=i,o.sourceItem.pathString=a,o.sourceItem.oldUrl=t,d()}});u.input(w,o),o.inputFocus=function(){o.sourceItem.oldUrl=o.sourceItem.url},o.sourceURLChange=function(){var e=o.sourceItem.url;if(o.sourceItem.oldUrl!=e){if(!e)return void o.removeSource();e=e.replace(/(\n|\r|\t)/g,"");var t={};c(e,t)}},o.removeSource=function(){c()},o.openFileDialogBox=function(){var t={accept:".mp4",task:"assetFile"};e.getOpenInformation(t,function(e){if(!e)return void console.log("경로가 지정되지 않았습니다.");var t={};c(e,t)})};var j,$,C=o.$watch(function(){return g.isOpened()},function(e,t){if(e&&e!=t){if(!j)return;j.pause()}});o.$on("$destroy",function(){C(),h(),j&&(j.dispose(),j=null),$=null})}return m.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-video.html",scope:!0,controller:m}}var t=MODULE.tool.instance;t.directive("jjBoxVideo",e),e.$inject=["$externalAPI","$elements","$assets","$applications","UIDType","$commandController","$mime","$util","$assetManager","$media","$formInteraction","$toast","$propertyManager","$preview"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s){function u(t,o,a){function l(){var e,i=n.get(t.uid),o=i.getNoneCopyValue("property");o.link?e=angular.copy(o.link):(e={url:""},i.value("property",{link:e})),t.link=e,t.oldValue=t.link.url}function r(){var e,i=n.get(t.uid),o=i.getNoneCopyValue("property");o.editor?e=angular.copy(o.editor):(e={usePreview:!1,checkXFrameOption:!1},i.value("property",{editor:e})),t.editor=e}t.$on("$destroy",function(){s(),c()});var c=t.$watch(function(){var e=n.get(t.uid),i=e.getNoneCopyValue("property");return i&&i.link?i.link:null},function(e){l()},!0);t.onChange=function(){var n=t.link.url.replace(/\n/gim,""),o={document:e.uid(),elements:[{element:t.uid,data:{property:{link:{url:n}}}}]};i.modifyElement(o)},t.removeText=function(){t.link.url="",t.onChange()};var s=t.$watch(function(){var e=n.get(t.uid),i=e.getNoneCopyValue("property");return i?i.editor:null},function(e){r()},!0);t.editorOptionChange=function(){var n={ignoreHistory:!0,document:e.uid(),elements:[{element:t.uid,data:{property:{editor:t.editor}}}]};i.modifyElement(n)}}return u.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/option/jj-box-web.html",scope:!0,controller:u}}var t=MODULE.tool.instance;t.directive("jjBoxWeb",e),e.$inject=["$documents","$import","$elements","$commandController","$htmlElement","$autoBackup","$externalAPI","$util","$exitApplicationMacro","$timeout"]}(),function(){function e(e,t,n){function i(i,o,a){function l(){var o=i.config.uid;if(!o)return i.category=null,i.property=null,void(i.data=null);var a=e.get(o),l=a.type();i.data={type:l.toUpperCase(),"original source":n.shortPathString(a.getNoneCopyValue("original"),"~"),path:n.shortPathString(a.getNoneCopyValue("path"),"~")};var c=a.getNoneCopyValue("error");c&&(i.data.error=c);var s=t.typeCategory(l);i.category=s,i.button="TEXT"===s?{yes:"저장",no:null}:null,i.property=null,r(),i.$applyAsync()}function r(t){var n=i.config.uid,o=e.get(n),a=o.value("property");if(!a&&!t)return void(i.property=null);a=angular.merge({},a,t||{});for(var l in a)return void(i.property=a);i.property=null}i.$on("$destroy",function(){c&&c()});var c=i.$watch(function(){return i.config.uid},function(e,t){l()});i.update=function(e){r(e),i.$applyAsync()}}return i.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer.html",replace:!0,scope:!1,controller:i}}var t=MODULE.tool.instance;t.directive("jjAssetViewer",e),e.$inject=["$assets","$mime","FileSystem"]}(),function(){function e(e,t,n,i,o){function a(a,l,r){function c(){var e={controls:!0,preload:"metadata",muted:!1,defaultPlaybackRate:1,loop:!1},t=l.find("[html5AudioPlayerContainer]");f=n.create("audio",t,e,function(){console.log("# PLAYER 세팅 종료 (duration) : ",this.duration())})}function s(n){var i="";if(n){var o=e.get(n);o&&(i=o.path())}a._source!==i&&(a._source=i,i&&o.isURL(i)&&(i=t.noneCachePath(i)),console.log("# AUDIO PLAYER 소스 세팅 : ",i),g(),f&&""!==i?u():d(),f&&f.src(i))}function u(){f&&(d(),f.on("loadedmetadata",p))}function d(){f&&f.off("loadedmetadata",p)}function p(e){if(a.update){var t={duration:i.time2String(f.duration())+" (sec)"};a.update({info:t}),a.$applyAsync()}}function g(){if(a.update){var e={duration:i.time2String(0)};a.update({info:e}),a.$applyAsync()}}var m=a.$watch(function(){return a.uid},function(e,t){s(a.uid)});a.$on("$destroy",function(){m&&m(),v&&v(),d(),f&&f.dispose(),f=null,a._source=""});var v=a.$watch(function(){return o.isOpened()},function(e,t){if(e&&e!=t){if(!f)return;f.pause()}});a._source="";var f;c()}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer-audio.html",replace:!0,scope:{update:"&?",uid:"="},controller:a}}var t=MODULE.tool.instance;t.directive("jjAssetViewerAudio",e),e.$inject=["$assets","FileSystem","$media","$util","$preview"]}(),function(){function e(e,t){function n(n,i,o){function a(){var t=n.uid,i=e.get(t),o=l(i.value("property").label);n.font.family=o}function l(e){var n=t.parsePath(e),i=n.fileName;return i}var r=n.$watch(function(){return n.uid},function(e,t){a()});n.$on("$destroy",function(){r&&r()}),n.font={sizes:[12,18,24,36,48,72],family:""},a()}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer-font.html",replace:!0,scope:{uid:"="},controller:n}}var t=MODULE.tool.instance;t.directive("jjAssetViewerFont",e),e.$inject=["$assets","FileSystem"]}(),function(){function e(e,t){function n(n,i,o){function a(){var i=n.uid,o=e.get(i),a=o.path();n.source=t.noneCachePath(a),n.$applyAsync()}var l=n.$watch(function(){return n.uid},function(e,t){a()});n.$on("$destroy",function(){l&&l()})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer-image.html",replace:!0,scope:{uid:"="},controller:n}}var t=MODULE.tool.instance;t.directive("jjAssetViewerImage",e),e.$inject=["$assets","FileSystem"]}(),function(){function e(e,t,n,i,o,a,l){function r(r,c,s){function u(){var t=r.uid,n=e.get(t),i=n.type();d(i),g(function(e){r.configEditor.value=e,r.$applyAsync()})}function d(e){r.configEditor={type:e,value:"",placeholder:"CONTENT..."},r.$applyAsync()}function p(){var t=n.get(r.uid),i=t.get(),o=e.get(r.uid).type(),a=i.getValue();r.save(o,a)}function g(n){function c(e,t){var n={encoding:"utf8"};i.readFile(e,n,function(e,n){e&&(console.error("[Read 실패] ",e),a.message("내용을 로드하지 못하였습니다.")),o.close(),l(function(){t(n)})})}var s=r.uid,u=e.get(s),d=u.path();return d?(u.isURL(d)&&(d=t.noneCachePath(d)),o.open({message:"내용을 로드합니다."}),void l(function(){c(d,n)})):n()}function m(n,c){function s(e,t,n){var l={encoding:"utf8"};i.outputFile(e,t,l,function(e){e&&(console.error("[Write 실패] ",e),a.message("저장에 실패했습니다.")),o.close(),n(Boolean(e))})}var u=r.uid,d=e.get(u),p=d.getNoneCopyValue("path");return(p=t.pathToActual(p))?d.isURL(p)?void a.message("웹상에 파일은 저장할 수 없습니다."):(o.open({message:"내용을 저장합니다."}),void l(function(){s(p,n,c)})):c()}var v=r.$watch(function(){return r.uid},function(e,t){u()});r.$on("$destroy",function(){v&&v(),r.configEditor=null,f&&f()});var f=r.$on("yesButtonClick",function(e,t){p()});r.changed=function(e,t){},r.save=function(e,t){try{m(t,function(){})}catch(n){console.error("[write ERROR]",n)}}}return r.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer-text.html",replace:!0,scope:{uid:"="},controller:r}}var t=MODULE.tool.instance;t.directive("jjAssetViewerText",e),e.$inject=["$assets","FileSystem","$codeEditor","$externalAPI","$busy","$toast","$timeout"]}(),function(){function e(e,t,n,i,o){function a(a,l,r){function c(){var e={controls:!0,preload:"metadata",muted:!1,defaultPlaybackRate:1,loop:!1},t=l.find("[html5VideoPlayerContainer]");f=n.create("video",t,e,function(){console.log("# PLAYER 세팅 종료 (duration) : ",this.duration())})}function s(n){var i="";if(n){var o=e.get(n);o&&(i=o.path())}a._source!==i&&(a._source=i,i&&o.isURL(i)&&(i=t.noneCachePath(i)),console.log("# VIDEO PLAYER 소스 세팅 : ",i),g(),f&&""!==i?u():d(),f&&f.src(i))}function u(){f&&(d(),f.on("loadedmetadata",p))}function d(){f&&f.off("loadedmetadata",p)}function p(e){if(a.update){var t={width:f.videoWidth()+" px",height:f.videoHeight()+" px",duration:i.time2String(f.duration())+" (sec)"};a.update({info:t}),a.$applyAsync()}}function g(){if(a.update){var e={width:"-",height:"-",duration:i.time2String(0)};a.update({info:e}),a.$applyAsync()}}var m=a.$watch(function(){return a.uid},function(e,t){s(a.uid)});a.$on("$destroy",function(){m&&m(),v&&v(),d(),f&&f.dispose(),f=null,a._source=""});var v=a.$watch(function(){return o.isOpened()},function(e,t){if(e&&e!=t){if(!f)return;f.pause()}});a._source="";var f;c()}return a.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"explorer/view/asset/jj-asset-viewer-video.html",replace:!0,scope:{update:"&?",uid:"="},controller:a}}var t=MODULE.tool.instance;t.directive("jjAssetViewerVideo",e),e.$inject=["$assets","FileSystem","$media","$util","$preview"]}(),function(){function e(e,t,n,i,o,a,l,r,c,s,u,d,p,g,m,v,f){function h(e,n,a){function r(t,n){return g.get(e.type,n)}function s(e,n,i){var o=t.get(e);return o?o.value(i):null}function d(t,n,i,o,a,l){e[o].edit=a,l&&l()}function p(t,n,i,o){var a=n[i][o],r=s(t,i,o);if(console.log("# 편집 결과 : ",a," : ",r," : ",t),void 0===a&&(a=""),e[i][o]=a,a!=r){var c={};c[o]=a;var u={document:t,data:c};l.modifyDocument(u)}}function h(t,n,i,o){var a=n[i][o],l=s(t,i,o);console.log("Master 편집 결과 : ",a," : ",l," : "),void 0===a&&(a=""),e[i][o]=a}function y(t){if(t){var n=f.path.parse(t).ext;e.isSVG=n&&".svg"===n.toLowerCase()}else e.isSVG=!1;m.masterImageChange(t,{},e.uid)}e.none={};var b={groupName:"none",item:{edit:void 0,value:void 0},invalid:!0},x=angular.merge({},b,{propertyName:"backgroundColor",itemName:"backgroundColorItem",invalid:!1,getDefaultValue:r,getCurrentPropertyValue:s,defaultLiveUpdateFunction:d,submit:p});u.input(x,e);var w=angular.merge({},b,{propertyName:"useCacheImage",itemName:"useCacheImageItem",invalid:!1,getDefaultValue:r,getCurrentPropertyValue:s,defaultLiveUpdateFunction:d,submit:p});u.input(w,e),e.insertSVGList=[{label:"In-line(svg) Tag",value:"inline"},{label:"Object(embed) Tag",value:"embed"},{label:"Background image",value:"image"}];var j=angular.merge({},b,{propertyName:"insertSVG",itemName:"insertSVGItem",invalid:!1,getDefaultValue:r,getCurrentPropertyValue:s,defaultLiveUpdateFunction:d,submit:p});u.input(j,e),e.showDescription_insertSVG=function(){v.alert({$noticeApi:{link:function(e){c.weblink(e)}},popupClass:{middlesize:!0},contentUrl:"popup/desc/insertSVG.html",title:"SVG 적용 방식 비교",ok:"확인",isTop:!0})},e.isSVG=!1,e.showHttpAdressBox=o.get().value("showHttpAdressBox"),e.onShowHttpAdressBoxChange=function(){var t=o.get().value("showHttpAdressBox");t.image=e.showHttpAdressBox.image,o.get().value("showHttpAdressBox",t)};var $=angular.merge({},b,{propertyName:"master",itemName:"masterItem",item:{path:void 0,url:void 0,pathString:void 0,oldUrl:void 0},invalid:!1,setValue:function(t,n){if(!t)return e.masterItem.url=void 0,e.masterItem.path=void 0,e.masterItem.pathString=void 0,void(e.masterItem.oldUrl=void 0);var o,a,l,r,c=i.get(t);if(c){var s=c.path();r=c.isURL(s);var u=f.path.parse(s).ext;if(e.isSVG=u&&".svg"===u.toLowerCase(),r)o=s;else{a=c.value("original");var l=a.replace(/\\/g,"/"),d=l.lastIndexOf("/");d>=0&&(l=l.substr(d+1))}}else console.debug("# AssetData 가 없습니다. : ",t,"\n(렌더링 delay 현상에 의해 데이터가 삭제된 후에도 asset data를 참조)");e.showHttpAdressBox.image=r,e.masterItem.url=o,e.masterItem.path=a,e.masterItem.pathString=l,e.masterItem.oldUrl=o},getDefaultValue:r,getCurrentPropertyValue:s,defaultLiveUpdateFunction:d,submit:h});u.input($,e),e.inputFocus=function(){e.masterItem.oldUrl=e.masterItem.url},e.sourceURLChange=function(){var t=e.masterItem.url;if(e.masterItem.oldUrl!=t){if(!t)return void e.removeSource();t=t.replace(/(\n|\r|\t)/g,""),y(t)}},e.removeSource=function(){y()},e.openFileDialogBox=function(){m.openFileDialogBox(function(e,t){e&&y(e)})},function(){function n(e,t){return d[t]}function i(e,n,i){var o=t.get(e),a=o?o.value(n):{};return a[i]}function o(t,n,i,o,a,l){e[o].edit=a,l&&l()}function a(t,n,o,a){var r=n[o][a],c=i(t,o,a);if(void 0===r&&(r=""),e[o][a]=r,r!=c){var s={};s[o]={},s[o][a]=r;var u={document:t,data:s};l.modifyDocument(u)}}var r="masterStyle";e[r]={};var s={groupName:r,item:{edit:void 0,value:void 0},invalid:!1,getDefaultValue:n,getCurrentPropertyValue:i,defaultLiveUpdateFunction:o,submit:a},d=g.get(e.type,r);e.backgroundSizeList=[{label:"원본 크기",value:"auto"},{label:"크기 맞춤",value:"contain"},{label:"강제 늘림 (줄임)",value:"100% 100%"},{label:"사용자 지정",value:"custom"}];var p=angular.merge({},s,{propertyName:"backgroundSizeOption",itemName:"backgroundSizeOptionItem",item:{edit:void 0,value:void 0}});u.input(p,e);var m=angular.merge({},s,{propertyName:"backgroundSize",itemName:"backgroundSizeItem",item:{value:void 0,horizontal:void 0,vertical:void 0,units:["px","%"],horizontalUnit:void 0,verticalUnit:void 0},setValue:function(t){var n=t.split(" "),i=c.parseUnit(n[0],"%|px");e.backgroundSizeItem.horizontal=i.num,e.backgroundSizeItem.horizontalUnit=i.unit,void 0===n[1]&&(n[1]=n[0]);var o=c.parseUnit(n[1],"%|px");e.backgroundSizeItem.vertical=o.num,e.backgroundSizeItem.verticalUnit=o.unit}});u.input(m,e),e.sizeItemChange=function(){var t=void 0!==e.backgroundSizeItem.horizontal,n=t?e.backgroundSizeItem.horizontal:50,i=t?e.backgroundSizeItem.horizontalUnit:"%",o=void 0!==e.backgroundSizeItem.vertical,a=o?e.backgroundSizeItem.vertical:50,l=o?e.backgroundSizeItem.verticalUnit:"%";e.backgroundSizeItem.value=n+i+" "+a+l,e.backgroundSizeItemChange()};var v=angular.merge({},s,{propertyName:"backgroundRepeat",itemName:"backgroundRepeatItem",item:{x:void 0,y:void 0},setValue:function(t){var n=!1,i=!1;"no-repeat"==t?n=i=!1:"repeat"==t?n=i=!0:(n=t.indexOf("repeat-x")>-1,i=t.indexOf("repeat-y")>-1),e.backgroundRepeatItem.x=n,e.backgroundRepeatItem.y=i}});u.input(v,e),e.repeatItemChange=function(){var t=e.backgroundRepeatItem.x?"repeat-x":"",n=e.backgroundRepeatItem.y?"repeat-y":"",i="no-repeat";t&&n?i="repeat":(t&&(i="repeat-x"),n&&(i="repeat-y")),e.backgroundRepeatItem.value=i||void 0,e.backgroundRepeatItemChange()};var f=angular.merge({},s,{propertyName:"backgroundPosition",itemName:"backgroundPositionItem",item:{value:void 0,horizontal:void 0,vertical:void 0,units:["px","%"],horizontalUnit:void 0,verticalUnit:void 0},setValue:function(t){var n=t.split(" "),i=c.parseUnit(n[0],"%|px");e.backgroundPositionItem.horizontal=i.num,e.backgroundPositionItem.horizontalUnit=i.unit,void 0===n[1]&&(n[1]=n[0]);var o=c.parseUnit(n[1],"%|px");e.backgroundPositionItem.vertical=o.num,e.backgroundPositionItem.verticalUnit=o.unit}});u.input(f,e),e.positionItemChange=function(){var t=void 0!==e.backgroundPositionItem.horizontal,n=t?e.backgroundPositionItem.horizontal:50,i=t?e.backgroundPositionItem.horizontalUnit:"%",o=void 0!==e.backgroundPositionItem.vertical,a=o?e.backgroundPositionItem.vertical:50,l=o?e.backgroundPositionItem.verticalUnit:"%";e.backgroundPositionItem.value=n+i+" "+a+l,e.backgroundPositionItemChange()}}()}return h.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/document/jj-box-master.html",scope:!0,controller:h}}var t=MODULE.tool.instance;t.directive("jjBoxMaster",e),e.$inject=["$externalAPI","$documents","$elements","$assets","$applications","FileSystem","$commandController","$mime","$util","$assetManager","$formInteraction","$toast","$propertyManager","$defaultProperty","$changeImageSource","$notice","$nativeInterface"]}(),function(){function e(e,t,n,i,o,a){function l(e,o,l){function r(){var e=t.get();return e?e.value("search"):""}function c(){if(!e.originalText)return void(e.displayText="");var t=e.originalText.length>300?"......\n\n[생략]":"",i=e.originalText.substring(0,300)+t;i=s(i),e.displayText=n.trustAsHtml(i)}function s(e){return e=e.replace(/>/gim,"&gt;"),e=e.replace(/</gim,"&lt;"),e=e.replace(/(\n\r|\r\n)/gim,"<br>"),e=e.replace(/(\n|\r)/gim,"<br>")}function u(t){function n(e,n){e&&console.error("결과 에러 : ",e),t&&t(n)}var o={template:'<div jj-code-editor-dialog-box popup-dialog config="config">',mode:"etc",title:"검색 내용 편집",value:e.originalText};i.open(o,n)}e.displayText="",e.originalText="";var d=e.$watch(function(){return r()},function(t,n){e.originalText=t||"",c()});e.$on("$destroy",function(){d()}),e.openSearchTextEditor=function(){function n(n){var i=e.originalText;if(n!==i){var o={ignoreCapture:!0,document:t.uid(),data:{search:n}};a.modifyDocument(o)}}u(function(e){void 0!==e&&n(e)})}}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/document/jj-box-search-text.html",scope:!0,controller:l}}var t=MODULE.tool.instance;t.directive("jjBoxSearchText",e),e.$inject=["$externalAPI","$documents","$sce","$import","$notice","$commandController"]}(),function(){function e(e,t,n,i,o,a){function l(e,t,l){function r(e,t){return"width"==t?t="paperWidth":"height"==t&&(t="paperHeight"),a[t]}function c(e,t,i){var o=n.get(e);return o?o.value("paper")[i]:null}function s(t,n,i,o,a,l){e[o].edit=a,l&&l()}function u(t,n,o,a){var l=n[o][a],r=c(t,o,a);if(console.log("용지 크기 편집 결과 : ",l," : ",r," : "),void 0===l&&(l=""),e[o][a]=l,l!=r){var s={paper:{width:r.width,height:r.height}};s.paper[a]=l,i.modifyProject({data:s})}}e.none={};var d={groupName:"none",item:{edit:void 0,value:void 0,unitPattern:"px",unit:"px",min:0,max:1/0},invalid:!0},p=angular.merge({},d,{propertyName:"width",itemName:"widthItem",item:{min:100,max:5e3},getDefaultValue:r,getCurrentPropertyValue:c,defaultLiveUpdateFunction:s,submit:u}),g=c(e.uid,p.groupName,p.propertyName);e[p.groupName][p.propertyName]=g,o.input(p,e);var m=angular.merge({},d,{propertyName:"height",itemName:"heightItem",item:{min:100,max:5e3},getDefaultValue:r,getCurrentPropertyValue:c,defaultLiveUpdateFunction:s,submit:u}),v=c(e.uid,m.groupName,m.propertyName);e[m.groupName][m.propertyName]=v,o.input(m,e),e.$on("$destroy",function(){})}return l.$inject=["$scope","$element","$attrs"],{restrict:"EA",templateUrl:"content/property/basic/paper/jj-box-paper-size.html",scope:!0,controller:l}}var t=MODULE.tool.instance;t.directive("jjBoxPaperSize",e),e.$inject=["$elements","$applications","$projects","$commandController","$formInteraction","Default"]}(),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("dashboard.html","<div>dashboard.html</div>")}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("home.html","<div>home.html</div>")}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("tool.html",'<div tool-container="" ng-controller="ToolController" layout="column"><div top-container="" layout="row" style="position: relative; z-index: 3;"><div project-menu-group="" ng-controller="ProjectMenuController" layout="column" layout-align="start center"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div icon-field="new" layout="" layout-align="center center" ng-click="newProject();" ng-class="{disable:!newEnable}"><span small-text="">새 프로젝트</span></div><div icon-field="import" layout="" layout-align="center center" ng-click="import();" ng-class="{disable:protect || !document}"><span small-text="">문서 변환</span></div><div icon-field="open" layout="" layout-align="center center" ng-click="openProject();" ng-class="{disable:!openEnable}"><span small-text="">불러오기</span></div><div icon-field="save" layout="" layout-align="center center" ng-click="saveProject();" ng-class="{disable:!saveEnable}"><span small-text="">저장</span></div><div icon-field="saveas" layout="" layout-align="center center" ng-click="saveAsProject();" ng-if="!useWebService" ng-class="{disable:!saveAsEnable}"><span small-text="">다른 이름으로 저장</span></div><div icon-field="close" layout="" layout-align="center center" ng-click="closeProject();" ng-class="{disable:!closeEnable}"><span small-text="">프로젝트 닫기</span></div></div></div><div etc-menu-group="" ng-if="!isTextEditing" ng-controller="EtcMenuController" layout="column" layout-align="start center" style="width: 100px;"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div icon-field="publish" layout="" layout-align="center center" ng-click="publish();" ng-class="{disable:!document}"><span small-text="">출판하기</span></div><div icon-field="preview" layout="" layout-align="center center" ng-click="preview();" ng-class="{disable:!document}"><span small-text="">미리보기</span></div></div></div><div layout="row" layout-align="start center"><div ng-if="!isTextEditing" document-menu-group="" ng-controller="DocumentMenuController" layout="column" layout-align="start center"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div icon-field="undo" layout="" layout-align="center center" ng-class="{disable:!undoEnable}" ng-click="undo();"><span small-text="">되돌리기</span></div><div icon-field="redo" layout="" layout-align="center center" ng-class="{disable:!redoEnable}" ng-click="redo();"><span small-text="">다시 실행</span></div></div></div><div ng-if="!isTextEditing" document-menu-group="" ng-controller="DocumentMenuController" layout="column" layout-align="start center"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div icon-field="copy" layout="" layout-align="center center" ng-class="{disable:protect || !copyEnable}" ng-click="copy();"><span small-text="">복사하기</span></div><div icon-field="cut" layout="" layout-align="center center" ng-class="{disable:protect || !cutEnable}" ng-click="cut();"><span small-text="">잘라내기</span></div><div icon-field="paste" layout="" layout-align="center center" ng-class="{disable:protect || !pasteEnable}" ng-click="paste();"><span small-text="">붙여넣기</span></div></div></div><div ng-if="!isRichtextEditing" document-menu-group="" ng-controller="DocumentMenuController" layout="column" layout-align="start center" flex="" ng-style="{borderRightWidth:(isTextEditing?0:1)}"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div ng-repeat="item in buttons" ng-if="item" layout="" layout-align="center center" icon-field="{{ item.id }}" ng-class="{disable: item.forcedEnable? false:(protect || !item.enable)}" ng-click="callToolFunction(item.id, $event);"><span small-text="">{{item.text}}</span></div></div></div></div><div ng-if="!isTextEditing" project-menu-group="" ng-controller="ProjectMenu2Controller" layout="column" layout-align="start center" style="border: 0;"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div icon-field="fileEditor" layout="" layout-align="center center" ng-click="fileEditor();" ng-class="{disable:protect || !enable_fileEditor}"><span small-text="">외부 파일 설정</span></div><div icon-field="exportTemplate" layout="" layout-align="center center" ng-if="!companyNotSupport" ng-click="createTemplate();" ng-class="{disable:protect || !enable_installTemplate}"><span small-text="">템플릿 등록</span></div><div icon-field="createComponent" layout="" layout-align="center center" ng-if="!companyNotSupport" ng-click="createComponent();" ng-class="{disable:protect || !enable_installComponent}"><span small-text="">컴포넌트 등록</span></div><div icon-field="openExplorer" layout="" layout-align="center center" ng-click="openExplorer();" ng-class="{disable:protect || !enable_openExplorer}"><span small-text="">객체 속성</span></div><div icon-field="openUploadList" layout="" layout-align="center center" ng-click="openUploadContentsList();" ng-class="{disable:protect || !enable_openUploadList}"><span small-text="">업로드 목록</span></div></div></div><div empty-menu-group="" flex="" layout="column" layout-align="start center"><div group-menu-item="" layout="row" layout-align="start center" flex=""></div></div></div><div flex="" layout="column" animation-ng-if-parent=""><div middle-container="" ng-if="(!project && projectIsOpen!==undefined) && !projectIsOpen" layout="column" layout-align="center center" animation-ng-if="" style="position: fixed; width: 100%; height: 100%; top: 0; transition-delay: 5s;"><div emptyproject="" layout="column" layout-align="center center"><p>새 프로젝트를 생성 합니다.</p><md-button class="md-fab md-primary" ng-click="newProject()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" style="transform: rotate(45deg);"></md-icon></md-button></div></div><div middle-container="" ng-if="projectIsOpen" layout="row" flex=""><div ng-controller="TreeController" layout="row" style="position: relative; width: 200px;"><div layout="column" ng-if="documents.length>0"><div tree-header="" layout="row" layout-align="end center" style="position: relative;"><div flex=""></div><div sub-icon-field="anchor" layout="" layout-align="center center" title="현재 문서로 스크롤" ng-class="{disable: documents.length < 8}" ng-click="autoScrollSelectedPage();"><span small-text="right">현재 문서로 스크롤</span></div></div><div tree-container="" jj-scroller="" flex="" layout="column"><div flex="" layout="column" layout-align="start center"><div ng-repeat="uid in documents" layout="column" layout-align="center center" ng-class="{treeItemContainer: true, transition: useTransition}" ng-controller="TreeItemController" ng-switch="" on="state"><div jj-tree-item="" ng-switch-when="activate" document="{{ document }}" uid="{{ uid }}" index="{{ $index }}" drag-id="Move index of document" drop-id="Move index of document"></div><div jj-tree-item-virtual="" ng-switch-default=""></div></div></div></div></div><div tree-container="" layout="raw" layout-align="center center" ng-if="documents.length<1"><div layout="column" layout-align="center center" ng-if="project"><p>문서를 추가 합니다.</p><div add-button-big="" ng-click="addDocument()">+</div></div></div><div flex="" protect="{{ protect }}"></div></div><div layout="column" flex="" style="position: relative; overflow: hidden; z-index: 2;" ng-controller="GuideRulerController" class="scrollerStyle"><div jj-ruler=""></div><div screen-container="" flex="" layout="column" ng-controller="ScreenContainerController" ng-class="{transparentProtect: protect}" cursor="{{cursor}}"><div flex="" layout="column" zoomcontainer="" ng-class="{tempZoom: tempZoomStyle}" ng-style="tempZoomStyle"><div jj-screen="" flex=""></div></div></div><div display-ingroup-depth="" ng-controller="TopInfoController" ng-class="{protect:protect}"><div display-ingroup-depth-content="" ng-if="ingroupDepths.length > 0"><div depth-item="" ng-class="{last: $last}" style="display: inline-block;" ng-repeat="cDepth in ingroupDepths track by $index" ng-click="onClick_depth(cDepth);">{{cDepth.name || cDepth.group}}</div></div></div><div jj-guide="" ng-show="enable"></div></div><div jj-split-bar="v" drag="[\'next\', 300]" toggle="[\'next\', 50, 300]"></div><div category-container="left" layout="row" ng-controller="CategoryMenuController" style="max-width: 810px;"><div content-container="left" no-animation-ng-if-parent="" layout="raw" flex="" class="jj_form" style="position: relative;"><div flex="" jj-view-content-basic="" ng-if="contentView.name==ContentViewName.BASIC"></div><div flex="" jj-view-content-component="" ng-if="contentView.name==ContentViewName.COMPONENT"></div><div flex="" jj-view-content-image="" ng-if="contentView.name==ContentViewName.IMAGE"></div><div flex="" jj-view-content-background="" ng-if="contentView.name==ContentViewName.BACKGROUND"></div><div flex="" jj-view-content-template="" ng-if="contentView.name==ContentViewName.TEMPLATE"></div><div flex="" jj-view-content-config="" ng-if="contentView.name==ContentViewName.CONFIG"></div><div flex="" jj-view-content-layer="" ng-if="contentView.name==ContentViewName.LAYER"></div><div flex="" jj-view-content-info="" ng-if="contentView.name==ContentViewName.INFO"></div><div flex="" jj-view-content-property="" ng-if="contentView.name==ContentViewName.PROPERTY"></div><div flex="" jj-view-content-event="" ng-if="contentView.name==ContentViewName.EVENT"></div><div flex="" jj-view-content-layout="" ng-if="contentView.name==ContentViewName.LAYOUT"></div><div flex="" protect="{{ protect || !contentView.enable }}"></div></div><div category-menu-container="" layout="column" style="position: relative;"><div jj-category-menu-item="left" ng-repeat="category in categories" icon-field="fixedText" layout="" layout-align="center center" ng-style="{ flex: category.name?\'initial\':1, pointerEvents: category.name?\'initial\':\'none\' }"></div><div flex="" protect="{{ protect }}"></div></div></div></div></div><div bottom-container="" layout="row" layout-align="start center" style="z-index: 3;"><div jj-status-bar=""></div></div><div flex="" protect="{{ appProtect }}"></div></div>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("assetLibrary/jj-asset-library.html",'<div flex="" layout="raw" asset-admin=""><div flex="" layout="column"><div layout="raw" layout-align="start center"><md-button asset-add-button="" class="md-raised md-primary" ng-click="openFileDialogBox()">에셋 추가</md-button><md-button asset-remove-button="" class="md-accent" ng-class="{disable: (selectList.length<1)}" ng-click="removeAssets()">에셋 삭제</md-button><div filter-label="" ng-if="files">파일 : {{files.length}} 개</div><div filter-label="" ng-if="totalSize">(총 {{totalSize.num}} {{totalSize.unit}})</div><div flex=""></div><div filter-button="" ng-click="sort(\'name\')" ng-class="{select: (sortMode==\'name\')}">이름순</div><div filter-button="" ng-click="sort(\'size\')" ng-class="{select: (sortMode==\'size\')}">크기순</div><div filter-button="" ng-click="sort(\'type\')" ng-class="{select: (sortMode==\'type\')}">종류별</div></div><div flex="" layout="raw" layout-align="start start" style="overflow: auto;"><div flex="" layout="column" asset-list=""><div asset-list-item="" layout="raw" layout-align="start center" ng-repeat="item in files" ng-class="{sizeWarn:item.size>1048576}"><div copy-button="" jj-clipboard="{{ item.actualName }}"></div><div asset-select-button="" ng-click="selectToggle(item.uid);" ng-class="{select: isSelect(item.uid)}"><div><div></div></div></div><div asset-key="">{{ item.uid }}</div><div asset-icon="{{ item.type }}">{{ item.type }}</div><div flex="" asset-label="">{{ item.name }}</div><div asset-size="">{{ getSize(item.size) }}</div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("capsulize/jj-capsule-config.html",'<div layout="column" layout-align="center start"><div layout="raw" flex="" capsule-item-raw="" ng-repeat="name in properties" style="width: 100%;"><div capsule="data-label" flex="33">{{name}}</div><div ng-if="edit" capsule="data-value" flex=""><input ng-if="name !== \'multiSelect\'" type="text" ng-model="editor[name]" name="{{name}}" placeholder="{{ getPlaceholder(name) }}"><div ng-if="name === \'multiSelect\'" layout="raw"><input jj-capsulize-casting="" type="checkbox" name="{{ name }}" ng-model="editor[name]" ng-value="editor[name]" ng-pattern="\'(true|false)\'" style="width: 25px;margin-left: 1px;"> <label style="margin: 0 10px;">{{editor[name]}}</label></div></div><div ng-if="!edit" capsule="data-value" flex="">{{editor[name]}}</div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("capsulize/jj-capsule-view.html",'<div layout="raw" layout-align="start start"><label flex="33" layout-align="center center" title="{{ copyItem.label }}" capsule-editor-view-label="" ng-class="{link: !!(copyItem.desc)}" style="padding: 0;" ng-click="showMessage(copyItem.desc)">{{ copyItem.label }}</label><div style="width: 10px;"></div><div layout-align="start start" flex="" ng-click="$event.stopImmediatePropagation()"><div flex="" ng-if="copyItem.editorType===\'text\' || copyItem.editorType===\'number\'"><input jj-capsulize-casting="encoding" ng-model="copyItem.value" ng-model-options="{ allowInvalid: true, updateOn: \'blur\' }" update-on-enter="" title="{{ copyItem.value }}" name="{{copyItem.name}}" type="{{ copyItem.editor.inputType }}" ng-attr-placeholder="{{ placeholder }}" ng-pattern="copyItem.editor.pattern" ng-maxlength="copyItem.editor.max" ng-minlength="copyItem.editor.min" style="text-align: left;"></div><textarea flex="" ng-if="copyItem.editorType===\'textarea\'" jj-capsulize-casting="encoding" ng-model="copyItem.value" ng-model-options="{ allowInvalid: true, updateOn: \'blur\' }" ng-attr-placeholder="{{ placeholder }}" ng-pattern="copyItem.editor.pattern" ng-maxlength="copyItem.editor.max" ng-minlength="copyItem.editor.min" style="resize: vertical; text-align: left;"></textarea><div flex="" ng-if="copyItem.editorType===\'radio\'"><div ng-if="copyItem.editor.caption">{{ copyItem.editor.caption }}</div><md-radio-group jj-capsulize-casting="" ng-model="copyItem.value" aria-label="{{ copyItem.editor.caption }}"><md-radio-button aria-label="{{ copyItem.name }}" ng-repeat="option in copyItem.editor.data" ng-value="option.value" style="display: inline-block; margin: 0;">{{option.label}}</md-radio-button></md-radio-group></div><div flex="" ng-if="copyItem.editorType===\'select\'"><md-select jj-capsulize-casting="" ng-model="copyItem.value" aria-label="{{ copyItem.name }}" style="text-align: left;"><md-option ng-value="option.value" ng-repeat="option in copyItem.editor.data">{{ option.label }}</md-option></md-select></div><div flex="" layout="raw" ng-if="copyItem.editorType===\'checkbox\'"><input jj-capsulize-casting="" type="checkbox" id="{{ copyItem.name }}" ng-model="copyItem.value" ng-value="copyItem.value" style="width: 25px;min-width: 25px;margin-right:10px;"> <label flex="" ng-attr-for="{{ copyItem.name }}" style="text-align: left;">{{ copyItem.editor.label }}</label></div><div flex="" ng-if="copyItem.editorType===\'list\'" ng-class="{ default_value: isDefaultValue, error: isError }" style="min-height: 100px; max-height: 200px; overflow: auto; background-color: rgba(0,0,0,0.05); border-radius: 0px; padding: 0px;"><div ng-repeat="listItem in list" layout="raw" flex="" layout-align="start center" class="listItem" ng-class="$even ? \'odd\' : \'even\'"><input type="checkbox" id="data_{{$index}}" ng-model="listItem.select" ng-change="onListSelectChanged(listItem)" style="width: 25px; min-width: 25px; margin: 0px; padding: 0px;"> <label for="data_{{$index}}" layout="raw" flex="" layout-align="start center" title="{{ listItem.data.label }}" style="text-align: left; padding: 0; margin-left: 5px;">{{ listItem.data.label }}</label></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("capsulize/jj-capsulize-editor-popup.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" class="jj_form" ng-click="selectNone($event);"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div flex="" layout="column" content="" form-layout="" style="position: relative;"><div>캡슐화 속성 목록을 편집합니다. <span class="link" ng-click="openJJPage_api();">(캡슐화 기능 사용하기)</span></div><h3>{{info.name}} : {{info.uid}}</h3><div flex="" jj-capsulize-editor=""></div></div><div layout="column" content="" style="padding-top: 0;"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="importProperties($event)" class="md-raised md-accent" style="margin-right: 0;">설정 가져오기</md-button><div flex=""></div><md-button ng-click="cancel()">{{ config.no }}</md-button><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("capsulize/jj-capsulize-editor.html",'<div editortable=""><div capsule-item-container="" ng-class="{readOnly: schemaLock}"><div layout="raw" capsule-item-raw="" class="header"><div layout="column"><div capsule="type">Data Type</div><div capsule="editorType">Editor Type</div></div><div layout="column"><div layout="raw"><div capsule="name">Name</div><div capsule="label">Label</div></div><div capsule="desc">Description</div></div><div flex="" capsule="config">Editor Config</div><div flex="" capsule="editorData">Editor Data</div><div layout="column" style="width: 250px;"><div capsule="value">Default Value</div><div flex="" capsule="editorView">Preview</div></div><div capsule="del" ng-click="add()">추가</div></div><div style="position: relative;"><div jj-capsulize-item="" uid="{{info.uid}}" ng-repeat="item in items" item="item" index="{{$index}}"></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("capsulize/jj-capsulize-item.html",'<div layout="column" ng-class="{select: isEditMode}"><div layout="raw" capsule-item-raw="" ng-if="isEditMode" class="edit" ng-click="$event.stopImmediatePropagation()"><div layout="column"><div capsule="type" ng-class="{required: !availableEditorType}"><md-select ng-model="item.type" ng-change="dataTypeChange()"><md-option ng-value="dataType" ng-repeat="dataType in allowDataTypes">{{ dataType }}</md-option></md-select></div><div flex="" capsule="editorType" ng-class="{required: !availableEditorType, warn: !availableEditorType}"><md-select flex="" ng-model="item.editorType" ng-change="editorTypeChange()"><md-option ng-value="editorType" ng-repeat="editorType in allowEditorTypes">{{ editorType }}</md-option></md-select></div></div><div layout="column"><div layout="raw"><div capsule="name" ng-class="{required: !item.name, warn: !availableName}"><input type="text" required="" ng-model="item.name" name="name" ng-model-options="{ allowInvalid: true, debounce: 200 }" ng-required="true" placeholder="변수명"></div><div capsule="label"><input type="text" required="" ng-model="item.label" name="label" placeholder="표시 이름"></div></div><div layout="raw" flex=""><div capsule="desc"><textarea ng-model="item.desc" flex="" ng-model-options="{ allowInvalid: true }" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.max" ng-minlength="item.editor.min" placeholder="속성 도움말"></textarea></div></div></div><div flex="" capsule="config"><div jj-capsule-config="" edit="isEditMode" editor="item.editor" type="{{item.editorType}}"></div></div><div flex="" capsule="editorData" ng-class="{warn: useDataField && !availableDataField}"><div layout="raw" flex="" capsule-item-raw="" class="header"><div capsule="data-label" flex="33">Label</div><div capsule="data-value" flex="">Value</div><div capsule="data-del" ng-click="addData()"></div></div><div flex=""><div layout="raw" flex="" capsule-item-raw="" ng-repeat="list in item.editor.data"><div capsule="data-label" flex="33"><input type="text" ng-model="list.label" ng-required="true" placeholder="이름"></div><div capsule="data-value" flex=""><input jj-capsulize-casting="encoding" type="text" ng-model="list.value" ng-required="true" placeholder="값"></div><div capsule="data-del" ng-click="removeData($index)"></div></div></div></div><div layout="column" style="width: 250px;"><div capsule="value" ng-class="{required: !availableDefaultValue}"><textarea jj-capsulize-casting="encoding" ng-if="item.editorType===\'textarea\'" ng-model="item.value" ng-model-options="{ allowInvalid: true }" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.max" ng-minlength="item.editor.min" placeholder="기본값"></textarea><input jj-capsulize-casting="encoding" ng-if="item.editorType!==\'textarea\'" type="text" ng-model="item.value" name="value" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.max" ng-minlength="item.editor.min" placeholder="기본값"></div><div flex="" capsule="editorView" ng-class="{warn: !availableEditorType}"><div flex="" jj-capsule-view="" item="item" ng-if="availableEditorType"></div><div protect-container="" ng-if="!availableEditorType"><div protect="true"></div></div></div></div><div capsule="del" ng-click="remove($event);">삭제</div></div><div layout="raw" capsule-item-raw="" ng-if="!isEditMode" ng-click="select($event)"><div layout="column"><div capsule="type" ng-class="{required: !availableEditorType}">{{item.type}}</div><div flex="" capsule="editorType" ng-class="{required: !availableEditorType, warn: !availableEditorType}">{{item.editorType}}</div></div><div layout="column"><div layout="raw"><div capsule="name" ng-class="{required: !item.name, empty: !item.name, warn: !availableName}">{{item.name || \'변수명\'}}</div><div capsule="label" ng-class="{required: !item.label, empty: !item.label}">{{item.label || \'표시 이름\'}}</div></div><div layout="raw" flex=""><div capsule="desc" ng-class="{empty: !item.desc}">{{item.desc || \'속성 도움말\'}}</div></div></div><div flex="" capsule="config"><div jj-capsule-config="" edit="isEditMode" editor="item.editor" type="{{item.editorType}}"></div><div protect-container="" ng-if="!useConfigField"><div protect="true"></div></div></div><div flex="" capsule="editorData" ng-class="{warn: useDataField && !availableDataField}"><div layout="raw" flex="" capsule-item-raw="" class="header"><div capsule="data-label" flex="33">Label</div><div capsule="data-value" flex="">Value</div></div><div layout="raw" flex="" capsule-item-raw="" ng-repeat="list in item.editor.data"><div capsule="data-label" flex="33">{{list.label}}</div><div capsule="data-value" flex="">{{getDecodeDataValue(list.value)}}</div></div><div protect-container="" ng-if="!useDataField"><div protect="true"></div></div></div><div layout="column" style="width: 250px;"><div capsule="value" ng-class="{required: !availableDefaultValue, empty: !item.value}">{{getDecodeDefaultValue(item.value) || \'기본값\'}}</div><div flex="" capsule="editorView" ng-class="{warn: !availableEditorType}"><div flex="" jj-capsule-view="" item="item" ng-if="availableEditorType"></div><div protect-container="" ng-if="!availableEditorType"><div protect="true"></div></div></div></div><div capsule="del" ng-click="remove($event);">삭제</div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-category-menu-item.html",'<div ng-click="onClick()" class="svgIcon {{ category.name }} {{ state }} {{ activate }}"><span small-text="">{{category.label || category.name}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-background.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 0;"><div><div slidertitle="" panel-menu-area="" style="padding: 0px" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="" style="border: 0">기본 배경</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="Tree 보기" ng-class="{disable: listViewMode.background===\'tree\'}" ng-click="listViewModeChanged(\'tree\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="Box 보기" ng-class="{disable: listViewMode.background===\'box\'}" ng-click="listViewModeChanged(\'box\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="List 보기" ng-class="{disable: listViewMode.background===\'list\'}" ng-click="listViewModeChanged(\'list\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll}" ng-click="toggleSliderExtendAll()"></div></div></div><div><div jj-asset-list="" type="{{\'bundle\'}}" list-view-mode="{{listViewMode.background}}" slider="slider" change-slider-extend="changeSliderExtend(category, value, type)" list-name="{{dataName}}" list="data.master.items"></div><div string-box="" ng-if="!data.master.items || data.master.items.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!data.master.loaded" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>이미지 찾는중...</div></div><div flex="" ng-if="data.master.loaded" style="position: absolute;">등록된 이미지가 없습니다.</div></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-basic.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 0;"><div content-box="" ng-repeat="item in elementItems" layout="column" layout-align="center center"><div jj-content-item="" info="item"></div><div content-item-over="" flex=""></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-component.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 0;"><div jj-box-comp="" style="padding: 10px"></div><div class="jj_form_line_h"></div><div layout="raw" content-field="" style="padding: 10px;"><md-button class="md-raised md-primary" type="button" ng-class="{jj_form_disable: !installComplete}" ng-disabled="!installComplete" ng-click="importComponent()" style="margin: 0px 0px;width: 100%;">가져오기</md-button><div class="space"></div><md-button class="md-raised md-primary" type="button" ng-class="{jj_form_disable: (!userComponentItems || userComponentItems.length < 1)}" ng-disabled="(!userComponentItems || userComponentItems.length < 1)" ng-click="exportComponent()" style="margin: 0px 0px;width: 100%;">내보내기</md-button></div><div><div class="jj_form_line_h"></div><div slidertitle="" panel-menu-area="" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="">기본 컴포넌트</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="Tree 보기" ng-class="{disable: listViewMode.component===\'tree\'}" ng-click="listViewModeChanged(\'tree\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="listed box type" ng-class="{disable: listViewMode.component===\'box\'}" ng-click="listViewModeChanged(\'box\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="List 보기" ng-class="{disable: listViewMode.component===\'list\'}" ng-click="listViewModeChanged(\'list\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll}" ng-click="toggleSliderExtendAll()"></div></div></div><div jj-slider="true"><div jj-component-list="" list-view-mode="{{listViewMode.component}}" slider="slider" change-slider-extend="changeSliderExtend(category, value, type)" type="{{\'bundle\'}}" list-name="{{\'bundle\'}}" list="bundleData"></div><div string-box="" ng-if="!bundleComponentItems || bundleComponentItems.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!bundleComponentItems" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>컴포넌트 찾는중...</div></div><div flex="" ng-if="bundleComponentItems" style="position: absolute;">등록된 컴포넌트가 없습니다.</div></div></div></div><div ng-if="!companyNotSupport"><div class="jj_form_line_h"></div><div slidertitle="" panel-menu-area="" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="">사용자 등록 컴포넌트</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="listed tree type" ng-class="{disable: listViewMode.userComponent===\'tree\'}" ng-click="listViewModeChanged(\'tree\', \'user\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="listed box type" ng-class="{disable: listViewMode.userComponent===\'box\'}" ng-click="listViewModeChanged(\'box\', \'user\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="listed tree type" ng-class="{disable: listViewMode.userComponent===\'list\'}" ng-click="listViewModeChanged(\'list\', \'user\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll_user ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll_user}" ng-click="toggleSliderExtendAll(\'user\')"></div></div></div><div jj-slider="true"><div jj-component-list="" list-view-mode="{{listViewMode.userComponent}}" slider="slider_user" change-slider-extend="changeSliderExtend(category, value, type)" type="{{\'user\'}}" list-name="{{\'user\'}}" list="userData"></div><div string-box="" ng-if="!userComponentItems || userComponentItems.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!userComponentItems" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>컴포넌트 찾는중...</div></div><div flex="" ng-if="userComponentItems" style="position: absolute;">등록된 컴포넌트가 없습니다.</div></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-config.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" layout="column" style="padding: 0;"><div element-property=""><div jj-property-project="" class="propertyPanel"></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-event.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div flex="" content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" layout="column" style="padding: 0;"><div element-event=""></div></div></div><div flex="" protect="{{ protect }}"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-image.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 0;"><div><div slidertitle="" panel-menu-area="" style="padding: 0px" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="" style="border: 0">기본 이미지</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="Tree 보기" ng-class="{disable: listViewMode.image===\'tree\'}" ng-click="listViewModeChanged(\'tree\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="Box 보기" ng-class="{disable: listViewMode.image===\'box\'}" ng-click="listViewModeChanged(\'box\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="List 보기" ng-class="{disable: listViewMode.image===\'list\'}" ng-click="listViewModeChanged(\'list\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll}" ng-click="toggleSliderExtendAll()"></div></div></div><div><div jj-asset-list="" type="{{\'bundle\'}}" list-view-mode="{{listViewMode.image}}" slider="slider" change-slider-extend="changeSliderExtend(category, value, type)" list-name="{{dataName}}" list="data.image.items"></div><div string-box="" ng-if="!data.image.items || data.image.items.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!data.image.loaded" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>이미지 찾는중...</div></div><div flex="" ng-if="data.image.loaded" style="position: absolute;">등록된 이미지가 없습니다.</div></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-info.html",'<div layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ version }}</div><div content-icon="" layout="row" layout-align="end center"></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" layout="column"><div style="position: relative;"><div layout="column"><div style="font-weight: bold;">버전 다운로드 & 설치</div><div ng-if="!updater.isError"><div style="margin: 10px 0 5px;"><md-select flex="" ng-model="updater.select" aria-label="select version"><md-option ng-repeat="item in updater.versions" ng-value="item">{{updater.versionName + \' \' + item.version}}</md-option></md-select></div><div style="text-align: right;"><md-button ng-click="updateVersion()" class="md-raised md-primary" style="margin:0;">설치</md-button></div></div><div ng-if="updater.isError" string-box="" style="margin: 10px 0;">{{ updater.error }}</div></div><div style="" protect="{{ !updater.isError && (updater.versions.length<1) }}"></div></div><div style="height: 15px;"></div><div style="font-weight: bold;">도움말</div><ul style="padding: 0 0 0 25px;"><li class="link" ng-click="openShortcutsPage();">단축키 목록</li><li class="link" ng-click="openJJPage_api();">JJ API 도움말 (web)</li><li class="link" ng-click="openJJPage_issues();">Jik-ji 이슈관리 (web)</li><li class="link" ng-click="openJJBinder_api();">Jik-ji Binder API (web)</li></ul><div style="height: 15px;"></div><div style="font-weight: bold;">설정 정보</div><ul style="padding: 0 0 0 25px;"><li class="">Snap Sensitive (Grid): 1px</li><li class="">Snap Sensitive (Object) : 10px</li><li class="">자동 백업 : 10초후</li></ul></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-layer.html",'<div content-container="" layout="column" flex="" drop-id="Move index of layer item" ng-class="{ dragOver: isDragOver, dragging: isDragging }"><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div sub-icon-field="{{isFold?\'expand\' : \'collapse\'}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="collapseAllToggle();"><span small-text="left">레이어 {{isFold?\'펼치기\' : \'접기\'}}</span></div><div sub-icon-field="{{isHide?\'visible\' : \'hidden\'}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="showAllToggle();"><span small-text="">모든 요소 {{isHide?\'보이기\' : \'감추기\'}}</span></div><div sub-icon-field="{{isLock?\'unlock\' : \'lock\'}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="unlockAllToggle();"><span small-text="">모두 {{isLock?\'잠금 해제\' : \'잠금\'}}</span></div><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel" style="background-color: #FFFFFF;" ng-click="onClick_unSelectAll($event);"><div content-field="" layout="column" style="padding: 0px; min-width: 1000px;"><div jj-layer="root" ng-if="uid" uid="{{ uid }}" depth="-1" index="-1"></div><div layer-footer="" drop-id="Move index of layer item" ng-click="onClick_unSelectAll($event);"></div></div></div></div>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-layout.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div flex="" content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" layout="column" style="padding: 0;"><div element-operation=""><div jj-operation-layout="" class="layoutPanel"></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-property.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div flex="" content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div panel-menu-area="" layout="raw" state-select-tab="" ng-if="stateSelectVisible"><div flex="" layout="raw" layout-align="center center" panel-menu="" title="기본 상태 설정" ng-class="{select: status.state == \'normal\'}" style="cursor: default;"><input type="checkbox" checked="" disabled="" style="width: 20px; margin: 0 5px 0 0;"> <label for="normal" layout="raw" layout-align="start center" style="cursor: pointer;">기본</label> <input type="radio" id="normal" ng-model="status.state" ng-value="\'normal\'" ng-change="stateChange(\'normal\')" style="display:none;"></div><div flex="" layout="raw" layout-align="center center" panel-menu="" title="마우스 오버 상태 설정" ng-class="{select: status.state == \'over\', stateDisable: !status.overStateEnabled}" style="cursor: default;"><input type="checkbox" ng-model="status.overStateEnabled" ng-change="stateEnableChanged(\'over\')" style="width: 20px; margin: 0 5px 0 0;"> <label for="over" layout="raw" layout-align="start center" style="cursor: pointer;">오버</label> <input type="radio" id="over" ng-model="status.state" ng-value="\'over\'" ng-change="stateChange(\'over\')" style="display:none;"></div><div flex="" layout="raw" layout-align="center center" panel-menu="" title="마우스 다운 상태 설정" ng-class="{select: status.state == \'down\', stateDisable: !status.downStateEnabled}" style="cursor: default;"><input type="checkbox" ng-model="status.downStateEnabled" ng-change="stateEnableChanged(\'down\')" style="width: 20px; margin: 0 5px 0 0;"> <label for="down" layout="raw" layout-align="start center" style="cursor: pointer;">다운</label> <input type="radio" id="down" ng-model="status.state" ng-value="\'down\'" ng-change="stateChange(\'down\')" style="display:none"></div><div panel-menu="space"></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" layout="column" style="padding: 0;"><div element-property=""></div><div protect="{{status.protect}}"></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/jj-view-content-template.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div flex=""></div><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 0;"><div jj-box-template="" style="padding: 10px"></div><div class="jj_form_line_h"></div><div layout="raw" content-field="" style="padding: 10px;"><md-button class="md-raised md-primary" type="button" ng-class="{jj_form_disable: !installComplete}" ng-disabled="!installComplete" ng-click="importTemplate()" style="margin: 0px 0px;width: 100%;">가져오기</md-button><div class="space"></div><md-button class="md-raised md-primary" type="button" ng-class="{jj_form_disable: !installComplete}" ng-disabled="!installComplete" ng-click="exportTemplate()" style="margin: 0px 0px;width: 100%;">내보내기</md-button></div><div><div class="jj_form_line_h"></div><div slidertitle="" panel-menu-area="" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="">기본 템플릿</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="Tree 보기" ng-class="{disable: listViewMode.template===\'tree\'}" ng-click="listViewModeChanged(\'tree\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="listed box type" ng-class="{disable: listViewMode.template===\'box\'}" ng-click="listViewModeChanged(\'box\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="List 보기" ng-class="{disable: listViewMode.template===\'list\'}" ng-click="listViewModeChanged(\'list\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll}" ng-click="toggleSliderExtendAll()"></div></div></div><div jj-slider="true"><div jj-template-list="" list-view-mode="{{listViewMode.template}}" slider="slider" change-slider-extend="changeSliderExtend(category, value, type)" type="{{\'bundle\'}}" list-name="{{\'bundle\'}}" list="bundleData"></div><div string-box="" ng-if="!bundleTemplateItems || bundleTemplateItems.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!bundleTemplateItems" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>템플릿 찾는중...</div></div><div flex="" ng-if="bundleTemplateItems" style="position: absolute;">등록된 템플릿이 없습니다.</div></div></div></div><div ng-if="!companyNotSupport"><div class="jj_form_line_h"></div><div slidertitle="" panel-menu-area="" layout="raw" layout-align="start center" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}"><div panel-title="" flex="">사용자 등록 템플릿</div><div panel-title="" list-view-mode-button="" style="padding-right: 0;" layout="raw" layout-align="start center"><div sub-icon-field="tree-list" layout="" layout-align="center center" title="listed tree type" ng-class="{disable: listViewMode.userTemplate===\'tree\'}" ng-click="listViewModeChanged(\'tree\', \'user\')"></div><div sub-icon-field="box-list" layout="" layout-align="center center" title="listed box type" ng-class="{disable: listViewMode.userTemplate===\'box\'}" ng-click="listViewModeChanged(\'box\', \'user\')"></div><div sub-icon-field="category-list" layout="" layout-align="center center" title="listed tree type" ng-class="{disable: listViewMode.userTemplate===\'list\'}" ng-click="listViewModeChanged(\'list\', \'user\')"></div><div sub-icon-field="extend" layout="" layout-align="center center" title="{{sliderEextendAll_user ? \'전체 닫기\':\'전체 열기\'}}" ng-class="{extend: sliderEextendAll_user}" ng-click="toggleSliderExtendAll(\'user\')"></div></div></div><div jj-slider="true"><div jj-template-list="" list-view-mode="{{listViewMode.userTemplate}}" slider="slider_user" change-slider-extend="changeSliderExtend(category, value, type)" type="{{\'user\'}}" list-name="{{\'user\'}}" list="userData"></div><div string-box="" ng-if="!userTemplateItems || userTemplateItems.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!userTemplateItems" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>템플릿 찾는중...</div></div><div flex="" ng-if="userTemplateItems" style="position: absolute;">등록된 템플릿이 없습니다.</div></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/__jj-view-content-template.html",'<div content-container="" layout="column" flex=""><div layout="column" headerbox=""><div content-title="">{{ viewLabel }}</div><div content-icon="" layout="row" layout-align="end center"><div sub-icon-field="{{labelIcon}}" layout="" layout-align="center center" title="이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}" ng-class="{disable: counter < 1}" ng-click="toggleLabel();"><span small-text="">이름 {{(labelIcon===\'showLabel\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="{{outlineIcon}}" layout="" layout-align="center center" title="테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}" ng-class="{disable: counter < 1}" ng-click="toggleOutline();"><span small-text="">테두리 {{(outlineIcon===\'showOutline\')?\'감추기\':\'보이기\'}}</span></div><div sub-icon-field="remove" layout="" layout-align="center center" title="선택된 요소 삭제" ng-class="{disable: !selects||selects.length<1}" ng-click="removeSelectElement();"><span small-text="right">선택된 요소 삭제</span></div></div></div><div content-container="" flex="" class="contentPanel"><div content-field="" style="padding: 10px;"><md-button class="md-raised md-primary" type="button" ng-click="importTemplate()" style="margin: 0px 0px;width: 100%;">템플릿 불러오기</md-button></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:true, hideAnchor: true}">등록된 템플릿</div><div><div content-box="" ng-repeat="item in templateItems" layout="column" layout-align="center center" title=""><div jj-content-template="" info="item"></div></div><div string-box="" ng-if="!templateItems || templateItems.length < 1" animation-ng-if-parent="" style="min-height: 58px; width: auto; margin: 10px; padding: 10px;"><div layout="raw" layout-align="start center" ng-if="!templateLoaded" style="position: absolute;"><div busy="" style="margin: 10px 5px 10px;"></div><div>템플릿 찾는중...</div></div><div flex="" ng-if="templateLoaded" style="position: absolute;">등록된 템플릿이 없습니다.</div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("fileListEditor/jj-file-list-editor-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div layout="column" style="padding: 15px 15px 0 15px;"><div layout="raw" layout-align="start center" class="fileBox"><md-button class="md-raised md-primary" style="text-transform:none; margin-left: 0;" ng-click="openFileDialogBox(\'JS\')">JS 파일</md-button><md-button class="md-raised md-primary" style="text-transform:none; margin-left: 0;" ng-click="openFileDialogBox(\'FONT\')">폰트 파일</md-button><md-button class="md-raised md-primary" style="text-transform:none; margin-left: 0;" ng-click="openFileDialogBox(\'CSS\')">CSS 파일</md-button><input type="text" flex="" ng-model="input.url" title="url 주소를 추가합니다." placeholder="http://" style="height: 36px; padding: 1px 10px; font-size: 16px; min-width: 70px;"><md-button class="md-raised md-primary" style="text-transform:none; margin-right: 0;" ng-click="addURL()">URL 추가</md-button></div></div><div content="" layout="column" flex="" form-layout=""><div style="margin: 0 0 10px 0; padding: 0 10px;">체크박스가 선택된 파일만 문서에 적용됩니다.<br>목록의 순서에 따라 문서(페이지)에 파일이 로드됩니다.</div><div layout="raw" flex="" style="margin: 10px 0;"><div ng-controller="TreeController" layout="row" style="position: relative; width: 170px;"><div layout="column" ng-if="documents.length>0"><div tree-container="" jj-scroller="" flex="" layout="column"><div flex="" layout="column" layout-align="start center"><div ng-repeat="uid in documents" layout="column" layout-align="center center" ng-class="{treeItemContainer: true, transition: useTransition}" ng-controller="TreeItemController" ng-switch="" on="state"><div jj-tree-item="" ng-switch-when="activate" document="{{ document }}" uid="{{ uid }}" index="{{ $index }}"></div><div jj-tree-item-virtual="" ng-switch-default=""></div></div></div></div></div></div><div layout="column" flex=""><div layout="column" flex="" style="min-height: 108px;"><div listcontainertitle="">모든 문서에서 로드되는 파일</div><div flex="" listcontainer=""><div jj-file-list-item="" layout="raw" layout-align="center center" ng-repeat="item in projectFiles" key="{{ item.uid }}"></div></div></div><div jj-split-bar="h"></div><div layout="column" flex="" style="min-height: 108px;"><div listcontainertitle="">현재 문서에서만 로드되는 파일</div><div flex="" listcontainer=""><div jj-file-list-item="" layout="raw" layout-align="center center" ng-repeat="item in documentFiles" key="{{ item.uid }}"></div></div></div><div jj-split-bar="h"></div><div layout="column" flex="" style="min-height: 108px;"><div listcontainertitle="">사용하지 않는 파일</div><div flex="" listcontainer=""><div jj-file-list-item="" layout="raw" layout-align="center center" ng-repeat="item in disableFiles" key="{{ item.uid }}"></div></div></div></div></div><div layout="column"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="close()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("fileListEditor/jj-file-list-item.html",'<div drag-id="Move index of file item" drop-id="Move index of file item" dropdirection="{{dropDirection}}" ng-class="{dragging:isDragging, dragOver: isDragOver, global: data.item._global, notuse: !data.item._enable, error: data.item.error}" title="{{data.item.error}}"><input type="checkbox" enablecheck="" ng-model="data.item._enable" title="{{ data.item._enable }}" ng-class="{disable: data.item._global}"><label categorydisplay="{{(data.item._global)?\'project\': (data.item._enable)?\'document\':\'none\'}}" notghost="" ng-click="data.item._global = !data.item._global">{{(data.item._global)?\'모든 페이지에 적용됨\':(data.item._enable?\'현재 페이지에만 적용됨\':\'사용 안함\')}}</label><div flex="" itemdisplay="{{data.item.type}}" title="{{ label }}">{{ label }}</div><div editbutton="" ng-if="!isURL && data.item.type !== \'font\'" ng-click="editCode()"></div><div itemdisplay="template" notghost="" title="{{template ? (template + \' (템플릿)\'):\'원본\'}}" style="margin-right: 10px; width: 170px;">{{template ? (template + \' (템플릿)\'):\'원본\'}}</div><md-icon removebutton="" md-svg-src="./image/icons/ic_close_24px.svg" aria-label="remove file source" ng-click="unregist()"></md-icon></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("fileListEditor/jj-insert-template-check.html",'<div layout="column" layout-align="center center"><md-dialog style="display: none;"></md-dialog><div container="" layout="column" style="max-width: 800px; max-height: 80%;min-width: 600px; min-height: 200px;"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-if="config.closeButton" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><div content="" layout="column" flex="" form-layout=""><div style="padding: 0 10px; margin: 10px 0;line-height: 1.5em;">템플릿 파일을 복사합니다. 이전에 적용된 템플릿 파일들과 중복되는 파일이 있습니다.<br>다음 파일들은 <span style="background-color: rgba(125,125,125,1); border-radius: 20px; padding: 2px 10px; color: white; font-size: 0.9em;">{{config.newTemplate}}</span> 템플릿에 포함된 파일로 모두 교체 됩니다.<br>계속 진행 하시겠습니까?</div><div flex="" class="jj-file-list-item-define-style" style="padding: 0 10px; cursor: default; margin: 10px 0; overflow: auto; background-color: #F3F3F3;"><div layout="raw" layout-align="center center" style="border-bottom: 1px solid #ddd;" ng-repeat="item in config.overlapFiles"><div itemdisplay="template" title="{{ item.oldTemplate || \'원본 (현재 문서)\' }}" style="margin-right: 10px; width: 200px;">{{item.oldTemplate || \'원본 (현재문서)\'}}</div><div itemdisplay="js" flex="" title="{{ item.label }}">{{item.label}}</div></div></div><div layout="column"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="close(0)" class="md-primary">{{ config.cancel }}</md-button><md-button ng-click="close(1)" class="md-accent" style="margin-right: 0;">{{ config.ok }}</md-button></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/explorer-droplist.html",'<md-dialog aria-label="{{ config.title }}" modal="{{ config.modal }}" bigsize="" explorer-droplist="" explorer-tree-container="{{config.root}}" ng-style="config.style"><form style="width: 100%;height: 100%"><div layout="column" style="width: 100%;height: 100%"><md-toolbar ng-if="config.title"><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)" ng-if="config.closeButton"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><div jj-explorer-selector="droplist" config="config" close-function="close(code)"></div><div class="md-actions" footer="" layout="row" ng-if="config.showButton"><md-button ng-if="config.cancel" ng-click="close(-1)" class="md-primary">{{ config.cancel }}</md-button><md-button ng-if="config.no" ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-if="config.yes" ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/jj-explorer.html",'<div layout="column" explorer-tree-container="" class="popupApplication" ng-style="config.style"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="close();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button ng-if="config.closeButton" class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div layout="column" style="width: 100%;height: 100%"><div explorer-container="" flex="" layout="raw" layout-align="start center"><div explorer-selector=""><div jj-explorer-selector="" config="config" style="min-width: 100px; height: 100%;" close-function="close(code)"></div></div><div jj-split-bar="v"></div><div flex="" jj-explorer-view="" config="config"></div></div><div class="md-actions" layout="row" ng-if="config.showButton"><md-button ng-if="config.cancel" ng-click="close(-1)" class="md-primary">{{ config.cancel }}</md-button><md-button ng-if="config.no" ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-if="config.yes" ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("guide/jj-guide.html",'<div no-animation-ng-if-parent=""><div ng-if="!snapline && select.horizontal.length>0"><div guideline="horizontal" ng-repeat="pos in select.horizontal track by $index" ng-style="{top: pos}"></div></div><div ng-if="!snapline && select.vertical.length>0"><div guideline="vertical" ng-repeat="pos in select.vertical track by $index" ng-style="{left: pos}"></div></div><div ng-if="snapline && snapline.horizontal.length>0"><div snapline="horizontal" ng-repeat="pos in snapline.horizontal track by $index" ng-style="{top: pos}"></div></div><div ng-if="snapline && snapline.vertical.length>0"><div snapline="vertical" ng-repeat="pos in snapline.vertical track by $index" ng-style="{left: pos}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("guide/jj-ruler.html",'<div><div ruler-coner=""></div><div ruler-horizontal="" ng-style="ruler.horizontal.style"><div ng-style="ruler.horizontal.offsetStyle"><span ng-repeat="label in ruler.horizontal.labels track by $index" class="label" ng-style="ruler.horizontal.labelStyle">{{ label }}</span></div><div group-area="" ng-style="{left: ingroupArea.left, width: ingroupArea.width}"></div><div guideline="vertical" ng-if="mouse.x" ng-style="{left: mouse.x}"></div></div><div ruler-vertical="" ng-style="ruler.vertical.style"><div ng-style="ruler.vertical.offsetStyle"><span ng-repeat="label in ruler.vertical.labels track by $index" class="label" ng-style="ruler.vertical.labelStyle">{{ label }}</span></div><div group-area="" ng-style="{top: ingroupArea.top, height: ingroupArea.height}"></div><div guideline="horizontal" ng-if="mouse.y" ng-style="{top: mouse.y}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layer/jj-layer-item.html",'<div dropdirection="{{dropDirection}}" ng-class="{ dragOver: isDragOver, isEditGroup: isEditGroup, isGroup: item.isGroup, selected: item.selected }" title="{{item.uid}}" layout="raw" layout-align="start center"><div visiblebutton="" ng-if="!isRoot" icon="{{layer.isHide?\'hide\':\'show\'}}" ng-click="onClick_visibleButton();" notghost=""></div><div tab="" ng-if="depth>0" ng-style="{width: depth*tabWidth}" ng-click="onClick_label($event);" notghost=""></div><div foldbutton="" ng-if="!isRoot" icon="{{layer.isFold?\'expand\':\'collapse\'}}" ng-click="onClick_foldButton();" notghost=""></div><div typeicon="" icon="{{ item.type }}"></div><div lockbutton="" ng-if="!isRoot" icon="{{layer.isLock?\'lock\':\'unlock\'}}" ng-click="onClick_lockButton();" notghost=""></div><div label="" flex="" ng-click="onClick_label($event);" ng-dblclick="onDblclick_label($event);">{{item.name}}<input labeleditor="" ng-if="!isRoot && contenteditable" flex="" type="text" ng-model="item.name" ng-model-options="{ allowInvalid: false, updateOn: \'default\' }" required="" ng-focus="onFocus($event)" ng-blur="onBlur($event)"></div><div disable="{{ !selectable }}"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layer/jj-layer.html",'<div ng-class="{ drag: drag, isGroup: isGroup, fold: layer.isFold, hide: layer.isHide, lock: layer.isLock, selectable: selectable }"><div jj-layer-item="" drag-id="Move index of layer item" drop-id="Move index of layer item"></div><div jj-layer="" ng-if="childIndexes && childIndexes.length>0" ng-repeat="item in childIndexes" uid="{{ item.uid }}" index="{{ item.index }}" depth="{{ item.depth }}"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/egg.html",'<md-dialog aria-label="Hi~! I\'m developer." style="min-width: 650px;"><form style="overflow: hidden;"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.version }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content style="padding-bottom: 0;"><div layout="raw"><div style="max-width: 200px;max-height: 200px; padding: 15px; border-radius: 10px; border: 2px solid #333; background: #333; width: 200px; height: 200px;"><div style="width: 100%; height: 100%; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQoAAAFmCAMAAACiIyTaAAABv1BMVEUAAAB5S0dJSkpISkpLTU3pSzzoTD3oSzzoTD3kSjvoTD1GRUbeSDpFREVCQULpSzzoTD3c3d3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsAAznW+UfsuR16wT9sCCGStKEhkB+kba4jKawrBFNKLHREUvOME5a1q5VglnCXsPsGCaN04myYAy5Fz9xae5b0ySlputURksDVCxigzFarZ2U6IIlDAQwA9xqltAsycKlciTvcATbh6/QhFBTWMI2mAoqITaPWRjju2Xtkh0naIk5o20S06gygxY0js8WtQguycJ9VILElBJXhKZp5sGH541arfF8eEA0zbBFxXi7QyPp9kolbFD44/GzvUatsffm+BC+s7kWKqVpMlrMEWk7nTfK1jFNKKW2K8Klw5qu6xGAvTwxYRyFL866W/cO6ycoITQ+aOgFNXt5+rGU2TWZFuECu6zPUVxuilTOE0Ko6ggljiHWWolIj96JiO19w2ttWyje7peWONzT9RoCxKBcZtegkCMUE1DiSgSnV/4oyVih4AN32JgLAcPGw4ZxfEE1kSLfW962haJ025AzIrmuH/EkcW1KaDJFLWT207tciV6aUkoNt4iX8BhrH46He3rU4MP3WRMpMtoqRSzP2LcLZud5SRcJ8kakH/Pq6ZiUkCSvsks5L8P88PxxQoUpbM2u6Sxc/YPJmsgRzxQwCtF4irzfaqkKfVR00A/cEg0wGSM/iAr3fdEMYQuSpT1f/tTiCjdFGBNCeM10tDeFEi+0Au/K8J9qjqicr7ermTw9PnEqJP/Ic8Tk5cJkKTKpSiFp9/uaMEXMTFGYlEdX06nG8bzM7kPN5g11CylaZ/suN8WLUgqC5HOV3xQqOyqzRdazpC/V74hKkZXtw9H2ioF6rgkciDfAAwYpfnrW5kXzhzDFl5Lo6SI5VxkyhNki70qvmzcKKSYJ5fmB8eofNA58B5GonO5+uHE/9az3hRSOI+xVJcfHOSJDSEoVVFrS3xK6VxT4WQpKkOJNisoWNTSB43IeAKWe99OTjTPE6hmFFNpn5Fkij2qmVkpB4jNf4r4engP5ISghSoXm7uk83Hc8WBuqPGaIW0jxY2MpWiEvFZhoFXJXkOsfCynUuRQTX/Iy5AqfXsUVKUgtwmxgUF9CQ+HQ9xyN182Wt3nV5BO3I5Qignc+xxtBrh9UpZhaVXoJB2X3CynyqhSfYZjEPOL40KQHNVQCskbdXopR4QpXG6IUMK0aMvI9zJkjrZxZkHSmWHJbyHVeNatS0CjCcHUYPlRiJymwl3IpBAryGkpRcUVGe5a0xSn2Uu93KdRGVEMIXcqZkePsJgUmyDL5coJkBKWQc0x2G10hOojD5jzLwCbo7pIgOHdbT324IIXcicXNqiuIXdji+E9SvBPNdLyxFH7pCrMWrWduGNhML0CKx+gKnGIdrpciikwhxWTjKZYfnjuGWNysl2LImcnFuQKlMJ2/ZEhDf8Lzwz3P/c2nWCquxtaKrFNsIKxsfpNcKx5jM50XC5cHHK2P1y4G+Hy0uRQKLdfoz/T1pnDLDQvWTD1Ptitwtlmux1y+KkdgvxOmcGHtuPkaZMwzxNZMXV9ttz2nWI2x/MDZpvQOYn2jWWGLYhPL0Z6sDJhtVwhTTLfYu/HzBIgLlQ/0qLFCiUjVbLFGZ4hHvuRV+h0e6ziu2sLW+L4CQqza+c60gZsrGwBcZ3NbMMfpjSUl9E8aJ6YghfwNCzwu7Y64FERsbrpvFp2s60OhBCR0Gm4hhWfNUiDmjvsYLTDD9/MpBVYKGo99T5G7BrlWFraU8CbCtdBg6YHVk82+P6ISajrbbm8zT6A7iRwxQWY9Qmb9ia3h+RhhSEa+7AOy+xgrFSkiRs8+el7TORovjhzNFUdCBqbypj2EZKqD54+fnjUizhztPTks844rQeOZZcm+h/RAxGrRuIgCtMBzTfPju+Ph8PjdJ1MrLWEzJabg323QHSWUlQsuM5B9PjgaDodHB5/d4tQUuwcgDn3p52NXy1jPEkJQCzzs5nAqp/8ki3u+shUsfxajFqx6IrgQqARNFiqFnD9mGigKHoSUWrgGwhXfiHTGTdgNITaSBTEyuwvERQBpplgXcN3kER5gkVhosXzpBqNXq4ea21XOvxKTOTK4V3ARZ+m3KuMWpzwYSlQXBxDhOkZx1O0rW8OyZqAFsf9AzJ+dTLreRVxZvPFbaSu1oKZd+hfDtVUCSuCgbQi8yLKeGITgSLB7yJXiZvWW4lkci4ggNBY0otCBkjgNt75ogtebCF1LPAfNoGSiElJmWDjzRnjdMEsKkwLmQauqzaCqJvueuZd+6yo7wvcnSUZXEZcDkCb5CiWaUqS4/nttU2YsWFSDgb/wMbN8FpuyNZrzljpKY7pAjKkBlsvOVt2FfHhJBq4vDlyexqKp8QDxiyRmY9ZWgh2kgH9UB9/1aJJViRGsHk8VTD7pl96vlaPWbNbb7L5tOIuTtBwnHLE0ice9rlWvN/vNtrID+oFSh4KRZ0mcVYi5KFmckHxuuTrEchGXsa6hg4N+UAc1fOtsMovjNCOIDHSYTULfr9eD/o5KtJV+v6/UrW4vHzM1CGKuwzhnF4WZ0kGgKNImm4grGGo7GLzqQyye73vhZJbFgDRN2Us2m5xZXR/ifPUqALl2Q70JD2jXgaiXT0mK9Cmd5t985rg2/ApKLXWyiVLMndnvdAYBqGH5vhKO8sl4Op2OJ/ko9JghlGBwOoDf2hntetDpwDsFfqsXFvTAPwq/wQ+Av9l/1Rk08QEyJ5u4HkMxTl8N+k2lbYEcvsXAXj2lCZ457exqCXzA4LTD+BVOz/nbLD8Hp6eDJj5A8v0jvOteFeO0A3JAyjabnuc1mwFECTqcdsDdyj+iDTkm+KFSM3oQgfF3QCMUQt60AnFvKValP2BqAF4VgK/gB1BHMNDdASQB8iN9B2oE5AhC/ieFbq0YuDbY4BULtcNjhVH8H0KgGAU9Azxkzh8oVSFkX9tc/1FbVsqDAYuXx9ms/xchkF/hagP7vDat55f3v7rdXJvUbKoTADDO/wlGHxT07FFrIfEDIXf+WOMY2r+4O7sepYEoDHPjD/AjMVEvvDFeGOOFCXXiRzCCpSC2BlTUVmtrjbXVVqPWr9oYKEgwuqg/2HM6wCCWqSKOxGcTN7iIO++858xpOXt28zqwly9W+dfKiv9muA2X4rLiv/5h9AVElRVYbv5zVH65UtzsLmSWid6FQvOvosrdKxrnol/YGAv+MJPO1SehJWtd7e/oocJLd2XrrfvwnF5ehcjpaQc5UmjDdyRwX8PlEg4r2KAgqMJNrWyEo0Ah5PEbjhQCB3oc4sXHm6cEOQN6RFYLBy3gNZSqrquAKsuZCHIfVBicIZS7nzhSCPw50z1cKb6ROcqXgRtGRh+3VLvZ1bRfFEXNBLiCCmCkWcbbnhs0yAKfOa4QOdqEN4u4ef1jm/xIu/HFDwbvezh3wmpd1TRYIpgFPuNFN+PKFU1DF2Watco4DKPnDgJ/rJBlntrXOFKIG2HBHxan3/5GViNVg4H7fgSyvI0MwAL6/b6FwMMoegujQEau73wZK+3Vr1LxdN5pKugSnV9uYoQkDbKK9vCHR+22AozHYwWAR2TKu2+Ex0vb48RHYZuJsHKz2fRSsorUe0F+gZ3T6UuyivqOadpPOFKInI61n19jffKGq5boeRNSjFIxPXN4i+Rxfif2Ejvm3C8tLCvEVd7NTsWbKORnGhPPtk2JFDL0KhXbMz/u1JQfJXrxOU08E74I8bEVZUXRSCz9ie3FO8tLrsJ22pWKGddJASkogZheEqfDybfPyLfJMI1tD1+iYldaenkrygpsvOHR0S/apmcPP9fnfqh9HtqwnYhXoMX5GJWg2KbpAaZHP5l2BaGm2IqyonCOoH7VtiuJ5+Ge7uzgdsKDpAJQLV6S1dxIvEoB1BRbUVbQG738AzXbvwQ2c76dDBNTYi41zIkVHswUW1FWFM9UbDZjm7MWTImTz7dgVhCZU699ntCcWGwKfDdsO8oKvNHLp6W3QAseJnjFjuM0HQ4nk+Ew/YgxBOYpxqY1xXaUFb8ynFgvx3bhmhLTnIdQwp7Ox/7EV0Lwb8ktvtHbolpsHEwUeMN7S8oKWnn/qS/sJDFzSBLb5ivRLHMRPENvl6au7wubSgCZ4iOkikfQEE559GiYpmkcT7+e2GsqIQsdxHokvNJVf8EXl5d2OKEapNCz/uqrOwgcwJ/jAMEF9/3XVw/vDSGP/qSHXawEzuEUOrZ597uBcaVb7Av9TcVeLB0rH9M7r95fcOYLDy4EFxgBMFXHCdyvDx9hbWb+hhKq1u1HwdGSOPZVpXftgQE3XQto6q03M2N4SXrjAy4Tt76QIMieOvh6LzaTqRCXr/KVULua4dbfvZOOlIRRkyQUw7WKp0fq+pMYxbDN4VffRxv8DgHKcSMxs8Lqk67zI0OLBqRdr0rS7pIojklIVWorI7VQjI5efoMlxMOxf2EtnPHXGE6Viy29yU8RUyGQfSVB1CRKtd4eh/A9FGUMiBIz9p0L66LseJef6Do3RVihj4MXq1JGrSSGfdKMarVNfBSjMEqufgrG6yrhjA+AEJ3VOtzULDcbblmVZgjKnLslRlVCMSxOAu00qRiGC2G/lhBOKOsdTmAY4QCFQEswDpcEQE3BjCHBtzECMfLrjPvYkYVqaLIxCjBx/o4Mju+4YV9TVxtCDgOC1KuLSgjJnMwUTAy8K+UaK+aXQ38W7R9TNa0fjVzHZ8dp0VEauKGh0rm+0KWZZ4iRTxBFokIItQUzBQO0oGJ0c5JGE3uToUsNu6dkWJYRhSMX9xtwKFhY4QfFpwWW28P58BoK0cEerKV+drl7sw+GoDRAiGWOl/46NYnBjNHIxIhyMyh2MmZqlFGNbHUWCIJvggHogQwwiguMemEYGRZ9opr96xb2ri4HRuQqBGBZYomiOmvzpmBBgvhh/2a+NcrQi43tyR3sKpNxnZqctRz0rTl9WCR+CZCpCrRDEYTodBb6TFhgIGcWhBCaLWpSPlXpDN2iUVTudtXcQMG2y+u4sHImCH2/fAlVzYwET6A93A/g+Z3mYklpve1hYPAtgRwr/VWOSsAqY0wdO3aN/EDBPcbGb6oHCoJ0gHL2gTQBEAFVwEZYtFGHhQVUUgOyCAqxkr2lv8heiQNmjClOWO7mqEG7ULEfPNOD9scjtCxFrs4a2Z/Q5LKYHqwQ8wMl5+AQmzlPSAjfGBTFDcu5JwrNg9lipz3QjKx7+wmAWYXpoMrwSgYNC44lhGZOZopiY2CgRCqsQc0PFZRjJsT0TwpGD2bXeQfWTaxHHAJwLCE6cx6TOLCjhOG7b/tavhyoxqx/fW4PCBlMIdP0gN14mgp1tUIY/IOD8ZevUGtSEbhTDbKIMhiFlpwrB64ZswNllkg7syMTVXBdn+TRKLQE/wp188cHP2MwHBflyGvmxMVTOjMRICSgNTPqLajAzxLibbE397/nZwyGAnJAMyftuVNzmxJpF59qRaHrKGQl7GpcvC34pijOGIxxkPUu4prBIzOu6FewKU/t4/XJgHnhTy3BblwIMAUnY3C2dewM3F4vjCIDicLwSc913YHPcwInS3CpsjpLUE3BNwafl6dOp08JY3OWQE6WNs5h6TdhRwmXhxdPIxcfrm8J0XXWbonD2sZ4dun0jLM3CAfOpZfozHlEWgPMGDyeoyMYF58THlhUrcOxf26KQmM8O3V6mVPPNpYlGOe3wBQFRwlTggFD/FdmCWldjoo8Pvj1Vn7c1xuQJ5Y4C+ngjLJJSyA1sccH3xh5J0GVSLeXpaiRKlBv/CTELykhxBbHpfXIzxgKCgF//Z25M35tGojieP2hsy1CjSlOUER/GEVG6Q+VPc+bg8BFLmPVKQyMQQ9GQQgUhTXSigT0L7epc3e7O7WN34EfxjYGG+u3l++99y7vhRWWEooJndK52Xh9wv9iUeitxN0S2YSbvGZS6JTO3TjqM7yq7SMWtClC7LuLXUh2wA0KJqxkv/aSCGLPssBvH3FAm6DfZ+eqF4y45ohJ22NqL4nhyFPmxC+KoG6Mcei8xYKpS55p/0Ztlxj2POeG+FOgQUC1EEvcI8YP/JycCY/H1CQIY+sHV1LGGwVUE89rTZLz6OJp5ZkwImfT611FbXcYEA7BZnxFygQBWf3bUpKxLPAVm6gvCAjLf4XchCRsCCpJlnqp9VAxhbxQOOgREnbGVxwwSUB6jaD8vnf6SZQlwULOcPi5LKUkKcuSBFF/hxyex0TFhBYqV4I2QocWIiEgu43dj6/eHL99+UWUUsBKOOHjZRVy2Rv89Vv1V3seKSYLIqUozahY0EYkgp8zY4RAr4Fvxz9vzflSlgJWtbhfjV+ozqrekSTPLRZZOiWhpispZrQRrDATEBhVqD2qTl1WMzBlGYEORK5dnFW8/VpGeksxpFDxrFhKodKJoA3Qron2zcEySP71EJk3pyMdeKO6P16dyoHnPCRLi4WialWI6aZSTDnH+qbeOy+eDnms2yJgMxqO38m+p4xTZDRVlMdpRouMNoI95xzrm1qKR+dS6PG0sAbbarR9ueMpXiwlUNny8/LrPKdN2JfPjMSUcMRVHLD3EtxuuW306j3oh42AcLCMX5CDpNCnYrdeWj1UwE7KbmMJVIpUS/EQLsV1c3YBuOu6CZdiwjnaN3VWvgWeGXbHbuuNySHLaImYr76PKc6ytdxTh90V78Uh4XhgNoyDhuq1rF7W0JUiU5mKiWZTolhlM0oXa0vxlGvmjHDsXG4N7oAnP3WsVFXHFdUHqcWc0uznjrIeMjngmgIuhZ45chcSampaTvnbXBVCzXOKp9kGUiQRN0iRUvSsmSNN7OzA5h+kKGhW0OoKUVUAPqN1YAU3mEClsEbctaA912On/q0vEJrQJE2nlXHm87VXBcu5wROkFLvWdIlb0Kjixh+kmOdiQtVnIhWvL8WUGzw7lARj1xqpMIZOUez8Toq5SlORFUSUZ+kio1mepvQXdAaiiROC0bcj5SbSKq7rswAM+/I9N1kwgtG3R4N2kUM77qCl0BkI3jeH9lSeG8Co4qQBlyLll3gKlGKkrQ4UWYwN18RLMeGXOAL65sCJlbdwI+I6cCl02I33zcB5Ads4q2ihpZDJEdeAq96BM+Oui5sF1kRLkcTcQgGlcEoM92BzA8fX0FKwBbf4gJeiDTKLbWvwFlgKxS2OEkkgAnd47jZqCG8bL8UZt4lgvhm7OVQXZRVdtBTmnVh434xDvYUAMrJrYzPsRktxKLgGXvWOQsfuxqgZvE20FKzgDmdIKdwqNcQqdM14hwDYxQq8b4rQTR1uYqziXgMuxUPuEiVoKTqG82Osoo2X4gV3KRhMCjdgvo2ZUd1F3eVsFitccrgU1xGTalvWFGSsFGzOPTyES9HcAwRZbe8U5FCApEi5h4NEgqXY2gMEWSfeBxWFEQGwixX4uyxCT3X2FiAXM9O6mCBYDVNo3xShZx88AbimuQ8FhGDf6pdC+2YU+q7zO4ABvB2kFNo1Xc7gUnRM8wc8G6YFl2LGDfBHZLG3EncTMM2+CWok08jcu4OQJAiBd3W36xa7/cHJiCBIXcQyzwqZIAiB1/Pu1nVNv/UOCYLwpaYCpQQF/p1wq65reo+W+gTCtc4MpgQNnFSqfrzZsfZSvBRCsMg6MxWEYuR/mknrnx85d99qGwIh2A/qzq5HaSAKwyzg+lFbjRGVKKKg0Wji7U4nUGMCE1i7vWj0grDZvSHWkOyFgU3YcOEfUH+zM23paT3TUsaJhpfxY4F1Z56+c86ZKbXTs8zWvz4Ur+Tx/9ZfR807mlEAi5EHKzGdV4+9la+lnqpFTeQrjTt6wGJTgDO7h0mo6758qt9UjJqgh7pRAItxdA7AtcdAQoNeys92PlGsNUHX9KMAFuJjSGcjWyuJ3jP5vsvJgfpmBf4Hno2PR1pZ9PgcGeojEV7xvcrduFf/ZDfeFHx2OeRHcjzSyGKgq6Do8Y4NhtPJjFo5Ye+68mYFDjam45HFbDI94vCPtfliMNBhhuPBdHIeMM/3GTXkKO6qJhCcjU1CCP9ZrsdxXA57tj3uHf1vjY7Du3Vdzi8Cz/U9RkKhj9YpZtMbebnUIoRQ0Th6h1zMr6YD0RFVHjq8MB4Nl/MLwjzX8Ta9o6Qud/g91QSCc6kR/6zwF3NcnwWL86vphx7noRBO1RkICLwUWS0ns+ekf3bWd2gMgTcuU34z8weqCQSH3Spwj3+mf3Z25gYX5xMeTgUQMWf0M4HJMI5+hIBwfrFgjnCn5zuOA53if+lWEArFbPokL5fWwBXxg3fCd6IeLTiQq+XlahAeMp50R9oIRAjGI54fLpeTBEIYGChlDpdHwa+kmndf92uq5whxiQauCBVsDkgYTh1ffMWCi9l8spwOB0fxMTzuqVAZ9XrjEMD4+IgjWE7mnAD1OPoNBEKjJp6MbRG3Gjquitn0Uf6d7pox9sgTkSm8AGZpjER0lgTPZ+fzydXldPVhcMSHFXIJx8bhCI026gkdj7ngHSM+/tX08ooTmD0PiAcE4HDELQhtwYIEDjHR1qTiMv1h/p3uOhlXBAxmKUwdQBJ232EkWDy/mJ0LLnwCTaer1XA4HAw+DDb6wNtwuFpNuf2XVxMx+tnFIqAcQOi0tAkAQsKCUkeIwnNmXuC7o5pLcVnSzbiCRJM0/hIgwe+hmKDi+Fzh+xkTpg6CYLFRwEVp+D54o+exxAOZgSNXxIeEJU+w3FvcP1XNpXh6taEbsTF9YUxwBaYBr23EQnnM20h8IURiwbiBMsWuyNrC9xJIzdwNuXu6cqlAAR2MTOHEvUG931CAl8AnNPs8jCyVmxCBXFck0SJ+KYviLlpPqZ4DOTnMooBeUOanTIE6mwwXGowUhpQ5xPA0JpAbK5Jo4W3+5Wb+dH98++mNQ4VrgzDHdqr/wSaHFbki28QDuwJ5fldXUAjgopGuDAXo5GnZ8gLqMzy7LOhSHDQD6J0kcqKWdUWWX/yKgisIpHXx92pO5APd3bWswDH3gPwRtvEBlroCDVrFFRgbvAQWhagJJRbWLYUl+uc7mallxB2B6VnaFXiQGXxydvhb5a6gJM5mXDV81TDWQ6Ub+t5M5dODsN5MgrZkwFtdQQtiBQaHeMldQWmSzqql7t99U/E2zw/uPkqzyJoC2s6ugO/CxIpcgV+CIsfKt3hxhXFQa7VMVGHJKG6irtkk2QJPwRUYDn4WP13wGlQ5FvpImVxPUgwaVct488IRem2VsdSNzXd2CJT9qIulXQENCG1pGCqqvi18wlOuj+KoNqrGuxevnYxeV1GxiZUutGI75h78Qldso4Ma/gO30BZG2Rv9f/rYfeHkyMoniVd1RrRFALsl8vEpHF7USiOj1POrKAHkojhd/3TSes8fwALq7q1VSUMgZUFRR2MaBc4o08ojI9QwUVWQr9NfP2ME4sFbWo2imuT2n7Wq4Ti4YFQZX7EjyiNrNtAK+zQ8/Ken+Siy8sRqOYwX+NQYrixAjTeiCwoD3M0RZd/araRltizj3fqU6+OX9bePMhTffmYYhLsoQkSEQROtxop3Ry28HtXWdkwtzVZSGyR50fnprX+t18537+OnP29sxRl95Si8eH+IhiKhqNgrbeFUXHyhv1lHsUG9qbuCinOktaQ2AP0Ucn6uIxSfBAIucW/Ab99+rRMGBBTDYFX0iZutm+a1droO1kyiXLAgtF6rvfMdrPcxkPVpSIADiRisKSE/fhBggEQthALZAss00vsP/94WpG3WXmAGkBOEK758+8UJcAScAYewXU1AgXRYKYKhf3IA2WIQ3UbFTByBkmIcDCIXEN5Kq4pQoPqqwBm6GwAuApElIc8JCuoiFGX3Rw8MnRTK5STSCQ9denagnKCsJkZR/mIKq6PNGqVyUjdKeA2gwBhCoCwGyVRlN7BRbxKiwRHbcxJptjdbVW+cWAwY6JApK7FunpQ/mdJq/zULHCvQm9qpZZcTCzDoUUNWeN99dLLDFQSm1VW3RvaMCCXxI2uIzKqrBiT0qipbmZ5UDm99hi3ishOFosdOdURWECHAEOlQwSjRLCvar8Cl5sGOl1K0OA2k7Y4AYmklz3csE5nQifdYdctAu1jq/0VjtU2yKuOIZNRYzXqjIhGYQq/qf5yFf3LyN5ftMpIVLRMj5K7oGBEHrNfxnr9c1POJmrrJNtjN29E291/817YHjCBtjRFyV9QquXpRND+oP5u4ao7pJDt6h3ejHfKH3BfXNaGgRY4odIVZkQnqCpIj5o7shQILWJBd5+fdH8Xl9uGdGxVNKFABhlefu7vCKEBBxR1jR0SJBTtIbZzDuWM9KIxKw6p3iJDcEVBhsvIorPxYQd2FzXXk+Qossp/nOrl9qBNFPS6Kqka9G6dagJGo0zaqtequKOQh0x3YQh98FRaZOA0gdKEAmY2WZRj1er0dqV43DKvaMOOypDyKlgibRCp3aUcaqvgiW8vpRlFa5VwBlbd8eszsjQaeszMLa+9QmHmxwvN6dqKhu3MVZuwdikoOCtqf2ylN+ozspvr+oXgtLbypQ8Z2WvM+KS0qirbu/qF4IUXB+is7q1mf0HIgWH8280hn/1C8k6Jw5/afOndLWsKf2xOXNPcPhSFZhFD3uW2rsaCuN+XTib/V3DsUFkZBPf/IlmhWogR3A/GtE46itncoqhJX9K9smY7ZVhb9qBhZchSNvUOBy03qP7flGjg+3RIw7VCXPiHVvUOBy03mfrBzNCxajlA/CbZThxBr71D8budsXtMIwjA+prmJewl7iLD4EREjIiqWzAx1logOWoY5zC30sJcFoeDJBOLNP71jd+tE96Oj3dK8JT+vfv6YZ/Z5dd3SaceiIiCZzHm2C7H6drib5LgMTsVpx6KKkhxmjNEME+uluRfnuAZPxUnH4mJO8pgrSVO3iYAYFlTiO3gqukaFmT1yeJ6kmJDHnWy5kvgWngpTN008cgkSLqhSz+SIBsMYngpTNzPjkT+OUDzhpxPLWmFcAafiqG6KJ5Ikv4JTLoJFwpbSrwpOxZu6ScWaGOwyQuUkoS8aQjxwKlzTsbiYESvMOEKZSLT0eAhxwKmoMI35OtOSjaBmEE2y1SrK4FQc6iZlckFsWTBFMY0G0QTRPHYNTsWhbvLJC7FnrtiKpywjM4/V4KmI6yY1LcmKRzkRW5LBK8O4CU9FXDfZipzHXL7keOJwVXA2J0Vg5rFbeCr6P4sF5w+kOBZUwlWBC10Vy43EHJ6KeAhR30iBNBhEFQ7TmB/OiyFUEFVcRR1LbEmBBAKiCjdW8UQK5DtIFZ+YhuuG9aGiFKsIPlTEQ4gKSYGEMFVEp7GyBimOJZYYA1TR/alCbpakMJ4EyHEs7liSfiFF8aw4xlcAVURHU44fikjGw/xlGypJcRPel//xvom5fCR/wNfoyq4rzpRQmGJcAqnC3au4bAj5sr+u6fZ7qB0oIYT6dT3HZgXeCUjRA0zdPCMI2sCGYi73Dpjk2NC8QgioCuRoFWxtH4Rwg5k2oFj0L2UDb96VHRchuCqQyylnM5LD4jEOAnsbhKMT7R0vjgVoFaiGqQgzoxDoKKQEQcNv767LV+6xA9gqvPhc/+Qx4RAFjBNR8D6lHihgq0B3mEr19DpbzF5fnnUUGhlRaN7VrstO/jIArgJhTLlgnO6bgYnCRUGAriK6uh8vIgjQVaBSDb/lNjomlNA/p1AVlri1/cr4FYV3Q6Eq7KlU3pGDv6ECNh8qPlQkKeHLVdBjEHT4xf9W9PgxZRdBxmn5x3Ssl3mpxU7wWw4Cilvu+D47vXnIjpafQqcPccf41PXTKdnFw8+gjKBR9rOwW+V9P4uOhyBR6fqZdK3z8T8sDJf52bSQDdplnk0oeH4efWSD85vngEG+CWE5KAk/DyD7Rb6JPqrXB4OeZjQaDYfDe8NQMxr1NINB/Xri59BBEPByTcjqbmrDbodzXby/IfzMlAs11SasXTDgKrwcEyLQJqxdbCYCdkBQJ1MEN+mwchHKdBlMANk2K+nvXtBgZ0zYyZiGXCRtCAWmZFVOq6LSnwcbEecsjF2wkUIIxQ5KJ4KPERyclrGg8XHDiDjbxjTYYKlEBOPNzwMECtfptjo+8yVdNYLqzoi4zMY0CMJ1ozH+3KsjqJTqg95w3G5Xq5erqLbb4/tRb3CD/g9u9h1zNLq/115iqqm0Y8a6fo508azf/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==\'); background-size: contain; background-repeat: no-repeat; background-position: center;"></div></div><div flex="" style="padding: 15px;"><h3>Auth</h3><ul><li content-box="" layout="raw" layout-align="start center"><span style="font-weight: bold; margin-right: 10px;">[ com ]</span> <span>{{auth.com}}</span></li><li content-box="" layout="raw" layout-align="start center"><span style="font-weight: bold; margin-right: 10px;">[ code ]</span> <span>{{auth.code}}</span></li><li content-box="" layout="raw" layout-align="start center"><span style="font-weight: bold; margin-right: 10px;">[ url ]</span> <span>{{authURL}}</span></li></ul><h3>Process versions</h3><ul><li content-box="" ng-repeat="(key, value) in processVersions" layout="raw" layout-align="start center"><span style="font-weight: bold; margin-right: 10px;">[ {{ key }} ]</span> <span>ver. {{ value }}</span></li></ul></div></div></md-dialog-content><div class="md-actions" layout="row" layout-align="center center"><md-button ng-click="close(1)" style="display: none;">default</md-button><div flex="" layout="" layout-align="start center" style="margin-left: 10px;">{{config.project}} Project ⓒ Dong-il Park. ({{config.email}})</div><md-button ng-click="close(1)" class="md-accent">OK</md-button></div></form></md-dialog>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/import-confirm.html",'<md-dialog import-confirm="" aria-label="{{ config.title }}" modal="{{ config.modal }}"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close()" ng-if="config.closeButton"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content layout="column"><div flex="" layout="raw"><div flex="" layout="column" layout-align="center center"><div import-button="image" flex="" ng-click="close(\'image\')" layout="raw" layout-align="center center"></div><div import-button-caption="">이미지 파일을 사용합니다.</div></div><div style="width: 20px;"></div><div flex="" layout="column" layout-align="center center"><div import-button="pdf" flex="" ng-click="close(\'pdf\')" layout="raw" layout-align="center center"></div><div import-button-caption="">PDF 문서를 변환합니다.</div></div></div></md-dialog-content></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-code-editor-dialog-box.html",'<div code-editor="" layout="column"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="close();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><div code-editor-keymap-info="" title="편집기 단축키 정보" ng-click="openEditorKeymap()"></div></div><div flex="" layout="raw"><div flex="" layout="raw" style="overflow: hidden;"><textarea flex="" id="code" name="code" style="min-height: 150px;"></textarea></div><div editor-console="" ng-if="showLog.open" layout="column" style="overflow: hidden;"><div desc="" ng-if="config.test.description && config.test.description.length>0"><ul><li ng-repeat="desc in config.test.description">{{ desc }}</li></ul></div><div flex="" ng-if="showLog.log" style="overflow: auto;"><span>[ERROR]</span> <span info="">line ({{showLog.line}}) :<xmp style="margin-left: 10px;">{{showLog.log}}</xmp></span><div code=""><xmp>{{showLog.code}}</xmp></div></div></div></div><div popup-window-footer="" layout="column"><div layout="row" layout-align="end center" style="border-top: 1px solid rgba(0,0,0,0.12);"><md-button ng-click="cancel()" class="md-primary">{{ config.no }}</md-button><md-button ng-if="config.save" ng-class="{disable: isSaved}" ng-click="save()" class="md-accent">{{ config.save }}</md-button><md-button ng-click="close()" class="md-warn">{{ config.yes }}</md-button></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-content-editor-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div content="" layout="column" flex="" form-layout=""><div layout="raw" layout-align="start center" class="fileBox"><md-button class="md-raised md-warn" style="margin-left: 0; width: 250px;" ng-click="resetData()">페이지 목록으로 초기화</md-button><md-button class="md-raised md-warn" style="text-transform:none; width: 250px;" ng-click="openFileDialogBox()">목록 파일 불러오기 (toc.xhtml)</md-button></div><div flex="" layout="column" layout-align="start center" style="margin: 10px 0;"><iframe id="editor" flex="" width="100%" height="100%" seamless="" frameborder="0" nwdisable="" nwfaketop="" allowfullscreen="true" ng-src="{{ config.path }}"><p>This website does not supports IFrame</p></iframe></div><div layout="column"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="cancel()" class="md-raised">{{ config.no }}</md-button><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-html-editor-dialog-box.html",'<div code-editor="" layout="column"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="close();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><div layout="raw" layout-align="center center"><div style="margin: 0 20px;">레이아웃 :</div><div mode-button="" ng-click="splitModeChange(\'default\')" ng-class="{select: (spliteMode==\'default\')}">default</div><div mode-button="" ng-click="splitModeChange(\'vertical\')" ng-class="{select: (spliteMode==\'vertical\')}">vertical</div><div mode-button="" ng-click="splitModeChange(\'horizontal\')" ng-class="{select: (spliteMode==\'horizontal\')}">horizontal</div><div style="width: 20px;"></div></div><div code-editor-keymap-info="" title="편집기 단축키 정보" ng-click="openEditorKeymap()"></div></div><div flex="" split-mode-default="" style="display: none; margin: 10px;"><div flex="" layout="column" codeeditorgroupbox=""><div flex="" layout="raw" code-editor-group="" style="width: 100%;"><div flex="" boxblock="scroll" layout="column"><div boxlabel="">CSS</div><div flex="" layout="column"><div flex="" jj-common-editor="css" config="config_css" changed="changed(type, result)" save="testRun(type, result)"></div></div><div layout="column" editor-console="css" ng-if="tempLog.css.log"><span>[ERROR]</span> <span info="">line ({{tempLog.css.line}}) :<xmp>{{tempLog.css.log}}</xmp></span><div code=""><xmp>{{tempLog.css.code}}</xmp></div></div></div><div jj-split-bar="v"></div><div flex="" boxblock="scroll" layout="column"><div boxlabel="">HTML</div><div flex="" layout="column"><div flex="" jj-common-editor="html" config="config_html" changed="changed(type, result)" save="testRun(type, result)"></div></div><div layout="column" editor-console="html" ng-if="tempLog.html.log"><span>[ERROR]</span> <span info="">line ({{tempLog.html.line}}) :<xmp>{{tempLog.html.log}}</xmp></span><div code=""><xmp>{{tempLog.html.code}}</xmp></div></div></div><div jj-split-bar="v"></div><div flex="" boxblock="scroll" layout="column"><div boxlabel="">JS</div><div flex="" layout="column"><div flex="" jj-common-editor="js" config="config_js" changed="changed(type, result)" save="testRun(type, result)"></div></div><div layout="column" editor-console="js" ng-if="tempLog.js.log"><span>[ERROR]</span> <span info="">line ({{tempLog.js.line}}) :<xmp>{{tempLog.js.log}}</xmp></span><div code=""><xmp>{{tempLog.js.code}}</xmp></div></div></div></div></div><div jj-split-bar="v"></div><div flex="33" layout="column" style="min-width: 50px;"><div flex="" layout="column" boxblock="" playgroundbox=""><div flex="" layout="column" playground=""><iframe flex="" playground-view="" width="100%" height="100%" seamless="" frameborder="0" nwdisable="" allowfullscreen="false"><p>This website does not supports IFrame</p></iframe></div></div><div jj-split-bar="h"></div><div flex="33" layout="column" boxblock="scroll" assetbox=""><div jj-asset-library="" config="config_assets" changed="fileChanged(edit)"></div></div></div></div><div split-mode-horizontal="" style="display: none; margin: 10px;" flex="" layout="column"><div flex="33" layout="raw" style="min-width: 50px;"><div flex="" layout="column" boxblock="scroll" assetbox=""></div><div jj-split-bar="v"></div><div flex="" layout="column" boxblock="" playgroundbox=""></div></div><div jj-split-bar="h"></div><div flex="" layout="raw" codeeditorgroupbox=""></div></div><div split-mode-vertical="" style="display: none; margin: 10px;" flex="" layout="raw"><div flex="" layout="column" style="min-width: 300px;"><div flex="33" layout="raw" boxblock="scroll" assetbox=""></div><div jj-split-bar="h"></div><div flex="" layout="raw" codeeditorgroupbox="" style="overflow: auto;"></div></div><div jj-split-bar="v"></div><div flex="33" layout="column" boxblock="" playgroundbox="" style="min-width: 50px;"></div></div><div popup-window-footer="" layout="column"><div layout="row" layout-align="end center" style="border-top: 1px solid rgba(0,0,0,0.12);"><div ng-if="config.run" layout="raw" layout-align="center center" style="margin: 0 10px;"><md-button ng-click="openDebuger()" class="md-primary" style="margin: 6px 0;">디버거</md-button><md-button ng-click="testRun()" class="md-primary">{{ config.run }} (Ctrl + S)</md-button></div><div flex=""></div><md-button ng-click="cancel()" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close()" class="md-warn">{{ config.yes }}</md-button></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-import-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" ng-form="replaceForm"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-disabled="step === 21" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-disabled="step === 21" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div ng-if="stage===1" content="" layout="column" flex="" form-layout=""><div layout="raw" layout-align="start center" class="fileBox" ng-class="{ disable : convert.complete || step > 11 }"><md-button class="md-raised md-primary" ng-click="openFileDialogBox()">PDF 파일 선택</md-button><div class="pdfPath">{{ convert.displayPath }}</div></div><div layout="row" layout-align="space-between center" class="subtitle1" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><label flex="">변환할 페이지를 선택하세요.</label><div layout="row" layout-align="space-between center" style="width: 300px;margin-right: 20px;"><md-slider flex="" class="md-primary" aria-label="해상도" ng-model-options="{ allowInvalid: true }" ng-model="convert.resolution" step="25" min="50" max="300" style="margin-right: 15px;"></md-slider><div>{{convert.resolution}}% (해상도)</div></div><md-checkbox aria-label="Select All" class="md-primary" ng-model="convert.isSelectAll" ng-change="selectAllChanged()">Select All</md-checkbox></div><div flex="" class="pageListBox" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><div class="listContainer"><div ng-repeat="pageItem in convert.pages" ng-click="onPageItemClicked(pageItem)" class="pageItem" ng-class="{selected:pageItem.selected}"><div layout="raw" layout-align="center center" class="thumbnail"><img ng-src="{{ pageItem.image }}"></div><div class="thumbnailCover"></div><div layout="raw" layout-align="center center" class="pageNumber">{{ pageItem.num }}</div></div></div></div><div layout="row" layout-align="end center" class="convertBox"><md-button ng-click="convertStart()" class="md-raised md-accent" ng-class="{ disable : !(step === 11 || step === 12) }">변환 하기</md-button><div style="width: 8px;"></div><div layout="column" flex="" style="margin: 0 20px;"><div layout="raw" layout-align="end center" style="margin: 0 0 10px 0;"><md-progress-linear flex="" md-mode="determinate" value="{{ progress.percent }}" ng-class="{active:(step === 11 || step === 12 || step === 21)}"></md-progress-linear></div><div layout="raw" layout-align="end center" class="message" ng-class="{ focus : step === 21}"><div>{{ progress.message }}</div><div flex=""></div><div>({{ progress.current }}/{{ progress.total }}) {{ progress.percent }}%</div></div></div><md-button ng-click="convertCancel()" ng-class="{ disable : step !== 21 && !convert.complete }">변환 취소</md-button><div style="width: 8px;"></div><md-button ng-click="nextStage()" class="md-raised md-accent" ng-class="{ disable : step !== 22 || !convert.complete }">다음</md-button></div></div><div content="" ng-if="stage===2" layout="column" flex="" form-layout=""><div layout="row" layout-align="start center" ng-class="{ disable : !(step === 22) }"><md-checkbox aria-label="resize pages" class="md-primary" style="margin: 0;" ng-model="paper.change" ng-change="paperOptionChange()"></md-checkbox><label style="margin: 0 10px;">기존 페이지를 변환된 페이지 크기로 변경합니다.</label><div ng-class="{ hidden : paper.width < 1 || paper.height < 1 }" style="color: red;">({{ paper.width }} x {{ paper.height }})</div></div><div layout="row" layout-align="start center" ng-class="{ disable : !(step === 22) }"><md-checkbox aria-label="replace pages" class="md-primary" style="margin: 0;" ng-model="replace.value" ng-change="replaceOptionChange()"></md-checkbox><label style="margin: 0 10px;">기존 페이지를 교체합니다.</label></div><div flex="" layout="column" ng-if="replace.value" class="insertBox" ng-class="{ disable : !(step === 22) }" style="height: 127px;"><div class="subtitle2"><label>교체할 페이지 위치를 지정 하세요.</label></div><div layout="raw" layout-align="start center"><md-checkbox aria-label="replace pages" class="md-primary" style="margin: 0;" ng-model="replace._sortWithStartPage" ng-change="replaceSortChange()"></md-checkbox><label ng-class="{disable: !replace._sortWithStartPage}" style="margin: 0 10px;">다음 페이지 번호를 기준으로 순차적으로 교체합니다.</label><div layout="row" layout-align="start start" class="positionBox" ng-class="{disable: !replace._sortWithStartPage}"><div layout="column" layout-align="center center" class="prev"><label>교체 시작 페이지</label> <input type="number" ng-model="replace.startPage" min="1" max="{{replace._maxStartPage}}" ng-change="replaceStartPageChange()"></div></div></div><div layout="column" replace-list="" style="overflow: hidden; height: 36px; margin-bottom: 0px;"><div replace-list-header="" layout="raw" layout-align="start center"><div replace-label="">pdf</div><div replace-image="">preview</div><div replace-page="">page number</div></div></div><div flex="" layout="column" replace-list=""><div replace-list-item="" layout="raw" layout-align="start center" ng-repeat="obj in replace.pages"><div replace-label="">{{ obj.pdf }} page</div><div replace-image="" layout="raw" layout-align="center center"><img ng-src="{{ obj.image }}"></div><div replace-page=""><input type="number" required="" name="replace_{{$index}}" min="1" max="{{replace._maxPage}}" ng-model="obj.page" ng-model-options="{ allowInvalid: true }" ng-class="{disable: replace._sortWithStartPage, error:(replaceForm[\'replace_\'+$index].$invalid)}"> page</div></div></div></div><div flex="" layout="column" ng-if="!replace.value" class="insertBox" ng-class="{ disable : !(step === 22) }" style="height: 127px;"><div class="subtitle2"><label>선택된 페이지를 삽입할 위치를 지정 하세요.</label></div><div layout="row" layout-align="center center" class="positionBox" style="margin-top: 70px;"><div layout="column" layout-align="center center" class="prev"><label>이전 페이지</label> <input type="number" ng-model="insertUI.prev" ng-change="prevChanged()"></div><div layout="raw" class="pageBox" ng-class="{isDragging: isDragging}" title="좌우로 드래그하여 삽입할 페이지를 설정하세요."><div layout="column" layout-align="center center" class="page" ng-repeat="page in insertUI.pages">{{ page }}p</div></div><div layout="column" layout-align="center center" class="next"><label>다음 페이지</label> <input type="number" ng-model="insertUI.next" ng-change="nextChanged()"></div></div><div layout="row" layout-align="center center"><label><b class="strong">{{insertUI.prev}}</b> 페이지와 <b class="strong">{{insertUI.next}}</b> 페이지 사이에 선택된 페이지를 삽입합니다.</label></div></div><div layout="column" class="insertBox" ng-class="{ disable : !(step === 22) }"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="prevStage()" class="md-raised md-primary">이전</md-button><div flex=""></div><md-button ng-click="cancel()">{{ config.no }}</md-button><div style="width: 8px;"></div><md-button ng-click="insertPages()" class="md-raised md-accent" ng-class="{disable: replaceForm.$invalid}">{{ config.yes }}</md-button></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-import-pages.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" ng-form="replaceForm"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-disabled="step === 21" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-disabled="step === 21" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div ng-if="stage===1 && pageImportType===\'image\'" content="" layout="column" flex="" form-layout=""><div layout="raw" layout-align="start center" class="fileBox" ng-class="{ disable : (step > 12 && step < 22) }"><md-button class="md-raised md-primary" ng-click="openFileDialogBox()">이미지 파일 선택</md-button></div><div layout="row" layout-align="space-between center" class="subtitle1" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><label flex="">추가할 페이지를 선택하세요.</label><md-checkbox aria-label="Select All" class="md-primary" style="padding-left: 25px;" ng-model="selector.isSelectAll" ng-change="selectAllChanged()">Select All</md-checkbox></div><div flex="" class="pageListBox" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><div class="listContainer"><div ng-repeat="pageItem in loader.pages" ng-click="onPageItemClicked(pageItem)" class="pageItem" ng-class="{selected:pageItem.selected}" title="{{ pageItem._info.name }}"><div layout="raw" layout-align="center center" class="thumbnail"><img ng-src="{{ pageItem.thumbnail.image || pageItem.image }}"></div><div class="thumbnailCover"></div><div layout="raw" layout-align="center center" class="pageNumber">{{ pageItem.num }}</div></div></div></div><div layout="row" layout-align="end center" class="convertBox"><md-button ng-click="convertStart()" class="md-raised md-primary" ng-class="{ disable : !(step === 11 || step === 12) }">페이지 추출하기</md-button><div style="width: 8px;"></div><div layout="column" flex="" style="margin: 0 20px;"><div layout="raw" layout-align="end center" style="margin: 0 0 10px 0;"><md-progress-linear flex="" md-mode="determinate" value="{{ progress.percent }}" ng-class="{active:(step === 11 || step === 12 || step === 21)}"></md-progress-linear></div><div layout="raw" layout-align="end center" class="message" ng-class="{ focus : step === 21}"><div>{{ progress.message }}</div><div flex=""></div><div>({{ progress.current }}/{{ progress.total }}) {{ progress.percent }}%</div></div></div><md-button ng-click="nextStage()" class="md-raised md-accent" ng-class="{ disable : step !== 22 || !loader.complete }">다음</md-button></div></div><div ng-if="stage===1 && pageImportType===\'pdf\'" content="" layout="column" flex="" form-layout=""><div layout="raw" layout-align="start center" class="fileBox" ng-class="{ disable : loader.complete || step > 11 }"><md-button class="md-raised md-primary" ng-click="openFileDialogBox()">PDF 파일 선택</md-button><div class="pdfPath">{{ option.displayPath }}</div></div><div layout="row" layout-align="space-between center" class="subtitle1" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><label flex="">변환할 페이지를 선택하세요.</label><div layout="row" layout-align="space-between center" style="width: 300px;margin-right: 20px;"><md-slider flex="" class="md-primary" aria-label="해상도" ng-model-options="{ allowInvalid: true }" ng-model="option.resolution" step="25" min="50" max="300" style="margin-right: 15px;"></md-slider><div>{{option.resolution}}% (해상도)</div></div><md-checkbox aria-label="Select All" class="md-primary" style="padding-left: 25px;" ng-model="selector.isSelectAll" ng-change="selectAllChanged()">Select All</md-checkbox></div><div flex="" class="pageListBox" ng-class="{ disable : step < 1 || (step > 12 && step < 22) }"><div class="listContainer"><div ng-repeat="pageItem in loader.pages" ng-click="onPageItemClicked(pageItem)" class="pageItem" ng-class="{selected:pageItem.selected}"><div layout="raw" layout-align="center center" class="thumbnail"><img ng-src="{{ pageItem.thumbnail.image || pageItem.image }}"></div><div class="thumbnailCover"></div><div layout="raw" layout-align="center center" class="pageNumber">{{ pageItem.num }}</div></div></div></div><div layout="row" layout-align="end center" class="convertBox"><md-button ng-click="convertStart()" class="md-raised md-primary" ng-class="{ disable : !(step === 11 || step === 12) }">페이지 추출하기</md-button><div style="width: 8px;"></div><div layout="column" flex="" style="margin: 0 20px;"><div layout="raw" layout-align="end center" style="margin: 0 0 10px 0;"><md-progress-linear flex="" md-mode="determinate" value="{{ progress.percent }}" ng-class="{active:(step === 11 || step === 12 || step === 21)}"></md-progress-linear></div><div layout="raw" layout-align="end center" class="message" ng-class="{ focus : step === 21}"><div>{{ progress.message }}</div><div flex=""></div><div>({{ progress.current }}/{{ progress.total }}) {{ progress.percent }}%</div></div></div><md-button ng-click="convertCancel()" ng-class="{ disable : step !== 21 && !loader.complete }">변환 취소</md-button><div style="width: 8px;"></div><md-button ng-click="nextStage()" class="md-raised md-accent" ng-class="{ disable : step !== 22 || !loader.complete }">다음</md-button></div></div><div content="" ng-if="stage===2" layout="column" flex="" form-layout=""><div layout="row" layout-align="start center" ng-class="{ disable : !(step === 22) }"><md-checkbox aria-label="resize pages" class="md-primary" style="padding-left: 25px; margin: 0 10px 0 0;" ng-model="paper.change">기존 페이지를 선택된 페이지 크기로 변경합니다.</md-checkbox><div ng-class="{ hidden : paper.width < 1 || paper.height < 1 }" style="color: red; margin: 0 0 0 10px;">({{ paper.width }} x {{ paper.height }})</div></div><div layout="row" layout-align="start center" ng-class="{ disable : !(step === 22) }"><md-checkbox aria-label="replace pages" class="md-primary" style="padding-left: 25px; margin: 0 10px 0 0;" ng-model="replaceConfig.value" ng-change="replaceOptionChange()">기존 페이지를 선택된 페이지로 교체합니다.</md-checkbox></div><div flex="" layout="column" ng-if="replaceConfig.value" class="insertBox" ng-class="{ disable : !(step === 22) }" style="height: 127px;"><div class="subtitle2"><label>교체할 페이지 위치를 지정 하세요.</label></div><div layout="raw" layout-align="start center"><div layout="column" layout-align="start"><md-checkbox aria-label="replace pages" class="md-primary" style="padding-left: 25px; margin: 0 10px 0 0;" ng-model="replaceConfig._replaceSearchText">새로운 내용으로 페이지 검색 내용을 교체합니다.</md-checkbox><md-checkbox aria-label="replace pages" class="md-primary" style="padding-left: 25px; margin: 0 10px 0 0;" ng-model="replaceConfig._sortWithStartPage" ng-change="replaceSortChange()">다음 페이지 번호를 기준으로 순차적으로 교체합니다.</md-checkbox></div><div flex="" layout="row" layout-align="start start" class="positionBox" ng-class="{disable: !replaceConfig._sortWithStartPage}"><div layout="raw" layout-align="center center" class="prev" style="width: auto; padding: 0 30px;"><input type="number" ng-model="replaceConfig.startPage" min="1" max="{{replaceConfig._maxStartPage}}" ng-change="replaceStartPageChange()"> <label>페이지부터 교체 시작</label></div></div></div><div layout="column" replace-list="" style="overflow: hidden; height: 36px; margin-bottom: 0px;"><div replace-list-header="" layout="raw" layout-align="start center"><div replace-label="" ng-if="pageImportType === \'pdf\'">pdf page</div><div replace-image="">preview</div><div replace-page="">page number</div></div></div><div flex="" layout="column" replace-list=""><div replace-list-item="" layout="raw" layout-align="start center" ng-repeat="obj in replaceConfig.pages"><div replace-label="" ng-if="pageImportType === \'pdf\'">{{ obj.num }} page</div><div replace-image="" layout="raw" layout-align="center center"><img ng-src="{{ obj.image }}"></div><div replace-page=""><input type="number" required="" name="replace_{{$index}}" min="1" max="{{replaceConfig._maxPage}}" ng-model="obj.page" ng-model-options="{ allowInvalid: true }" ng-class="{disable: replaceConfig._sortWithStartPage, error:(replaceForm[\'replace_\'+$index].$invalid)}"> page</div></div></div></div><div flex="" layout="column" ng-if="!replaceConfig.value" class="insertBox" ng-class="{ disable : !(step === 22) }" style="height: 127px;"><div class="subtitle2"><label>선택된 페이지를 삽입할 위치를 지정 하세요.</label></div><div layout="row" layout-align="center center" class="positionBox" style="margin-top: 70px;"><div layout="column" layout-align="center center" class="prev"><label>이전 페이지</label> <input type="number" ng-model="insertConfig.ui.prev" ng-change="prevChanged()"></div><div layout="raw" class="pageBox" ng-class="{isDragging: isDragging}" title="좌우로 드래그하여 삽입할 페이지를 설정하세요."><div layout="column" layout-align="center center" class="page" ng-repeat="page in insertConfig.ui.pages">{{ page }}p</div></div><div layout="column" layout-align="center center" class="next"><label>다음 페이지</label> <input type="number" ng-model="insertConfig.ui.next" ng-change="nextChanged()"></div></div><div layout="row" layout-align="center center"><label><b class="strong">{{insertConfig.ui.prev}}</b> 페이지와 <b class="strong">{{insertConfig.ui.next}}</b> 페이지 사이에 선택된 페이지를 삽입합니다.</label></div></div><div layout="column" class="insertBox" ng-class="{ disable : !(step === 22) }"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="prevStage()" class="md-raised md-primary">이전</md-button><div flex=""></div><md-button ng-click="cancel()">{{ config.no }}</md-button><div style="width: 8px;"></div><md-button ng-click="insertPages()" class="md-raised md-accent" ng-class="{disable: replaceForm.$invalid}">{{ config.yes }}</md-button></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/jj-publish-setting-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" class="jj_form"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div content="" layout="column" flex="" form-layout="" layout-align="start center"><div flex="" layout="column" layout-align="start start" style="max-width: 800px;width: 800px;"><div class="listTable" style="width: 100%;"><div layout="raw" ng-repeat="item in publish.params" flex="{{ (item.editor.type===\'textarea\')?\'initial\':0; }}" class="listTr"><div layout="column" flex="" ng-if="!item.editor"><div class="listTd label name" ng-if="item.label" layout="" layout-align="start center" style="width: 100%;font-weight: bold;" title="{{ item.label }}">{{ item.label }}</div><h2 class="listTd label name" ng-if="item.title" layout="" layout-align="start center" style="width: 100%;font-weight: bold;" title="{{ item.title }}">{{ item.title }}</h2><div ng-if="item.descText" string-box="" ng-bind-html="item.descText" ng-style="item.descTextStyle"></div></div><div layout="raw" flex="" ng-if="item.editor && item.editor.type!=\'textarea\'"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> {{ item.label }}</div><div layout="column" flex=""><div flex="" jj-form-item="" class="listTd label" item="item" index="{{ $index }}" submit="submit(index, result)"></div><div ng-if="item.descText" string-box="" ng-bind-html="item.descText" ng-style="item.descTextStyle"></div></div></div><div layout="column" flex="" ng-if="item.editor.type===\'textarea\'"><div layout="raw"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> {{ item.label }}</div><div flex=""></div></div><div layout="column" flex=""><div jj-form-item="" class="listTd label" item="item" index="{{ $index }}" submit="submit(index, result)"></div><div ng-if="item.descText" string-box="" ng-bind-html="item.descText" ng-style="item.descTextStyle"></div></div></div></div></div></div></div><div layout="column" content=""><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="cancel()" class="md-raised">{{ config.no }}</md-button><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/publish-option.html",'<md-dialog middlesize="" aria-label="{{ config.title }}"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form class="jj_form"><md-dialog-content><div>출판 유형을 선택하세요.<br>출판 정보는 <span class="link" style="padding:0;" ng-click="close(\'publishSetting\');">출판 정보 설정창</span>에서 설정하시기 바랍니다.</div><div publish-option-box="off" flex="" layout="raw" layout-align="start center"><md-button class="md-raised md-primary" type="button" ng-click="onChangeBookID();" style="margin: 0 10px 0 0;">Book ID 변경</md-button><div>Book ID : <span class="mark">{{config.data.info.bookID}}</span></div></div><div layout="column" publish-option-box="" ng-click="config.data.publishType.epub_upload=!config.data.publishType.epub_upload"><div publish-option-title="">출판 후 서버에 업로드 하기</div><div publish-option-content="" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="config.data.publishType.epub_upload"><ul flex=""><li>구 성 : <span class="">epub 압축파일</span> + <span class="">epub 뷰어</span></li><li>결과물 : <span class="mark">업로드된 epub 압축파일의 URL</span></li><li>콘텐츠 이름 : <input type="text" ng-model="config.data.info.epubUploadName" placeholder="업로드할 콘텐츠 이름" ng-required="config.data.publishType.epub_upload" ng-minlength="1" ng-maxlength="10" ng-trim="true" style="width: auto; text-align: left;" ng-click="$event.stopImmediatePropagation()"></li></ul></div></div><div layout="raw"><div flex="" layout="column" publish-option-box="" ng-click="config.data.publishType.epub=!config.data.publishType.epub"><div publish-option-title="">Epub 파일 출판하기</div><div publish-option-content="" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="config.data.publishType.epub"><ul flex=""><li>구 성 : <span class="">epub 압축 파일</span></li><li>결과물 : <span class="mark"><i>파일 이름</i>.epub</span></li></ul></div></div><div style="width: 10px;"></div><div flex="" layout="column" publish-option-box="" ng-click="config.data.publishType.web=!config.data.publishType.web"><div publish-option-title="">Web으로 출판하기</div><div publish-option-content="" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="config.data.publishType.web"><ul flex=""><li>구 성 : <span class="">epub 컨텐츠</span> + <span class="">epub 뷰어</span></li><li>결과물 : <span class="mark"><i>파일 이름 (web)</i>.zip</span></li></ul></div></div></div><div layout="column" publish-option-box="" ng-click="config.data.publishType.binder=!config.data.publishType.binder"><div publish-option-title="">Jik-ji Binder (exe)로 출판하기</div><div class="errorText" style="margin-top: 10px;" ng-if="!config.data.available.appID || !config.data.available.appName"><span ng-if="!config.data.available.appID">App ID</span> <span ng-if="!config.data.available.appID && !config.data.available.appName">,</span> <span ng-if="!config.data.available.appName">App Name</span> 형식이 잘못되었습니다. <span class="link" style="padding:0;" ng-click="close(\'publishSetting\');">출판 정보 설정창</span>에서 재설정하시기 바랍니다.</div><div publish-option-content="" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="config.data.publishType.binder"><ul flex=""><li>구 성 : <span class="">epub 컨텐츠</span> + <span class="">Jik-ji Binder</span></li><li>결과물 : <span class="mark"><i>파일 이름</i> (binder).zip</span></li><li ng-class="{errorText:!config.data.available.appID}">App ID : <span class="mark">{{config.data.info.appID}}</span></li><li ng-class="{errorText:!config.data.available.appName}">App Name : <span class="mark">{{config.data.info.appName}}</span></li></ul></div></div><div layout="column" publish-option-box="" ng-click="config.data.publishType.binder_web=!config.data.publishType.binder_web"><div publish-option-title="">Jik-ji Binder (web)으로 출판하기</div><div publish-option-content="" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="config.data.publishType.binder_web"><ul flex=""><li>구 성 : <span class="">epub 컨텐츠</span> + <span class="">Jik-ji Binder for Web</span></li><li>결과물 : <span class="mark"><i>파일 이름</i> (binder_web).zip</span></li></ul></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" style="display: none;">default</md-button><md-button ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/publish-result.html",'<md-dialog aria-label="{{ config.title }}" modal="{{ config.modal }}" publish-result-dialog-box=""><form><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)" ng-if="config.closeButton"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content><div layout="raw"><div flex="" layout="column"><div ng-if="!config.onlyUpload" layout="column"><h3>출판 완료되었습니다.<br>다음 경로에 파일이 생성되었습니다.</h3><div class="markBlock"><div ng-if="config.result.epub"><div class="mark" style="min-width: 38px; display: inline-block; text-align: center;">Epub 파일 출판</div><span ng-if="config.result.epub.error">{{ config.result.epub.error }}</span> <span ng-if="config.result.epub.data" class="link" ng-click="explorer(config.result.epub.data);">{{ config.result.epub.data }}</span></div><div ng-if="config.result.web"><div class="mark" style="min-width: 38px; display: inline-block; text-align: center;">web으로 출판</div><span ng-if="config.result.web.error">{{ config.result.web.error }}</span> <span ng-if="config.result.web.data" class="link" ng-click="explorer(config.result.web.data);">{{ config.result.web.data }}</span></div><div ng-if="config.result.binder"><div class="mark" style="min-width: 38px; display: inline-block; text-align: center;">Jik-ji Binder (exe) 출판</div><span ng-if="config.result.binder.error">{{ config.result.binder.error }}</span> <span ng-if="config.result.binder.data" class="link" ng-click="explorer(config.result.binder.data);">{{ config.result.binder.data }}</span></div><div ng-if="config.result.binder_web"><div class="mark" style="min-width: 38px; display: inline-block; text-align: center;">Jik-ji Binder (web) 출판</div><span ng-if="config.result.binder_web.error">{{ config.result.binder_web.error }}</span> <span ng-if="config.result.binder_web.data" class="link" ng-click="explorer(config.result.binder_web.data);">{{ config.result.binder_web.data }}</span></div></div></div><div ng-if="config.result.epub_upload" flex="" layout="column"><h3>파일 업로드 작업이 완료되었습니다.</h3><div flex="" class="markBlock" ng-if="config.result.epub_upload.error"><div layout="column"><div class="mark">Epub 파일 업로드 실패</div><span ng-if="config.result.epub_upload.error">{{ config.result.epub_upload.error }}</span></div></div><div flex="" class="markBlock" ng-if="config.result.epub_upload.data"><div layout="raw"><div flex=""><div class="mark">Epub 파일 URL</div><span class="link" ng-click="weblink(config.result.epub_upload.data.url_short);">{{ config.result.epub_upload.data.url_short }}</span><md-button type="button" class="md-accent" mini-button="" jj-clipboard="{{ config.result.epub_upload.data.url_short }}">URL 복사</md-button></div></div></div></div></div><div ng-if="config.result.epub_upload.data.url_QRCode" layout="column" layout-align="center center" qrcode-image=""><div><img ng-src="{{config.result.epub_upload.data.url_QRCode}}"></div><div layout="raw"><md-button type="button" class="md-accent" mini-button="" jj-clipboard="{{ config.result.epub_upload.data.url_QRCode }}">URL 복사</md-button><a href="{{config.result.epub_upload.data.url_QRCode}}" download="{{config.downloadFileName}}"><div icon-field="qrcodeDownload" layout="" layout-align="center center"><span small-text="">QR 코드 다운로드</span></div></a></div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layout/jj-box-layout.html",'<div layout="column" style="position: relative;"><form name="form_css" novalidate=""><div jj-layout-position=""></div><div class="space"></div><div jj-layout-size=""></div><div class="space"></div><table style="margin: 20px 0"><tr><td></td><td><input type="checkbox" ng-model="layout.left" ng-change="onLayoutUpdate(\'left\')"></td><td><input type="checkbox" ng-model="layout.center" ng-change="onLayoutUpdate(\'center\')"></td><td><input type="checkbox" ng-model="layout.right" ng-change="onLayoutUpdate(\'right\')"></td><td></td></tr><tr><td><input type="checkbox" ng-model="layout.top" ng-change="onLayoutUpdate(\'top\')"></td><td viewport="" colspan="3" rowspan="3"><div outline="" layout-align="center center"><div rect="" ng-class="{ top:layout.top, middle:layout.middle, bottom:layout.bottom, left:layout.left, center:layout.center, right:layout.right }"></div><div line="top" ng-if="layout.top"></div><div line="middle" ng-if="layout.middle"></div><div line="bottom" ng-if="layout.bottom"></div><div line="left" ng-if="layout.left"></div><div line="center" ng-if="layout.center"></div><div line="right" ng-if="layout.right"></div></div></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.top" ng-disabled="!layout.top" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'top\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'top\')" ng-change="onLiveUpdate(\'top\')" name="top"></td></tr><tr><td><input type="checkbox" ng-model="layout.middle" ng-change="onLayoutUpdate(\'middle\')"></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.middle" ng-disabled="!layout.middle" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'middle\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'middle\')" ng-change="onLiveUpdate(\'middle\')" name="middle"></td></tr><tr><td><input type="checkbox" ng-model="layout.bottom" ng-change="onLayoutUpdate(\'bottom\')"></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.bottom" ng-disabled="!layout.bottom" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'bottom\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'bottom\')" ng-change="onLiveUpdate(\'bottom\')" name="bottom"></td></tr><tr><td></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.left" ng-disabled="!layout.left" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'left\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'left\')" ng-change="onLiveUpdate(\'left\')" name="left"></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.center" ng-disabled="!layout.center" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'center\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'center\')" ng-change="onLiveUpdate(\'center\')" name="center"></td><td><input no-innerspin="" type="number" maxlength="6" ng-model="display.right" ng-disabled="!layout.right" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'right\', $event)" ng-focus="onFocus();" ng-blur="onBlur(\'right\')" ng-change="onLiveUpdate(\'right\')" name="right"></td><td></td></tr></table><div class="space"></div><div jj-layout-transform=""></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layout/jj-layout-position.html",'<div layout="column"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">가로 위치</label> <input flex="" type="number" step="1" ng-disabled="!layout.left" ng-model="display.left" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'left\', $event)" ng-blur="onBlur(\'left\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'left\')" name="left"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">세로 위치</label> <input flex="" type="number" step="1" ng-disabled="!layout.top" ng-model="display.top" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'top\', $event)" ng-blur="onBlur(\'top\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'top\')" name="top"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layout/jj-layout-size.html",'<div layout="column"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">너비</label> <input flex="" type="number" step="1" ng-disabled="!layout.width" ng-model="display.width" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'width\', $event)" ng-blur="onBlur(\'width\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'width\')" name="width"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">높이</label> <input flex="" type="number" step="1" ng-disabled="!layout.height || isFlexibleSize" ng-model="display.height" ng-model-options="{ updateOn: \'default blur\'}" ng-keyup="onKeyup(\'height\', $event)" ng-blur="onBlur(\'height\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'height\')" name="height"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layout/jj-layout-tool.html",'<div layout="column" style="min-height: 300px; position: relative;" ng-class="{jj_form_disable:!uid}"><div panel-menu-area="" layout="raw" state-select-tab="" ng-if="stateSelectVisible"><div flex="" layout="raw" layout-align="center center" panel-menu="" title="기본 상태 설정" ng-class="{select: status.state == \'normal\'}" style="cursor: default;"><input type="checkbox" checked="" disabled="" style="width: 20px; margin: 0 5px 0 0;"> <label for="normal" layout="raw" layout-align="start center" style="cursor: pointer;">기본</label> <input type="radio" id="normal" ng-model="status.state" ng-value="\'normal\'" ng-change="stateChange(\'normal\')" style="display:none;"></div><div flex="" layout="raw" layout-align="center center" panel-menu="" title="마우스 오버 상태 설정" ng-class="{select: status.state == \'over\', stateDisable: !status.overStateEnabled}" style="cursor: default;"><input type="checkbox" ng-model="status.overStateEnabled" ng-change="stateEnableChanged(\'over\')" style="width: 20px; margin: 0 5px 0 0;"> <label for="over" layout="raw" layout-align="start center" style="cursor: pointer;">오버</label> <input type="radio" id="over" ng-model="status.state" ng-value="\'over\'" ng-change="stateChange(\'over\')" style="display:none;"></div><div flex="" layout="raw" layout-align="center center" panel-menu="" title="마우스 다운 상태 설정" ng-class="{select: status.state == \'down\', stateDisable: !status.downStateEnabled}" style="cursor: default;"><input type="checkbox" ng-model="status.downStateEnabled" ng-change="stateEnableChanged(\'down\')" style="width: 20px; margin: 0 5px 0 0;"> <label for="down" layout="raw" layout-align="start center" style="cursor: pointer;">다운</label> <input type="radio" id="down" ng-model="status.state" ng-value="\'down\'" ng-change="stateChange(\'down\')" style="display:none"></div></div><div layout="column" flex="" style="padding: 10px; position: relative;"><div jj-box-layout=""></div><div flex=""></div><div protect="{{ status.protect }}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("layout/jj-layout-transform.html",'<div layout="column"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">스케일</label> <input flex="" type="number" step="1" ng-model="display.scale" ng-model-options="{ updateOn: \'default blur\'}" ng-min="1" ng-max="500" ng-keyup="onKeyup(\'scale\', $event)" ng-blur="onBlur(\'scale\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'scale\')" name="scale"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">%</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">회전</label> <input flex="" type="number" step="1" ng-model="display.angle" ng-model-options="{ updateOn: \'default blur\'}" ng-min="-360" ng-max="360" ng-keyup="onKeyup(\'angle\', $event)" ng-blur="onBlur(\'angle\')" ng-focus="onFocus();" ng-change="onLiveUpdate(\'angle\')" name="angle"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">°</label></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("statusBar/jj-status-bar.html",'<div flex="" layout="raw" layout-align="start center" style="overflow: hidden; height: 100%;"><div updater-status="" separated-box="" ng-if="update.show" layout="raw" layout-align="start center" title="{{update.state}}" ng-click="updater();" style="padding-left: 10px;"><div icon="{{update.icon}}"></div><div message-box="" flex="" statustext="">{{ update.state }}</div></div><div separated-box="" layout="raw" layout-align="start center" ng-style="{paddingLeft: update.show?15:10}"><div icon="{{ message.icon }}" class="type-{{message.messageType}}" title="{{ message.icon }}"></div><div message-box="" flex="" class="type-{{message.messageType}}" title="{{ message.message }}">{{ message.message }}</div></div><div flex=""></div><div separated-box="" layout="raw" layout-align="start center" path-explorer="{{availableExplorer}}" ng-click="explorer();"><div icon="FILE" title="Path : {{ info.path }}"></div><div message-box="" flex="" title="Path : {{ info.path }}">{{ info.path }}</div></div><div separated-box="" layout="raw" layout-align="start center"><div icon="STATUS" title="Application state : {{ message.state }}"></div><div message-box="" flex="" title="Application state : {{ message.state }}">{{ message.state }}</div></div><div zoom-box="" separated-box="" layout="raw" layout-align="start center" ng-class="{disable:screen.disable}"><div icon="ZOOMOUT" title="zoom out" ng-click="zoomout();"></div><md-slider flex="" class="md-primary" style="margin: 0 20px;" aria-label="화면 확대/축소" ng-model="screen.percent" ng-model-options="{ updateOn: \'default\', allowInvalid: false }" step="1" ng-attr-min="{{screen.min}}" ng-attr-max="{{screen.max}}" ng-mousedown="checkUpdate($event)"></md-slider><div icon="ZOOMIN" title="zoom in" ng-click="zoomin();"></div><div zoom-text="" ng-click="scaleUpdate()">{{ screen.percent }} %</div><div icon="ZOOM_LANDSCAPE" title="zoom landscape" ng-click="zoomLandscape();"></div><div icon="ZOOM_PORTRAIT" title="zoom portrait" ng-click="zoomPortrait();" style="margin-right: 0;"></div></div><div separated-box="" layout="raw" layout-align="start center" style="padding-right: 10px;"><div layout="raw" layout-align="center center" style="margin: 0 5px 0 0;"><div theme="red" ng-click="changeColorTheme(\'red\');" title="Color Theme : Red"></div><div theme="yellow" ng-click="changeColorTheme(\'yellow\');" title="Color Theme : Yellow"></div><div theme="green" ng-click="changeColorTheme(\'green\');" title="Color Theme : Green"></div><div theme="cyan" ng-click="changeColorTheme(\'cyan\');" title="Color Theme : Cyan"></div><div theme="blue" ng-click="changeColorTheme(\'blue\');" title="Color Theme : Blue"></div><div theme="bluegray" ng-click="changeColorTheme(\'bluegray\');" title="Color Theme : Blue Gray"></div></div><div message-box="" flex="" title="Version : {{ info.version }}">{{ info.version }}</div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/jj-element-container.html",'<div ng-style="containerStyle" ng-class="{ selecting: selecting, selected : selected, invalid: invalid, editing:editing, flexible: option._$$flexibleSize }" type="{{type}}" group="{{isGroup}}" group-state="{{groupState}}"><div editpanel="" ng-if="editing"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/jj-page.html",'<div ng-class="{ editing : editing, showLabel: showLabel, outline: outline, noimage: false }"><div jj-element-container="" ng-repeat="element in indexes" uid="{{ element }}" no-animation-ng-if-parent=""></div><div jj-transform="" ng-if="transformTool"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/jj-paper.html",'<div layout="" ng-class="{ dragstart:dragStarted, dragover:isDragOver, editing: editing, multiSelected: multiSelected, grouped: isGroup }" ng-style="paperStyle" drop-id="Insert the element to the paper"><div ng-show="visible" style="position: absolute; width: 100%; height: 100%;"><div display-coordinate="LINE"></div><div display-coordinate="TL" ng-style="displayCoordinateStyle"><div>(0, 0)</div></div><div display-coordinate="TR" ng-style="displayCoordinateStyle"><div>({{ paper.width }}, 0)</div></div><div display-coordinate="BL" ng-style="displayCoordinateStyle"><div>(0, {{ paper.height }})</div></div><div display-coordinate="BR" ng-style="displayCoordinateStyle"><div>({{ paper.width }}, {{ paper.height }})</div></div></div><div page-container="" ng-class="{multiSelected: multiSelected}" no-animation-ng-if-parent=""><div paper-background="" ng-mousedown="onMouseDownBackground()" ng-click="onClickBackground()" ng-style="backgroundStyle"></div><div master="" ng-style="master.style" ng-if="paperVisible && master.url"></div><div jj-page="" ng-show="paperVisible" no-animation-ng-if-parent=""></div><jj-hidden-files category="project" editor="true"></jj-hidden-files><jj-hidden-files category="document" editor="true"></jj-hidden-files></div><div drop-area="" ng-if="dragStarted"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/jj-screen.html",'<div layout="column" layout-align="{{layoutStyle}}" ui="ui" project="{{ project }}" document="{{ document }}" ng-style="screenStyle" cursor="{{cursor}}{{drawRectangle?\'-important\':\'\'}}"><div screenprotect="" ng-if="editProtecting" ng-click="onScreenProtectClick($event);" ng-dblclick="onScreenProtectDbclick($event);"></div><div screencontent="" layout="column" layout-align="center center" ng-style="(buttonVisible_project||buttonVisible_document)? {} : contentStyle"><div screen-background="" ng-show="project&&document" ng-mousedown="onMouseDownBackground()" ng-click="onClickBackground()"></div><div jj-paper="" uid="{{document}}" paper-visible="paperVisible"></div><div ng-show="buttonVisible_document" class="delayShowGroup" flex="" layout="column" layout-align="center center" style="width: 100%;"><p>문서를 추가합니다.</p><div add-button-big="" ng-click="addDocument()">+</div></div></div><div drawselectrectangle="" ng-if="drawRectangle" ng-style="drawRectangle"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/jj-normal-text-editor.html",'<div ng-bind-html="displayText" spellcheck="false" ng-focus="onFocus()" ng-blur="onBlur()"></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/jj-rich-text-editor-menu-item.html",'<div class="jj_form" layout="raw" layout-align="center center" menu-item-container="{{item.option.type}}" style="transform: none!important;" ng-mouseup="onMouseup($event)" ng-class="{disable: disable, hasDropdown: hasDropdown}"><div ng-if="item.option.type===\'button\'" menu-item="{{item.option.icon}}" ng-click="onClickButton()"></div><div ng-if="item.option.type===\'number\'" layout="raw" flex="" menu-item="{{item.option.icon}}"><input flex="" type="text" ng-model="getterSetter.value" ng-model-options="{ updateOn: \'blur\', getterSetter: true, allowInvalid: true }" ng-trim="true" ng-focus="onFocus($event)" ng-blur="onBlur($event)" ng-keyup="onKeyUp($event)"></div><div ng-if="item.option.type===\'color\'" layout="raw" flex="" menu-item="{{item.option.icon}}" ng-style="item.option.style" ng-click="onClickColorButton();"><div color-display="" ng-style="{backgroundColor: item.value, borderColor: item.value}"></div><div flex="" jj-color-picker="" style="display: none;" hide-input="item.option.hideInput" ng-model="item.value" ng-select="onSelectColorChanged()"></div></div><div ng-if="hasDropdown && item.option.list" menu-item="dropdownButton" ng-click="onClickDropdownButton()"><md-select ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()" ng-click="stopBubbling($event);"><md-option ng-repeat="prop in item.option.list" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option></md-select></div><div ng-if="item.option.type===\'select\'" layout="raw" flex="" menu-item="{{item.name}}"><md-select flex="" ng-if="item.option.groupList" ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()"><md-optgroup ng-repeat="currentGroup in item.option.groupList" label="{{currentGroup}}"><md-option ng-if="item.name!==\'fontFamily\'" ng-repeat="prop in item.option.list | filter: {group: currentGroup}" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option><md-option ng-if="item.name===\'fontFamily\'" ng-repeat="font in item.option.list | filter: {group: currentGroup}" ng-value="font.value" fontview="" ng-style="{fontFamily: font.value}" ng-click="onClickSelectOption();">{{font.label}}</md-option></md-optgroup></md-select><md-select flex="" ng-if="!item.option.groupList" ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()"><md-option ng-repeat="prop in item.option.list" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option></md-select></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/jj-rich-text-editor-menu.html",'<div flex="" layout="column"><div layout="raw"><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'fontFamily\']" item="items[\'fontFamily\']" style="max-width: 200px;" title="글꼴" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'color\']" item="items[\'color\']" title="글꼴색" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'backgroundColor\']" item="items[\'backgroundColor\']" title="글꼴 배경색" on-changed="onChanged(item)"></div></div><div class="space"></div><div layout="raw"><div jj-rich-text-editor-menu-item="" ng-if="items[\'bold\']" item="items[\'bold\']" style="max-width: 45px;padding: 5px 4px 5px 0;" title="굵게" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'italic\']" item="items[\'italic\']" style="max-width: 45px;padding: 5px 4px;" title="기울임꼴" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'underline\']" item="items[\'underline\']" style="max-width: 45px;padding: 5px 4px;" title="밑줄" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'strikethrough\']" item="items[\'strikethrough\']" style="max-width: 45px;padding: 5px 4px;" title="취소선" on-changed="onChanged(item)"></div><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'eraser\']" item="items[\'eraser\']" style="max-width: 82px;" title="스타일 지우기" on-changed="onChanged(item)"></div></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" style="padding: 0 5px;">크기</label><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'fontSize\']" item="items[\'fontSize\']" style="max-width: 166px;" title="글꼴 크기" on-changed="onChanged(item)"></div><div menu-item-container="button"><div menu-item="sizeUp" ng-click="onSizeUp()" title="글꼴 크기 크게"></div></div><div menu-item-container="button"><div menu-item="sizeDown" ng-click="onSizeDown()" title="글꼴 크기 작게"></div></div></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" style="padding: 0 5px;">행간</label><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'lineHeight\']" item="items[\'lineHeight\']" style="max-width: 166px;" title="줄 간격" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'ol\']" item="items[\'ol\']" style="max-width: 45px;" title="글머리 기호" on-changed="onChanged(item)"></div><div jj-rich-text-editor-menu-item="" ng-if="items[\'ul\']" item="items[\'ul\']" style="max-width: 45px;" title="번호 매기기" on-changed="onChanged(item)"></div></div><div class="space"></div><div layout="raw"><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'alignLeft\']" item="items[\'alignLeft\']" style="max-width: 45px;" title="왼쪽 맞춤" on-changed="onChanged(item)"></div><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'alignCenter\']" item="items[\'alignCenter\']" style="max-width: 45px;" title="가운데 맞춤" on-changed="onChanged(item)"></div><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'alignRight\']" item="items[\'alignRight\']" style="max-width: 45px;" title="오른쪽 맞춤" on-changed="onChanged(item)"></div><div flex="" jj-rich-text-editor-menu-item="" ng-if="items[\'alignJustify\']" item="items[\'alignJustify\']" style="max-width: 45px;" title="양쪽 맞춤" on-changed="onChanged(item)"></div><div flex=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/jj-rich-text-editor.html",'<div ng-bind-html="displayText" ng-class="{activate:_activate, focus:_hasFocus}"></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/rich-text-editor-menu.html",'<div aria-label="{{ config.title }}" modal="{{ config.modal }}" rich-text-editor-menu="" ng-style="config.style"><div layout="raw" style="width: 100%;height: 100%"><div jj-rich-text-editor-menu="" config="editorConfig"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/_jj-rich-text-editor-menu-item.html",'<div class="jj_form" layout="raw" layout-align="center center" menu-item-container="{{item.option.type}}" ng-mouseup="onMouseup($event)" ng-class="{disable: disable, hasDropdown: hasDropdown}"><span small-text="">{{item.option.title}}</span><div ng-if="item.option.type===\'button\'" menu-item="{{item.option.icon}}" ng-click="onClickButton()"></div><div ng-if="item.option.type===\'number\'" layout="raw" flex="" menu-item="{{item.option.icon}}" title="{{item.name}}"><input flex="" type="text" ng-model="getterSetter.value" ng-model-options="{ updateOn: \'blur\', getterSetter: true, allowInvalid: true }" ng-trim="true" ng-focus="onFocus($event)" ng-blur="onBlur($event)" ng-keyup="onKeyUp($event)"></div><div ng-if="item.option.type===\'color\'" layout="raw" flex="" menu-item="{{item.option.icon}}" title="{{item.name}}" ng-style="item.option.style" ng-click="onClickColorButton();"><div color-display="" ng-style="{backgroundColor: item.value, borderColor: item.value}"></div><div flex="" jj-color-picker="" style="display: none;" hide-input="item.option.hideInput" ng-model="item.value" ng-select="onSelectColorChanged()"></div></div><div ng-if="hasDropdown && item.option.list" menu-item="dropdownButton" ng-click="onClickDropdownButton()"><md-select ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()" ng-click="stopBubbling($event);"><md-option ng-repeat="prop in item.option.list" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option></md-select></div><div ng-if="item.option.type===\'select\'" layout="raw" flex="" menu-item="{{item.name}}" title="{{item.name}}"><md-select flex="" ng-if="item.option.groupList" ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()"><md-optgroup ng-repeat="currentGroup in item.option.groupList" label="{{currentGroup}}"><md-option ng-if="item.name!==\'fontFamily\'" ng-repeat="prop in item.option.list | filter: {group: currentGroup}" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option><md-option ng-if="item.name===\'fontFamily\'" ng-repeat="font in item.option.list | filter: {group: currentGroup}" ng-value="font.value" fontview="" ng-style="{fontFamily: font.value}" ng-click="onClickSelectOption();">{{font.label}}</md-option></md-optgroup></md-select><md-select flex="" ng-if="!item.option.groupList" ng-model="item.value" aria-label="{{item.name}}" md-on-open="onSelectOpen()" md-on-close="onSelectClose()" ng-change="onSelectChanged()"><md-option ng-repeat="prop in item.option.list" ng-value="prop.value" ng-click="onClickSelectOption();">{{prop.label}}</md-option></md-select></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("richEditor/_jj-rich-text-editor-menu.html",'<div flex="" layout="row" layout-align="start center" style="height: 100%;"><div ng-if="menu.length > 0" menu-container="" flex="" layout="raw" style="height: 100%;"><div menu-group-container="" layout="column" layout-align="start center" ng-repeat="menuGroup in menu track by $index"><div group-menu-item="" layout="row" layout-align="start center" flex=""><div ng-repeat="menuItem in menuGroup.items track by $index" _jj-rich-text-editor-menu-item="" in-popup="{{config.isPopup}}" item="items[menuItem]" disable="!config.enable" on-changed="onChanged(item)"></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("tree/jj-thumbnail.html",'<div layout="column" flex="" layout-align="center center" ng-style="thumbnailStyle"><div thumbnail-container="" layout="raw" layout-align="center center" ng-style="{height: paperStyle.height}"><div jj-tree-paper="" uid="{{ uid }}" ng-style="paperStyle"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("tree/jj-tree-item.html",'<div layout="column" ng-model="isHover" ng-init="isHover=false" ng-mouseover="isHover=true" ng-mouseleave="isHover=false" ng-class="{isHover:isHover, selected:(document === uid), dragOver: isDragOver, multiselect: isMultiselected}" dropdirection="{{dropDirection}}"><div before-anchor=""></div><div layout="row" flex=""><div tree-item-left="" layout="column" layout-align="center center"><form name="form" ng-submit="moveDocument()" notghost=""><input label="" type="text" name="label" ng-required="true" ng-minlength="1" ng-maxlength="3" ng-pattern="/^\\d+$/" ng-trim="true" ng-model="pageNumber" onclick="this.select()" ng-blur="checkPageNumber()" ng-change="onChange()" ng-class="{error:!(form.$valid)}"></form><div move-button="" ng-show="(moveButtonVisible && form.$valid)" notghost="" ng-click="moveDocument()" title="Move document"></div><div flex=""></div><div del-button="" ng-click="removeDocument()" notghost="" title="Delete document {{ index }}"></div></div><div tree-item-middle="" layout="column" flex="" layout-align="center center"><div jj-thumbnail="" uid="{{ uid }}" ng-click="selectDocument($event)"></div></div><div tree-item-right="" layout="column" layout-align="end center" notghost=""><div add-button="" ng-click="addDocument()" title="Add new document"></div></div></div><div after-anchor=""></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("tree/jj-tree-paper.html",'<div layout=""><div paper-background="" ng-style="backgroundStyle"></div><div master="" ng-style="master.style" ng-if="master.url"></div><img capture="" ng-src="{{capture.url}}" ng-style="capture.style"></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/event/jj-event-basic.html",'<div><div layout="column"><div ng-repeat="eventGroup in eventGroups"><div panel-menu-area="" ng-style="{paddingTop: ($first) ? 0 : 5}"><div panel-title="" layout="raw" flex="" layout-align="start center">{{ eventGroup }}</div></div><div ng-repeat="eventItem in events | filter: {group: eventGroup}"><div slidertitle="" ng-class="{jj_form_title: true, extend: eventItem.slider}" ng-click="eventItem.slider = !eventItem.slider">{{ eventItem.label }}<div class="numberBadge" ng-class="{badgeOff: (eventCounter[eventItem.type] == 1)}" layout="raw" layout-align="center center">{{ eventCounter[eventItem.type] - 1 }}</div></div><div jj-slider="eventItem.slider"><div><div layout="raw"><md-button flex="" class="md-raised md-primary" type="button" ng-click="addEvent(eventItem)" style="margin:0px;width: 100%;">Action</md-button><div style="width: 5px;"></div><md-button flex="" class="md-raised md-primary" type="button" ng-click="addEvent(eventItem, \'custom.script\')" style="margin:0px;width: 100%;">Script</md-button></div><div class="listTable" style="margin-top: 10px;"><div layout="raw" ng-repeat="actionItem in resultEvents[eventItem.type].actions track by $index" class="listTr"><div class="listTd indexLabel" layout="" layout-align="center center">{{ $index }}</div><div flex="" class="listTd label" layout="" layout-align="start center">{{ actionItem.label }}</div><div button-item="edit" layout="" layout-align="center center" class="listTd" title="edit" ng-click="editAction(eventItem.type, $index)"></div><div button-item="delete" layout="" layout-align="center center" class="listTd" title="remove" ng-click="deleteAction(eventItem.type, $index)"></div></div></div></div></div><div class="jj_form_line_h"></div></div></div></div></div>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/event/jj-event-editor-popup.html",'<div explorer-view-container="" layout="column" layout-align="center center"><div container="" layout="column" class="jj_form"><md-toolbar><div class="md-toolbar-tools"><h2 style="text-transform: capitalize;">on {{config.eventType}} {{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><div flex="" jj-event-editor=""></div><div content="" class="md-actions" layout="row" layout-align="end center"><md-button ng-click="close(0)" class="md-primary">{{ config.cancel }}</md-button><md-button ng-click="close(1)" class="md-accent" style="margin-right: 0;">{{ config.ok }}</md-button></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/event/jj-event-editor.html",'<div content="" form-layout=""><h2>액션</h2><md-select flex="" ng-model="currentAction" aria-label="action select" ng-change="actionChange()"><md-optgroup ng-repeat="currentGroup in actionGroups" label="{{currentGroup}}"><md-option ng-repeat="action in actions | filter: {group: currentGroup}" ng-value="(action.group+\'.\'+action.name)">{{action.label}}</md-option></md-optgroup></md-select><div style="padding: 16px 0 0 0;" ng-bind-html="selectAction.desc"></div><div layout="column" flex="" ng-if="selectAction.params && selectAction.params.length > 0"><h2>설정값</h2><div class="listTable"><div layout="raw" ng-repeat="item in selectAction.params" flex="{{ (item.editor.type===\'textarea\')?\'initial\':0; }}" class="listTr" ng-class="{firstTr: $first}"><div layout="raw" flex="" ng-if="!item.editor"><div class="listTd label name" layout="" layout-align="start center" style="width: 100%;font-weight: bold;" title="{{ item.label }}">{{ item.label }}</div></div><div layout="raw" flex="" ng-if="item.editor && item.editor.type!=\'textarea\'"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> {{ item.label }}</div><div flex="" jj-form-item="" class="listTd label" item="item" index="{{ $index }}" submit="submit(index, result)"></div></div><div layout="column" flex="" ng-if="item.editor.type===\'textarea\'"><div layout="raw"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}" style="padding-bottom: 0"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> <span ng-if="!item.weblink">{{ item.label }}</span> <span ng-if="item.weblink" class="link" ng-click="weblink(item.weblink);">{{ item.label }}</span></div><div flex=""></div></div><div jj-form-item="" class="listTd label" item="item" index="{{ $index }}" submit="submit(index, result)"></div></div></div><div layout="column" class="listTr" ng-if="result.name == \'script\' && (config.type == \'document\' && config.eventType == \'unload\')"><div layout="raw" flex="" ng-if="item.editor.type!=\'textarea\'"><div class="listTd label name" layout="" layout-align="start center" title="실행 순서">실행 순서</div><div class="listTd label" layout="raw" flex="" layout-align="start center"><div style="text-align: left;margin-left: 10px;color: red; white-space: normal;">비동기 처리($asynchronous) 옵션을 사용할 수 없습니다.<br>"unload" 이벤트에 등록된 코드는 모두 동기 처리됩니다.<br>setTimeout 같은 시간 관련 함수와 alert, confirm, prompt 등의 비동기 처리 코드는 동작되지 않습니다.</div></div></div></div><div layout="column" class="listTr" ng-if="result.name == \'script\' && !(config.type == \'document\' && config.eventType == \'unload\')"><div layout="raw" flex="" ng-if="item.editor.type!=\'textarea\'"><div class="listTd label name" layout="" layout-align="start center" title="실행 순서">실행 순서</div><div class="listTd label" layout="raw" flex="" layout-align="start center"><input type="checkbox" ng-model="result.asynchronous" style="width:25px;"><div style="text-align: left;margin-left: 10px;">코드에서 직접 $resolve 함수를 호출하여 다음 Action을 실행합니다. ($asynchronous)</div></div></div><div layout="raw" flex="" ng-if="item.editor.type!=\'textarea\'"><div class="listTd label name" layout="" layout-align="start center"></div><div class="listTd label" layout="raw" flex="" layout-align="start center" style="padding-top: 0;"><p style="margin: 0;">위 체크박스를 선택할 경우, 직접 <b><i>$resolve()</i></b>, 또는 <b><i>$reject()</i></b> 함수를 직접 작성해 주어야 합니다.<br><b><i>$resolve(), $reject()</i></b> 함수에 매개변수로 데이터를 넘겨줄 수 있습니다.<br>이 데이터는 다음으로 실행되는 사용자 코드에서 <b><i>$result</i></b> 변수명으로 참조할 수 있습니다.</p></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/event/jj-form-item.html",'<div layout="raw" flex=""><input type="checkbox" ng-if="temp.displayEnableBox" ng-model="temp.enable" ng-change="itemEnableChange()" style="width: 25px; margin: 0 10px 0 0;"><div flex="" ng-if="item.editor.type==\'input\'" ng-attr-protect="{{ !temp.enable }}"><div ng-if="item.editor.inputType==\'text\'" layout="raw" flex=""><input type="text" ng-model="item.value" ng-model-options="{ allowInvalid: true }" ng-style="item.editor.style" ng-class="classObject" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.maxLength" ng-minlength="item.editor.minLength" placeholder="{{ item.editor.placeholder }}" ng-change="itemChange()" style="text-align: left;"></div><div ng-if="item.editor.inputType==\'checkbox\'" layout="raw" flex=""><input type="checkbox" id="{{ item.name }}" ng-model="item.value" ng-change="itemChange()" ng-style="item.editor.style" ng-class="classObject" ng-value="item.value" style="width: 25px;"> <label flex="" for="{{ item.name }}" style="text-align: left;padding-left: 10px;">{{ item.editor.label }}</label></div><div ng-if="item.editor.inputType==\'number\'" layout="raw" flex=""><input type="number" ng-model="item.value" ng-model-options="{ allowInvalid: true }" ng-style="item.editor.style" ng-class="classObject" ng-value="item.value" ng-pattern="item.editor.pattern" placeholder="{{ item.editor.placeholder }}" ng-min="item.editor.min" ng-max="item.editor.max" ng-change="itemChange()" style="text-align: left;"></div><div ng-if="item.editor.inputType==\'file\'" layout="raw" flex="" layout-align="start center"><div ng-style="displayImageStyle"></div><div flex="" layout="{{(item.editor.display===\'image\')?\'column\':\'raw\'}}"><md-button class="md-raised md-primary" type="button" ng-click="openImageDialogBox()" style="margin: 0 10px 0 0;width: 100px;">이미지 선택</md-button><br ng-if="item.editor.display===\'image\' && item.value"><div layout="raw" layout-align="" flex="" ng-class="{ jj_form_disable: false }" ng-if="item.value" class="ellipsis" style="display: block;">{{ item.valueLabel || item.value }}</div></div><md-icon md-svg-src="./image/icons/ic_close_24px.svg" ng-if="item.value" aria-label="remove image source" style="color: rgba(0,0,0,0.54);cursor: pointer;" ng-click="removeResource()"></md-icon></div></div><div ng-if="item.editor.type===\'textarea\'" layout="column" flex="" ng-attr-protect="{{ !temp.enable }}"><textarea ng-if="!item.editor.codeEditorType" flex="" ng-model="item.value" ng-model-options="{ allowInvalid: true }" style="resize: none; font: 12px/1.2 Menlo,Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif" ng-style="item.editor.style" ng-class="classObject" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.maxLength" ng-minlength="item.editor.minLength" placeholder="{{ item.editor.placeholder }}" ng-change="itemChange()"></textarea><div ng-if="item.editor.codeEditorType" code-editor="" flex="" ng-style="item.editor.style" ng-class="classObject"><textarea id="codeItem" name="codeItem" style="resize: none; height: 100%;"></textarea><div ng-if="item.editor.codeEditorLauncher" code-editor-keymap-info="" title="편집기 단축키 정보" ng-click="openEditorKeymap()"></div><div ng-if="item.editor.codeEditorLauncher" code-editor-launcher="" title="편집기에서 편집" ng-click="openCodeEditor()"></div></div></div><div flex="" ng-if="item.editor.type==\'select\'" ng-attr-protect="{{ !temp.enable }}"><md-select ng-model="item.value" ng-style="item.editor.style" ng-class="classObject" aria-label="{{ item.desc }}" ng-change="itemChange()"><md-option ng-value="option.value" ng-repeat="option in item.editor.data">{{ option.label }}</md-option></md-select></div><div flex="" ng-if="item.editor.type==\'radio\'" ng-attr-protect="{{ !temp.enable }}"><div ng-if="item.caption">{{ item.desc }}</div><md-radio-group ng-model="item.value" ng-change="itemChange()" aria-label="{{ item.desc }}"><md-radio-button ng-style="item.editor.style" ng-class="classObject" aria-label="{{ item.label }}" ng-repeat="option in item.editor.data" ng-value="option.value" style="display: inline-block; margin: 0;">{{option.label}}</md-radio-button></md-radio-group></div><div flex="" ng-if="item.editor.type==\'color\'" ng-attr-protect="{{ !temp.enable }}"><div flex="" jj-color-picker="" ng-model="item.value" ng-select="itemChange()"></div></div><div flex="" ng-if="item.editor.type==\'uid\'" ng-attr-protect="{{ !temp.enable }}"><div ng-if="!item.editor.multiSelect"><md-select flex="" ng-model="item.value" ng-style="item.editor.style" ng-class="classObject" aria-label="{{ item.desc }}" ng-change="itemChange()"><md-option ng-value="uidItem.value" ng-repeat="uidItem in UIDs">{{ uidItem.label }}</md-option></md-select></div><div ng-if="item.editor.multiSelect" style="min-height: 150px; max-height: 200px; overflow: auto; background-color: rgba(0,0,0,0.05); border-radius: 0px; padding: 0px;"><div ng-repeat="uidItem in UIDs" layout="raw" flex="" layout-align="start center" class="listItem" ng-class="$even ? \'odd\' : \'even\'"><input type="checkbox" id="uid_{{$index}}" ng-model="uidItem.select" ng-change="itemUIDChange()" ng-value="uidItem.value" style="width: 25px; margin: 0 5px;"> <label for="uid_{{$index}}" layout="raw" flex="" layout-align="start center" title="{{ uidItem.label }}" style="text-align: left; padding: 0; margin-left: 5px;">{{ uidItem.label }}</label></div></div></div><div flex="" ng-if="item.editor.type===\'buttonCallback\'" ng-attr-protect="{{ !temp.enable }}"><div flex="" layout="raw"><md-button class="md-raised md-primary" type="button" ng-click="item.editor.onChange(item, itemChange);" style="margin: 0 10px 0 0;">{{ item.editor.label }}</md-button><div ng-if="item.editor.inputType!==\'text\'" layout="raw" layout-align="start center" flex="" ng-style="item.editor.style" ng-class="classObject" style="text-align: left;">{{ item.valueLabel || item.value }}</div><div ng-if="item.editor.inputType==\'text\'" layout="raw" layout-align="start center" flex=""><input type="text" ng-model="item.value" ng-model-options="{ allowInvalid: true }" ng-style="item.editor.style" ng-class="classObject" ng-pattern="item.editor.pattern" ng-maxlength="item.editor.maxLength" ng-minlength="item.editor.minLength" placeholder="{{ item.editor.placeholder }}" ng-change="itemChange()" style="text-align: left;"></div></div></div><div flex="" ng-if="item.editor.type===undefined || item.editor.type===\'\'" ng-attr-protect="{{ !temp.enable }}"><div layout="raw" flex="" ng-style="item.editor.style" ng-class="classObject" style="text-align: left;">{{ item.valueLabel || item.value }}</div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/event/__jj-event-image.html","<div>Event 설정창</div>")}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-asset-box.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="center center" ng-class="{dragging:isDragging}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;" title="{{info.label}}"><div imageviewer="" ng-style="imageStyle"></div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: absolute;top: 5px;right: 5px;" notghost=""><div ng-if="info.uid" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="showInfoItem()"></div><div button-item="edit" ng-if="!info.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyItem()"></div><div button-item="delete" ng-if="!info.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteItem()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-asset-list.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="start center" ng-class="{dragging:isDragging}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;" title="{{info.label}}"><div tab="" ng-if="item.depth>0" ng-style="{width: item.depth*tabWidth}" notghost=""></div><div imageviewer="" ng-style="imageStyle"></div><div flex="" labeldisplay="" title="{{ info.label }}">{{ info.label }}</div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: relative;top: 0;right: 0;bottom: 0;" notghost=""><div ng-if="info.uid" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="showInfoItem()"></div><div button-item="edit" ng-if="!info.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyItem()"></div><div button-item="delete" ng-if="!info.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteItem()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-component-box.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="center center" ng-class="{dragging:isDragging, isSelected: isSelected}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;"><div layout="column" layout-align="center center" ng-if="thumbnailSource"><div thumbnail="" flex="" layout="raw" layout-align="center center"><img ng-src="{{ thumbnailSource }}"></div><div versiondisplay="" ng-if="isSelected" style="position: absolute; bottom: 10px;">{{item.label}}</div></div><div layout="column" layout-align="center center" ng-if="!thumbnailSource"><span labeldisplay="">{{ item.label }}</span></div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: absolute;top: 5px;right: 5px;" notghost=""><div ng-if="item.component" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="infoComponent()"></div><div button-item="edit" ng-if="!item.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyComponent()"></div><div button-item="delete" ng-if="!item.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteComponent()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-component-list.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="start center" ng-class="{dragging:isDragging}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;" title="{{item.label}}"><div tab="" ng-if="item.depth>0" ng-style="{width: item.depth*tabWidth}" notghost=""></div><div typeicon="" icon="{{ item.type }}" ng-if="!item.showImage"></div><div imageviewer="" ng-style="imageStyle" ng-if="item.showImage"></div><div flex="" labeldisplay="" title="{{item.label}}">{{ item.label }}</div><div ng-if="!isSelected" versiondisplay="" title="{{item.userVersion}}">{{item.userVersion}}</div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: relative;top: 0;right: 0;bottom: 0;" notghost=""><div ng-if="item.component" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="infoComponent()"></div><div button-item="edit" ng-if="!item.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyComponent()"></div><div button-item="delete" ng-if="!item.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteComponent()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-item.html",'<div drag-id="Insert the element to the paper" flex="" layout="column" layout-align="center center" ng-class="{dragging:isDragging}" title="{{ item.label }}"><div item-icon="{{item.type}}"></div><div style="min-width: 50px; width: 90%; max-height: 95px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ item.label }}</div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-template-box.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="center center" ng-class="{dragging:isDragging, isSelected: isSelected}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;"><div layout="column" layout-align="center center" ng-if="thumbnailSource"><div thumbnail="" flex="" layout="raw" layout-align="center center"><img ng-src="{{ thumbnailSource }}"></div><div versiondisplay="" ng-if="isSelected" style="position: absolute; bottom: 10px;">{{item.label}}</div></div><div layout="column" layout-align="center center" ng-if="!thumbnailSource"><span labeldisplay="">{{ item.label }}</span></div><div button-item="insert" layout="" layout-align="center center" ng-click="insertTemplate()"></div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: absolute;top: 5px;right: 5px;" notghost=""><div ng-if="item.template" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="infoTemplate()"></div><div button-item="edit" ng-if="!item.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyTemplate()"></div><div button-item="delete" ng-if="!item.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteTemplate()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/jj-content-template-list.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="start center" ng-class="{dragging:isDragging}" ng-mouseover="isSelected=true;" ng-mouseleave="isSelected=false;" title="{{item.label}}"><div tab="" ng-if="item.depth>0" ng-style="{width: item.depth*tabWidth}" notghost=""></div><div typeicon="" icon="{{ item.type }}" ng-if="!item.showImage"></div><div imageviewer="" ng-style="imageStyle" ng-if="item.showImage"></div><div flex="" labeldisplay="" title="{{item.label}}">{{ item.label }}</div><div ng-if="!isSelected" versiondisplay="" title="{{item.userVersion}}">{{item.userVersion}}</div><div ng-if="isSelected" layout="raw" layout-align="start center" style="position: relative;top: 0;right: 0;bottom: 0;" notghost=""><div ng-if="item.template" button-item="info" layout="" layout-align="center center" title="item infomation" style="position: relative;" ng-click="infoTemplate()"></div><div button-item="edit" ng-if="!item.bundle" layout="" layout-align="center center" title="edit item" style="position: relative;" ng-click="modifyTemplate()"></div><div button-item="delete" ng-if="!item.bundle" layout="" layout-align="center center" style="position: relative;" title="delete item" ng-click="deleteTemplate()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/__jj-content-asset.html",'<div drag-id="Insert the element to the paper" flex="" layout="raw" layout-align="center center" ng-class="{dragging:isDragging}"><div imageviewer="" ng-style="imageStyle"></div><div button-item="insert" layout="" layout-align="center center"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/__jj-content-master.html",'<div flex="" layout="raw" layout-align="center center" ng-class="{dragging:isDragging}"><div imageviewer="" ng-style="imageStyle"></div><div button-item="insert" layout="" layout-align="center center" title="insert master image" ng-click="insertMaster()"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/__jj-content-template.html",'<div flex="" layout="column" layout-align="center center" title="{{ item.label }}" ng-class="{dragging:isDragging}"><div thumbnail="" flex="" layout="raw" layout-align="center center"><img ng-src="{{ item.thumbnail.source }}" ng-style="{backgroundColor: item.thumbnail.backgroundColor}" style=""><div versiondisplay="">create {{item.version}}</div></div><div button-item="insert" layout="" layout-align="center center" title="insert template page" ng-click="insertTemplate(item.template)"></div><div label="">{{ item.label }}</div><div button-item="delete" layout="" layout-align="center center" style="top: 5px; right: 5px;" title="remove template" ng-click="removeTemplate(item.template)"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/operation/jj-operation-layout.html",'<div><div layout="column"><div jj-layout-tool=""></div><div arrange-tool="" layout="column" style="overflow: hidden;"><div panel-menu-area=""><div panel-title="" layout="raw" flex="" layout-align="start center" style="border-bottom: 0;">객체 순서 정렬</div></div><div layout="raw"><div content-box="" layout="column" flex="" title="맨 뒤로" ng-class="{jj_form_disable:arrange.back.disable}" ng-click="arrangeChange(\'back\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/move_to_back.png"><span>맨 뒤로</span></div></div><div content-box="" layout="column" flex="" title="뒤로" ng-class="{jj_form_disable:arrange.backward.disable}" ng-click="arrangeChange(\'backward\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/move_backward.png"><span>뒤로</span></div></div><div content-box="" layout="column" flex="" title="앞으로" ng-class="{jj_form_disable:arrange.forward.disable}" ng-click="arrangeChange(\'forward\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/move_forward.png"><span>앞으로</span></div></div><div content-box="" layout="column" flex="" title="맨 앞으로" ng-class="{jj_form_disable:arrange.front.disable}" ng-click="arrangeChange(\'front\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/move_to_front.png"><span>맨 앞으로</span></div></div></div></div><div align-tool="" layout="column" style="overflow: hidden;"><div panel-menu-area=""><div panel-title="" layout="raw" flex="" layout-align="start center" style="border-bottom: 0;">객체 맞춤 정렬</div></div><div layout="column" style="margin: 10px;"><div layout="raw" flex=""><md-select flex="" ng-model="alignOption.sortByPage" aria-label="align Option" ng-change="onAlignOptionChange()"><md-option ng-value="\'element\'">선택 객체에 맞춤</md-option><md-option ng-value="\'page\'">페이지에 맞춤</md-option></md-select></div><div class="space"></div><div layout="raw" flex="" ng-class="{jj_form_disable: alignOption.sortByPage!==\'page\'}"><input type="checkbox" style="margin: 1px 5px 1px 0; width: 25px;" ng-model="alignOption.sortByPage_virtualGroup" ng-change="onVirtualGroupChange()"> <label layout="raw" flex="" layout-align="start center">선택 객체를 그룹처럼 이동</label></div></div><div layout="raw" align-icon="" style="margin: 0 10px 0 10px;" ng-class="{jj_form_disable: !alignOption.canAlign}"><div content-box="" layout="column" flex="" title="왼쪽 맞춤" ng-click="onDirectionChange(\'left\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_left.png"><span>왼쪽 맞춤</span></div></div><div content-box="" layout="column" flex="" title="가운데 맞춤" ng-click="onDirectionChange(\'center\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_center.png"><span>가운데 맞춤</span></div></div><div content-box="" layout="column" flex="" title="오른쪽 맞춤" ng-click="onDirectionChange(\'right\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_right.png"><span>오른쪽 맞춤</span></div></div></div><div layout="raw" align-icon="" style="margin: 0 10px 100px 10px;" ng-class="{jj_form_disable: !alignOption.canAlign}"><div content-box="" layout="column" flex="" title="위쪽 맞춤" ng-click="onDirectionChange(\'top\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_top.png"><span>위쪽 맞춤</span></div></div><div content-box="" layout="column" flex="" title="중간 맞춤" ng-click="onDirectionChange(\'middle\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_middle.png"><span>중간 맞춤</span></div></div><div content-box="" layout="column" flex="" title="아래쪽 맞춤" ng-click="onDirectionChange(\'bottom\');"><div content-item-icon="" layout="column" flex="" layout-align="center center"><img src="./image/appicon/align_bottom.png"><span>아래쪽 맞춤</span></div></div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-audio.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.audio}" ng-click="toggleSlider(\'audio\')">오디오</div><div jj-slider="slider.audio"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div ng-show="status.state==\'normal\'"><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-audio=""></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-button.html",'<div><div ng-show="status.state==\'normal\'"><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.button}" ng-click="toggleSlider(\'button\')">Button</div><div jj-slider="slider.button"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-document.html",'<div layout="column"><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.document}" ng-click="toggleSlider(\'document\')">Document</div><div jj-slider="slider.document"><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div><div class="space"></div><div jj-box-common="{name:\'subject\',label:\'문서 제목\', invalid:true}" ng-class="{ jj_form_disable: !uid }"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.master}" ng-click="toggleSlider(\'master\')">배경 이미지</div><div jj-slider="slider.master"><div jj-box-master=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.searchText}" ng-if="!companyNotSupport" ng-click="toggleSlider(\'searchText\')">페이지(검색) 내용</div><div jj-slider="slider.searchText" ng-if="!companyNotSupport"><div jj-box-search-text=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-group.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.group}" ng-click="toggleSlider(\'group\')">그룹화</div><div jj-slider="slider.group"><div><div jj-box-string="{name:\'uid\',label:\'Group UID\',style:{minHeight: \'58px\'}}" ng-class="{ jj_form_disable: !uid }"></div><div ng-if="!uid"><md-button class="md-raised md-primary" ng-click="createGroup()" style="margin: 5px 0px;width: 100%;">그룹으로 지정</md-button></div><div ng-if="uid" ng-class="{jj_form_lockIcon: capsule.groupLock}"><md-button class="md-raised md-warn" ng-class="{jj_form_disable: capsule.groupLock}" ng-disabled="capsule.groupLock" ng-click="removeGroup()" style="margin: 5px 0px;width: 100%;">그룹 해지</md-button></div></div></div><div ng-if="uid"><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.capsule}" ng-click="toggleSlider(\'capsule\')">캡슐화</div><div jj-slider="slider.capsule"><div><div ng-class="{ jj_form_disable: !uid}"><div ng-if="uid" ng-class="{jj_form_lockIcon: capsule.schemaLock}"><md-button class="md-raised md-primary" ng-class="{jj_form_disable: capsule.schemaLock}" ng-disabled="capsule.schemaLock" ng-click="editSchema();" style="margin: 5px 0px;width: 100%;">캡슐화 목록 편집</md-button></div><div flex="" jj-capsule-view="" uid="uid" ng-repeat="item in capsule.schema" item="item" values="capsule.values" style="margin-top: 10px;"></div></div><div class="space"></div><div ng-class="{ jj_form_disable: !uid || false }"></div></div></div><div class="jj_form_line_h"></div></div><div jj-property-mask="" ng-if="uid" class="propertyPanel"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-html.html","<div><div slidertitle=\"\" ng-class=\"{jj_form_title: true, extend:slider.html}\" ng-click=\"toggleSlider('html')\">HTML 박스</div><div jj-slider=\"slider.html\"><div jj-box-common=\"{name:'name',label:'이 름', required: true}\" ng-class=\"{ jj_form_disable: status.state!='normal' }\"></div><div class=\"space\"></div><div jj-box-common=\"{name:'id',label:'아이디'}\" ng-class=\"{ jj_form_disable: status.state!='normal' }\"></div><div class=\"space\"></div><div jj-box-string=\"{name:'uid',label:'UID',style:{minHeight: '58px'}}\"></div></div><div class=\"jj_form_line_h\"></div><div slidertitle=\"\" ng-class=\"{jj_form_title: true, extend:slider.configuration}\" ng-click=\"toggleSlider('configuration')\">기본 설정</div><div jj-slider=\"slider.configuration\"><div jj-box-background-color=\"\"></div><div class=\"space\"></div><div jj-box-common=\"{propGroup:'option', name:'overflowX', fixedValueState: 'normal', label:'좌우 스크롤', invalid: false, change: true, blur: false, input: { type:'select', options:[{label: '자동', value: 'auto'},{label: '항상 보이기', value: 'scroll'},{label: '없음', value: 'hidden'}] }}\"></div><div class=\"space\"></div><div jj-box-common=\"{propGroup:'option', name:'overflowY', fixedValueState: 'normal', label:'상하 스크롤', invalid: false, change: true, blur: false, input: { type:'select', options:[{label: '자동', value: 'auto'},{label: '항상 보이기', value: 'scroll'},{label: '없음', value: 'hidden'}] }}\"></div><div class=\"space\"></div><div jj-box-html=\"\"></div></div><div class=\"jj_form_line_h\"></div><div slidertitle=\"\" ng-class=\"{jj_form_title: true, extend:slider.border}\" ng-click=\"toggleSlider('border')\">선 스타일</div><div jj-slider=\"slider.border\"><div jj-box-border=\"\"></div></div><div class=\"jj_form_line_h\"></div></div>");

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-image.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.background}" ng-click="toggleSlider(\'background\')">이미지</div><div jj-slider="slider.background"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-string="{propGroup:\'style\', name:\'backgroundImage\',label:\'Asset UID\',style:{minHeight: \'58px\'}}"></div><div class="space"></div><div jj-box-background=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.border}" ng-click="toggleSlider(\'border\')">선 스타일</div><div jj-slider="slider.border"><div jj-box-border=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.padding}" ng-click="toggleSlider(\'padding\')">박스 안 여백</div><div jj-slider="slider.padding"><div jj-box-padding=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-input.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.input}" ng-click="toggleSlider(\'input\')">텍스트 입력 박스</div><div jj-slider="slider.input"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-background-color=""></div><div class="space"></div><div jj-box-common="{propGroup:\'option\', name:\'multiline\', fixedValueState: \'normal\', label:\'줄바꿈 허용\', invalid: false, change: true, blur: false, input: {type:\'checkbox\'}}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div ng-if="option.multiline" jj-box-common="{propGroup:\'option\', name:\'placeholder\',label:\'기본값 표시\', input: {type:\'text\', multiline: true}}"></div><div ng-if="!option.multiline" jj-box-common="{propGroup:\'option\', name:\'placeholder\',label:\'기본값 표시\', input: {type:\'text\', multiline: false}}"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.font}" ng-click="toggleSlider(\'font\')">글꼴</div><div jj-slider="slider.font"><div jj-box-font=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.border}" ng-click="toggleSlider(\'border\')">선 스타일</div><div jj-slider="slider.border"><div jj-box-border=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.padding}" ng-click="toggleSlider(\'padding\')">박스 안 여백</div><div jj-slider="slider.padding"><div jj-box-padding=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.paragraph}" ng-click="toggleSlider(\'paragraph\')">문단 스타일</div><div jj-slider="slider.paragraph"><div jj-box-paragraph=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-mask.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.mask}" ng-click="toggleSlider(\'mask\')">그룹 상자</div><div jj-slider="slider.mask"><div><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div><md-button ng-class="{ jj_form_disable: !useSizeResetButton}" ng-click="sizeReset()" class="md-button-flat" style="margin: 5px 0px;width: 100%;">내용물 기준으로 위치, 크기 재설정</md-button></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div class="space"></div><div jj-box-background-color=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.overflow}" ng-click="toggleSlider(\'overflow\')">넘침 영역 설정</div><div jj-slider="slider.overflow"><div jj-box-overflow=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.border}" ng-click="toggleSlider(\'border\')">선 스타일</div><div jj-slider="slider.border"><div jj-box-border=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-project.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.project}" ng-click="toggleSlider(\'project\')">용지 설정</div><div jj-slider="slider.project"><div jj-box-paper-size="" ng-class="{ jj_form_disable: !uid }"></div><div style="margin: 10px 0px; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px;">용지 크기를 변경하면 편집(Undo/Redo) 내역이 초기화 됩니다.</div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.publish}" ng-click="toggleSlider(\'publish\')">출판 설정</div><div jj-slider="slider.publish"><md-button class="md-raised md-primary" type="button" ng-click="openPublishSetting()" style="margin: 5px 0px;width: 100%;">출판 정보 설정</md-button><div style="margin: 5px 0px; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px;">아래에 설정된 내용은 프로젝트에 포함된 모든 페이지에 일괄 적용됩니다.</div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.contentEditor}" ng-click="toggleSlider(\'contentEditor\')">목차 설정</div><div jj-slider="slider.contentEditor"><md-button class="md-raised md-primary" type="button" ng-click="openContentEditor()" style="margin: 5px 0px;width: 100%;">목차 편집기</md-button><div style="margin: 5px 0px; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px;">프로젝트를 출판 했을때 Epub 문서의 목차로 설정됩니다.</div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.fileEditor}" ng-click="toggleSlider(\'fileEditor\')">외부 파일 설정</div><div jj-slider="slider.fileEditor"><md-button class="md-raised md-primary" type="button" ng-click="openFileEditor()" style="margin: 5px 0px;width: 100%;">파일 목록</md-button><div style="margin: 5px 0px; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px;">문서에 포함시킬 JS, CSS 파일 또는 Font 목록을 편집합니다.</div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-text.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.text}" ng-click="toggleSlider(\'text\')">텍스트</div><div jj-slider="slider.text"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-background-color=""></div><div class="space"></div><div jj-box-text=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.font}" ng-click="toggleSlider(\'font\')">스타일 편집</div><div jj-slider="slider.font"><div jj-rich-text-editor-menu="" config="editorConfig" flex=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.border}" ng-click="toggleSlider(\'border\')">선 스타일</div><div jj-slider="slider.border"><div jj-box-border=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.padding}" ng-click="toggleSlider(\'padding\')">박스 안 여백</div><div jj-slider="slider.padding"><div jj-box-padding=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.paragraph}" ng-click="toggleSlider(\'paragraph\')">문단 스타일</div><div jj-slider="slider.paragraph"><div jj-box-paragraph=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.column}" ng-click="toggleSlider(\'column\')">다단 스타일</div><div jj-slider="slider.column"><div jj-box-column=""></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-video.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.video}" ng-click="toggleSlider(\'video\')">비디오</div><div jj-slider="slider.video"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div ng-show="status.state==\'normal\'"><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-video=""></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/jj-property-web.html",'<div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.web}" ng-click="toggleSlider(\'web\')">Web 뷰어</div><div jj-slider="slider.web"><div jj-box-common="{name:\'name\',label:\'이 름\', required: true}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-common="{name:\'id\',label:\'아이디\'}" ng-class="{ jj_form_disable: status.state!=\'normal\' }"></div><div class="space"></div><div jj-box-string="{name:\'uid\',label:\'UID\',style:{minHeight: \'58px\'}}"></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.configuration}" ng-click="toggleSlider(\'configuration\')">기본 설정</div><div jj-slider="slider.configuration"><div jj-box-background-color=""></div><div class="space"></div><div jj-box-web=""></div></div><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend:slider.border}" ng-click="toggleSlider(\'border\')">선 스타일</div><div jj-slider="slider.border"><div jj-box-border=""></div></div><div class="jj_form_line_h"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/selector/jj-explorer-selector.html",'<div layout="column"><div jj-explorer-tree-header="" config="config" ng-if="!config.options.hideHeader"></div><div flex="" explorer-tree-scroller="" ng-style="{maxWidth: config.style.maxWidth, overflow: \'auto\'}"><div jj-explorer-tree="root" ng-if="config.uid" root="{{ config.root }}" uid="{{ config.uid }}" depth="-1" index="-1" close-function="close(code)"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/selector/jj-explorer-tree-header.html",'<div layout="raw" layout-align="start center"><div separated-box="" layout="raw" layout-align="start center"><input type="checkbox" id="checkbox-showLabelDetail" ng-model="config.options.showLabelDetail" style="margin: 0 5px;" ng-change="onShowLabelDetailChanged();"> <label label="" for="checkbox-showLabelDetail">세부정보</label></div><div separated-box="" layout="raw" layout-align="start center"><label style="padding: 0 2px 0 2px;">종류별</label><md-select ng-model="elementFilters.value" aria-label="filter select" ng-change="filterChange(\'element\')"><md-option ng-repeat="(key, value) in elementFilters.type" ng-value="value">{{key}}</md-option></md-select></div><div separated-box="" layout="raw" layout-align="start center"><label style="padding: 0 2px 0 2px;">내용별</label><md-select ng-model="infoFilters.value" aria-label="filter select" ng-change="filterChange(\'info\')"><md-option ng-repeat="(key, value) in infoFilters.type" ng-value="value">{{key}}</md-option></md-select></div><div separated-box="" flex=""></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/selector/jj-explorer-tree-item.html",'<div ng-class="{ isGroup: treeItem.state.isGroup, selected: treeItem.state.selected }" title="{{treeItem.info.description || treeItem.info.target}}" layout="raw" layout-align="start center"><div tab="" ng-if="depth>0" ng-click="onClick_tabButton();" ng-style="{ width: depth*tabWidth, zIndex: treeItem.state.isGroup ? 1 : 0 }" notghost=""></div><div foldbutton="" ng-if="!isRoot" icon="{{treeItem.state.isFold?\'expand\':\'collapse\'}}" ng-click="onClick_foldButton();" ng-style="{zIndex: treeItem.state.isGroup ? 1 : 0}" notghost=""></div><div flex="" layout="raw" layout-align="start center" style="min-height: 25px;"><input ng-if="!isRoot" ng-style="{display: (treeItem.state.showCheckbox)?\'\':\'none\'}" type="checkbox" ng-model="edit.selected" style="width: 25px; height: 25px; margin: 0 5px;" ng-change="onSelectChanged();"><div typeicon="" icon="{{ treeItem.info.type }}" ng-click="onClick_iconButton();"></div><label label="" ng-if="treeItem.info.name" ng-click="onClick_selector();">{{treeItem.info.name}}</label> <label detaillabel="" ng-if="_showLabelDetail && treeItem.info.target" ng-click="onClick_selector();">{{treeItem.info.target}}</label><div flex="" style="min-height: 25px;" ng-click="onClick_selector();"></div><div disable="{{ disable }}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/selector/jj-explorer-tree.html",'<div ng-class="{ isGroup: treeItem.state.isGroup, fold: treeItem.state.isFold, selectable: treeItem.state.selectable, disable: treeItem.state.disable, highlight: treeItem.state.highlight }"><div jj-explorer-tree-item="" ng-if="!isRoot || (isRoot && _showRoot)"></div><div jj-explorer-tree="" ng-if="child && child.length>0" ng-style="{display: treeItem.state.isFold?\'none\':\'\'}" ng-repeat="item in child track by $index" root="{{ root }}" uid="{{ item.uid }}" index="item.index" depth="item.depth"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/jj-explorer-view-asset.html",'<div explorer-view-container="" layout="column"><div container="" layout="column" class="jj_form"><div flex="" layout="column" content="" form-layout="" style="position: relative; padding: 0;"><div explorer-view-header="">Asset 정보 : {{category}}</div><div flex="" jj-asset-viewer=""></div></div><div layout="column" content="" footer="" ng-if="button"><div class="md-actions" layout="row" layout-align="end center"><md-button ng-if="button.no" ng-click="onClick_noButton()">{{ button.no }}</md-button><md-button ng-if="button.yes" ng-click="onClick_yesButton()" class="md-raised md-primary" style="margin-right: 0;">{{ button.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/jj-explorer-view-capsule.html",'<div explorer-view-container="" layout="column"><div container="" layout="column" class="jj_form" ng-click="selectNone($event);"><div flex="" layout="column" content="" form-layout="" style="position: relative; padding: 0;"><div explorer-view-header="" layout="raw" layout-align="start center"><div ng-if="schemaLock" class="jj_form_lockIcon"></div><div>Capsulize 속성 : {{config.uid}}</div></div><div flex="" jj-capsulize-editor=""></div></div><div layout="column" content="" footer=""><div class="md-actions" layout="row" layout-align="end center" ng-class="{disable: schemaLock}"><md-button ng-click="importProperties($event)" class="md-raised md-accent" style="margin-right: 0;">설정 가져오기</md-button><div flex=""></div><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/jj-explorer-view-event.html",'<div explorer-view-container="" layout="column"><div container="" layout="column" class="jj_form"><div flex="" layout="column" content="" form-layout="" style="position: relative; padding: 0;"><div explorer-view-header="">Event 내용 편집</div><div flex="" jj-event-editor=""></div></div><div layout="column" content="" footer=""><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="saveData()" class="md-raised md-accent" style="margin-right: 0;">{{ config.ok }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/jj-explorer-view.html",'<div><div ng-if="content.type===\'basic\'" middle-container="" layout="column"><div category-container="" flex="" layout="raw" layout-align="start center"><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-view-content-property=""></div></div><div jj-split-bar="v"></div><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-view-content-event=""></div></div><div jj-split-bar="v"></div><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-view-content-layout=""></div></div></div></div><div ng-if="content.type===\'asset\'" middle-container="" layout="column"><div category-container="" flex="" layout="raw" layout-align="start center"><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-explorer-view-asset="" config="content.config"></div></div></div></div><div ng-if="content.type===\'event\'" middle-container="" layout="column"><div category-container="" flex="" layout="raw" layout-align="start center"><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-explorer-view-event="" config="content.config"></div></div></div></div><div ng-if="content.type===\'capsule\'" middle-container="" layout="column"><div category-container="" flex="" layout="raw" layout-align="start center"><div content-container="" layout="column" flex="" class="jj_form"><div flex="" jj-explorer-view-capsule="" config="content.config"></div></div></div></div><div ng-if="!content.type" middle-container="" layout="column"><div category-container="" flex="" layout="raw" layout-align="start center"><div content-container="" layout="column" flex="" class="jj_form"><div flex="" style="padding: 15px;">선택된 항목을 표시할 수 없습니다.</div></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/component/create.html",'<md-dialog middlesize="" aria-label="{{ config.title }}" class="jj_form"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div>현재 선택 상태에 있는 요소들을 컴포넌트로 등록합니다.<br>컴포넌트로 등록하면 프로그램을 종료 하더라도 다음에 다시 사용할 수 있습니다.</div><h3>컴포넌트 등록 정보</h3><div class="jj-list-tree-info-table-container"><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">컴포넌트 이름</label> <input flex="" type="text" ng-model="item.name" title="{{ item.name }}" ng-required="required" placeholder="컴포넌트 이름" style="text-align: left;"></div><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">제작자</label> <input flex="" type="text" ng-model="item.creator" title="{{ item.creator }}" placeholder="제작자" style="text-align: left;"></div><div layout="raw" layout-align="start center" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">컴포넌트 버전</label><div layout="raw"><div style="line-height: 25px; padding: 0 5px;">ver.</div><input type="number" ng-model="userVersion.major" ng-min="0" placeholder="0" style="width:60px;"><div style="line-height: 25px; padding: 0 5px;">.</div><input type="number" ng-model="userVersion.minor" ng-min="0" placeholder="0" style="width:60px;"><div style="line-height: 25px; padding: 0 5px;">.</div><input type="number" ng-model="userVersion.build" ng-min="0" placeholder="1" style="width:60px;"></div><div style="margin-left: 10px;">( ver.{{getVersion()}} )</div></div><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">캡슐화 목록 잠금</label> <input type="checkbox" id="schemaLock" ng-model="item.schemaLock" style="width: 25px;"> <label flex="" for="schemaLock" style="text-align: left; margin-left: 10px;">컴포넌트 사용자가 캡슐화 목록을 편집할 수 없도록 설정합니다.</label></div><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">캡슐화 그룹 해지 잠금</label> <input type="checkbox" id="groupLock" ng-model="item.groupLock" style="width: 25px;"> <label flex="" for="groupLock" style="text-align: left; margin-left: 10px;">컴포넌트 사용자가 그룹을 해지할 수 없도록 설정합니다.</label></div><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">미리보기</label><div layout="raw" flex="" style="padding:10px 10px 10px 0;"><div class="commonThumbnailImage" ng-style="{\'background-image\': \'url(&quot;\' + item.thumbnail + \'&quot;)\'}"></div><div flex="" layout="column"><md-button class="md-raised md-primary" type="button" ng-click="openImageDialogBox(this)" style="margin: 0 10px 0 0;width: 100px;">이미지 변경</md-button><br><div layout="raw" layout-align="" flex="" ng-class="{ jj_form_disable: false }" class="ellipsis" style="display: block;">{{ item.thumbnailName }}</div></div></div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" style="display: none;">default</md-button><md-button ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/component/edit.html",'<md-dialog aria-label="{{ config.title }}" class="jj_form" style="min-width: 650px;"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div>컴포넌트 이름을 변경합니다.</div><div style="height: 15px;"></div><div class="jj-list-tree-info-table-container" style="min-width: 500px;"><div layout="raw" class="jj-list-tree-info-table" ng-if="item.uid"><label style="min-width: 150px;" layout="raw" layout-align="center center">uid</label><div flex="" layout="raw" layout-align="start center">{{item.uid}}</div></div><div layout="raw" class="jj-list-tree-info-table"><label style="min-width: 150px;" layout="raw" layout-align="center center">이름</label> <input flex="" type="text" ng-model="item.name" ng-required="required" placeholder="컴포넌트 이름" style="text-align: left;"></div><div layout="raw" class="jj-list-tree-info-table" ng-if="item.uid"><label style="min-width: 150px;" layout="raw" layout-align="center center">미리보기</label><div layout="raw" flex="" style="padding:10px 10px 10px 0;"><div class="commonThumbnailImage" ng-style="{\'background-image\': \'url(&quot;\' + item.thumbnail + \'&quot;)\'}"></div><div flex="" layout="column"><md-button class="md-raised md-primary" type="button" ng-click="openImageDialogBox(this)" style="margin: 0 10px 0 0;width: 100px;">이미지 변경</md-button><br><div layout="raw" layout-align="" flex="" ng-class="{ jj_form_disable: false }" class="ellipsis" style="display: block;">{{ item.thumbnailName }}</div></div></div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" style="display: none;">default</md-button><md-button ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/component/info.html",'<md-dialog aria-label="{{ config.title }}" class="jj_form" middlesize=""><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div class="jj-list-tree-info-table-container"><div layout="raw" class="jj-list-tree-info-table" ng-repeat="(key, value) in config.info"><label flex="33" layout="raw" layout-align="center center">{{key}}</label><div flex="" layout="raw" layout-align="start center">{{value}}</div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/component/jj-export-component-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" class="jj_form"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div content="" layout="column" flex="" form-layout=""><div style="padding: 10px 0;border-bottom: 1px solid #DADADA;">배포할 컴포넌트를 목록에서 선택하세요.</div><div layout="column" com-list=""><div layout="raw" flex="" layout-align="start center" com-list-header=""><div com-select-button=""></div><div com-select-icon="" title="select all/none" ng-click="selectAllToggle()"></div><div com-category="" title="sort by category" ng-click="sort(\'category\')">Category</div><div com-label="" flex="" title="sort by label" ng-click="sort(\'label\')">Label</div><div com-uid="" title="sort by uid" ng-click="sort(\'component\')">UID</div><div com-version="" title="sort by version" ng-click="sort(\'version\')">Version</div></div></div><div flex="" layout="raw" layout-align="start start" style="overflow: auto; background-color: #F3F3F3;"><div flex="" layout="column" com-list=""><div layout="raw" flex="" layout-align="start center" com-list-item="" ng-repeat="info in userItems" ng-class="{select: isSelect(info.component)}"><div com-select-button="" ng-click="selectToggle(info.component);"></div><div com-select-icon=""></div><div com-category="" title="{{ info.categoryPath }}" ng-class="{transparent: (info.categoryPath === \'\')}" ng-click="selectToggle(info.component);">{{ info.categoryPath }}</div><div com-label="" flex="" title="{{ info.label }}">{{ info.label }}</div><div com-uid="" title="{{ info.component }}" ng-click="selectToggle(info.component);">{{ info.component }}</div><div com-version="">Created {{ info.version }}</div></div></div></div><form name="exportForm" novalidate=""><div class="listTable"><div layout="raw" layout-align="start center" class="listTr ng-scope firstTr"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> {{ item.label }}</div><div layout="column" flex=""><div flex="" jj-form-item="" class="listTd label" item="item" submit="onChange(result)"></div><div ng-if="item.descText" string-box="" ng-bind-html="item.descText" ng-style="item.descTextStyle"></div></div></div></div></form></div><div layout="column" content=""><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="cancel()">{{ config.no }}</md-button><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/desc/insertSVG.html",'<div style="color: #000;width: 100%;">SVG 삽입에 대한 샘플은 <span class="link" style="padding:0;" onclick="window.$noticeApi.link(\'https://github.com/vulcan9/jikji.editor/issues/208\');">배경 이미지 삽입 옵션 테스트</span> 를 참고하세요.</div><h2 class="md-title">In-line(svg) Tag</h2><p>SVG 파일 내용이 페이지(HTML)에 직접 삽입합니다.</p><ul><li>SVG 태그로 기록되므로 페이지의 폰트, CSS 및 스크립트에 영향 받을 수 있습니다.</li><li>텍스트 선택이 가능합니다.</li><li>로드 후 삽입되므로 보여지는 속도가 조금 느릴 수 있습니다.</li></ul><h2 class="md-title">Object(embed) Tag</h2><p>브라우져에 따라 Object 태그 또는 Embed 태그로 SVG 내용을 로드합니다.</p><ul><li>IFrame에 로드된 것과 같이 폰트, CSS 및 스크립트에 영향받지 않습니다.</li><li>텍스트 선택이 가능합니다. (CORS 제한이 있음)</li><li>뷰어, 페이지의 기능을 사용하려면 별도의 통신 인터페이스를 구현해야 합니다.</li></ul><h2 class="md-title">Background image</h2><p>CSS Background Image 속성에 적용합니다.</p><ul><li>이미지와 같이 취급됩니다.</li><li>web 폰트를 사용하는 경우 모두 system 폰트로 글꼴 바뀌어 랜더링됩니다. (폰트 포함시키면 되지만 용량이 커짐)</li><li>SVG 내에서 외부 리소스(폰트, CSS 및 스크립트) include 기능이 허용되지 않습니다.</li><li>텍스트 선택되지 않고 Interaction 기능이 동작하지 않습니다.</li></ul>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/desc/useRichtext.html",'<h2 class="md-title">일반 텍스트 박스</h2><p>텍스트 박스안의 띄어쓰기 및 줄바꿈을 최대한 유지시켜 주지만 스타일은 지정할 수 없습니다.</p><div class="markBlock"><ul><li>텍스트 박스의 띄어쓰기 모양과 공백 문자("&#38;nbsp;") 모두 그대로 유지됩니다.</li><li>줄바꿈 태그 및 enter 키에 의한 줄바꿈이 모두 허용됩니다.</li><li>텍스트를 선택하여 개별 스타일을 지정할 수 없습니다.</li></ul></div><h2 class="md-title">스타일 지정 가능한 텍스트 박스</h2><p>텍스트 박스안의 내용이 HTML로 취급되어 키보드에 의한 띄어쓰기 및 줄바꿈이 무시됩니다.</p><div class="markBlock"><ul><li>띄어쓰기는 공백 문자("&#38;nbsp;")만 허용됩니다.</li><li>줄바꿈 기능이 있는 태그에 의한 줄바꿈만 허용됩니다.</li><li>텍스트에 스타일을 지정할 수 있는 편집 도구가 지원됩니다.</li><li>태그로 작성되어 있지 않은 내용은 (행간)스타일이 지정되지 않습니다.</li></ul></div><p><span class="markBlock" style="padding: 5px 10px; font-weight: bold;">스타일 지정 가능한 텍스트 박스</span>로 먼저 개별 텍스트에 스타일을 설정한 뒤, <span class="markBlock" style="padding: 5px 10px; font-weight: bold;">일반 텍스트 박스</span>로 옵션을 바꾸어 띄어쓰기 및 줄바꿈을 수정할 수도 있습니다.</p>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/template/create.html",'<md-dialog middlesize="" aria-label="{{ config.title }}" class="jj_form"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div>현재 페이지를 템플릿으로 등록합니다.<br>템플릿으로 등록하면 프로그램을 종료 하더라도 다음에 다시 사용할 수 있습니다.</div><h3>템플릿 등록 정보</h3><div class="jj-list-tree-info-table-container"><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">템플릿 이름</label> <input flex="" type="text" ng-model="item.name" ng-required="required" placeholder="템플릿 이름" style="text-align: left;"></div><div layout="raw" class="jj-list-tree-info-table"><label layout="raw" layout-align="center center" flex="33">제작자</label> <input flex="" type="text" ng-model="item.creator" placeholder="제작자" style="text-align: left;"></div><div layout="raw" class="jj-list-tree-info-table" layout-align="start center"><label layout="raw" layout-align="center center" flex="33">템플릿 버전</label><div layout="raw"><div style="line-height: 25px; padding: 0 5px;">ver.</div><input type="number" ng-model="userVersion.major" ng-min="0" placeholder="0" style="width:60px;"><div style="line-height: 25px; padding: 0 5px;">.</div><input type="number" ng-model="userVersion.minor" ng-min="0" placeholder="0" style="width:60px;"><div style="line-height: 25px; padding: 0 5px;">.</div><input type="number" ng-model="userVersion.build" ng-min="0" placeholder="1" style="width:60px;"></div><div style="margin-left: 10px;">( ver.{{getVersion()}} )</div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" style="display: none;">default</md-button><md-button ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/template/edit.html",'<md-dialog aria-label="{{ config.title }}" class="jj_form" style="min-width: 650px;"><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div>템플릿 정보를 변경합니다.</div><div style="height: 15px;"></div><div class="jj-list-tree-info-table-container" style="min-width: 500px;"><div layout="raw" class="jj-list-tree-info-table" ng-if="item.uid"><label style="min-width: 150px;" layout="raw" layout-align="center center">uid</label><div flex="" layout="raw" layout-align="start center">{{item.uid}}</div></div><div layout="raw" class="jj-list-tree-info-table"><label style="min-width: 150px;" layout="raw" layout-align="center center">이름</label> <input flex="" type="text" ng-model="item.name" ng-required="required" placeholder="템플릿 이름" style="text-align: left;"></div><div layout="raw" class="jj-list-tree-info-table" ng-if="item.uid"><label style="min-width: 150px;" layout="raw" layout-align="center center">미리보기</label><div layout="raw" flex="" style="padding:10px 10px 10px 0;"><div class="commonThumbnailImage" ng-style="{\'background-image\': \'url(&quot;\' + item.thumbnail + \'&quot;)\'}"></div><div flex="" layout="column"><md-button class="md-raised md-primary" type="button" ng-click="openImageDialogBox(this)" style="margin: 0 10px 0 0;width: 100px;">이미지 변경</md-button><br><div layout="raw" layout-align="" flex="" ng-class="{ jj_form_disable: false }" class="ellipsis" style="display: block;">{{ item.thumbnailName }}</div></div></div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" style="display: none;">default</md-button><md-button ng-click="close(0)" class="md-primary">{{ config.no }}</md-button><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/template/info.html",'<md-dialog aria-label="{{ config.title }}" class="jj_form" middlesize=""><md-toolbar><div class="md-toolbar-tools"><h2>{{ config.title }}</h2><span flex=""></span><md-button class="md-icon-button" ng-click="close(-1)"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><form><md-dialog-content><div class="jj-list-tree-info-table-container"><div layout="raw" class="jj-list-tree-info-table" ng-repeat="(key, value) in config.info"><label flex="33" layout="raw" layout-align="center center">{{key}}</label><div flex="" layout="raw" layout-align="start center">{{value}}</div></div></div></md-dialog-content><div class="md-actions" layout="row"><md-button ng-click="close(1)" class="md-accent">{{ config.yes }}</md-button></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("popup/template/jj-export-template-dialog-box.html",'<div layout="column" layout-align="center center"><div container="" fullsize="" layout="column" class="jj_form"><div popup-window-header="" layout="raw" layout-align="start center"><div sub-icon-field="close" layout="" layout-align="center center" title="닫기" ng-click="cancel();"></div><div ng-style="{fontStyle: (config.title)?\'normal\':\'italic\'}">{{ config.title || \'\' }}</div><span flex=""></span><md-button class="md-icon-button" ng-click="cancel()"><md-icon md-svg-src="./image/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon></md-button></div><div content="" layout="column" flex="" form-layout=""><div style="padding: 10px 0;border-bottom: 1px solid #DADADA;">배포할 템플릿을 목록에서 선택하세요.</div><div layout="column" com-list=""><div layout="raw" flex="" layout-align="start center" com-list-header=""><div com-select-button=""></div><div com-select-icon="" title="select all/none" ng-click="selectAllToggle()"></div><div com-category="" title="sort by category" ng-click="sort(\'category\')">Category</div><div com-label="" flex="" title="sort by label" ng-click="sort(\'label\')">Label</div><div com-uid="" title="sort by uid" ng-click="sort(\'template\')">UID</div><div com-version="" title="sort by version" ng-click="sort(\'version\')">Version</div></div></div><div flex="" layout="raw" layout-align="start start" style="overflow: auto; background-color: #F3F3F3;"><div flex="" layout="column" com-list=""><div layout="raw" flex="" layout-align="start center" com-list-item="" ng-repeat="info in userItems" ng-class="{select: isSelect(info.template)}"><div com-select-button="" ng-click="selectToggle(info.template);"></div><div com-select-icon=""></div><div com-category="" title="{{ info.categoryPath }}" ng-class="{transparent: (info.categoryPath === \'\')}" ng-click="selectToggle(info.template);">{{ info.categoryPath }}</div><div com-label="" flex="" title="{{ info.label }}">{{ info.label }}</div><div com-uid="" title="{{ info.template }}" ng-click="selectToggle(info.template);">{{ info.template }}</div><div com-version="">Created {{ info.version }}</div></div></div></div><form name="exportForm" novalidate=""><div class="listTable"><div layout="raw" layout-align="start center" class="listTr ng-scope firstTr"><div class="listTd label name" layout="" layout-align="start center" title="{{ item.label }}"><span class="helpBadge badgeOff" title="{{ item.desc }}">?</span> {{ item.label }}</div><div layout="column" flex=""><div flex="" jj-form-item="" class="listTd label" item="item" submit="onChange(result)"></div><div ng-if="item.descText" string-box="" ng-bind-html="item.descText" ng-style="item.descTextStyle"></div></div></div></div></form></div><div layout="column" content=""><div class="md-actions" layout="row" layout-align="end center"><md-button ng-click="cancel()">{{ config.no }}</md-button><md-button ng-click="saveData()" class="md-raised md-primary" style="margin-right: 0;">{{ config.yes }}</md-button></div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-audio.html",'<div element="audio" ng-class="{invalid: invalid}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><div html5audioplayercontainer="" layout="column" layout-align="center center" style="position: absolute;"><audio html5audioplayer="" controls="" controlslist="nodownload">Your browser does not support HTML5 Audio.</audio></div><div style="width:100%; height: 100%; left: 0; top: 0; background-color: transparent; position: absolute;"></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-button.html",'<div element="button" ng-class="{invalid: invalid}" ng-style="elementStyle"><span class="elementlabel" ng-style="labelDisplayStyle">Button</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-html.html",'<div element="html" ng-class="{invalid: invalid}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><iframe width="100%" height="100%" seamless="" frameborder="0" nwdisable="" allowfullscreen="false" style="pointer-events: none;"><p>This website does not supports IFrame</p></iframe><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-image.html",'<div element="image" ng-class="{invalid: invalid}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><div imageeditor="" ng-style="imageStyle"></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-input.html",'<div element="input" ng-class="{invalid: invalid}" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><input type="text" disabled="" texteditor="" ng-if="!option.multiline" ng-style="elementStyle" ng-model-options="{ allowInvalid: false }" ng-model="option.text" ng-value="option.text" placeholder="{{ option.placeholder }}"><textarea disabled="" texteditor="" ng-if="option.multiline" ng-style="elementStyle" style="resize: none;" placeholder="{{ option.placeholder }}">{{ option.text }}</textarea> <span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-mask.html",'<div element="mask" ng-class="{invalid: invalid, scrollRefresh: scrollRefresh}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><div group-mask="" ng-style="{overflowX: overflow.x, overflowY: overflow.y}" style="width: 100%; height: 100%; pointer-events: none;"><div jj-element-container="" ng-repeat="element in indexes" uid="{{ element }}" no-animation-ng-if-parent=""></div></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span><div jj-transform="" ng-if="transformTool"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-text.html",'<div element="text" ng-class="{invalid: invalid, richtext: option.useRichtext}" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><div jj-rich-text-editor="" richtexteditor="" uid="{{uid}}" content="contentText" on-content-changed="onContentChanged(content, option)" ng-style="elementStyle"></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-video.html",'<div element="video" ng-class="{invalid: invalid}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><div html5videoplayercontainer="" layout="column" layout-align="center center" style="position: absolute;" ng-style="{backgroundColor:elementStyle.backgroundColor}"><video html5videoplayer="" controlslist="nodownload" disablepictureinpicture="">Your browser does not support HTML5 video.</video></div><div style="width:100%; height: 100%; left: 0; top: 0; background-color: transparent; position: absolute;"></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/element/jj-element-web.html",'<div element="web" ng-class="{invalid: invalid}" ng-style="elementStyle" ng-mouseover="getLabelDisplay(true);" ng-mouseleave="getLabelDisplay();"><iframe nwdisable="" nwfaketop="" ng-if="url && editor.usePreview" width="100%" height="100%" seamless="" frameborder="0" allowfullscreen="false" style="pointer-events: none;"><p>This website does not supports IFrame</p></iframe><div ng-if="!editor.usePreview" layout-align="center center" layout="column" style="width: 100%;height: 100%; font-size: 2em; line-height: 1em; word-break: break-all; padding: 20px;"><div>{{url}}</div></div><span class="elementlabel" ng-style="labelDisplayStyle">{{labelDisplay}}</span></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/transform/jj-tool-buttons.html",'<div ng-class="{display: displayToolButtons}" ng-style="toolPosition"><div layout="{{ toolButtonLayout }}"><div ng-repeat="item in buttons track by $index" layout="" layout-align="center center" button-item="{{ item.id }}" ng-mousedown="onMounsdownProtectSelect($event);" ng-click="callToolFunction(item.id, $event);" title="{{ item.title }}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("screen/transform/jj-transform.html",'<div type="{{ type }}" element-type="{{elementType}}" ng-class="{ anchorHidden: !anchorVisible, movable:movable, resizable:resizable, rotatable:rotatable, multiSelecting:isMultiSelecting, resizing:isResizing, dragging:isDragging, rotating:isRotating, moveOnly : movable && !resizable && !rotatable }" ng-style="tranformRectOffset"><div display-ingroup-area="" ng-if="ingroup" ng-style="ingroupArea" ng-class="{ingroup: ingroup}"></div><div jj-transform-svg="" ng-class="{ctrl: ctrl, ingroup: ingroup, tempLine: tempLine}" ng-style="{visibility: visible?\'visible\':\'hidden\'}" ng-mousedown="onMounsdown()" ng-click="onClick()"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/component/jj-list-tree-item.html",'<div layout="raw" layout-align="start center" dropdirection="{{dropDirection}}" title="{{item.label}}" ng-class="{ dragOver: isDragOver }" ng-dblclick="onDoubleClick();" ng-mouseover="select();" ng-mouseleave="unselect();"><div tab="" ng-if="item.depth>0" ng-style="{width: item.depth*tabWidth}" notghost=""></div><div foldbutton="" icon="{{state.isFold?\'expand\':\'collapse\'}}" ng-click="onClick_foldButton();" notghost=""></div><div typeicon="" icon="{{ item.type }}" ng-if="!item.showImage"></div><div imageviewer="" ng-style="imageStyle" ng-if="item.showImage"></div><div label="" flex="">{{item.label}}</div><div version="" ng-if="!isSelected && item.userVersion">{{item.userVersion}}</div><div ng-if="isSelected" layout="raw" layout-align="start center" notghost=""><div ng-if="info.uid" button-item="info" layout="" layout-align="center center" title="item infomation" ng-click="showInfoItem()"></div><div ng-if="info.type !== \'bundle\'" button-item="edit" layout="" layout-align="center center" title="edit item" ng-click="modifyItem()"></div><div ng-if="info.type !== \'bundle\'" button-item="delete" layout="" layout-align="center center" title="delete item" ng-click="deleteItem()"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/component/jj-list-tree.html",'<div ng-class="{ isGroup: isGroup, fold: state.isFold }"><div jj-list-tree-item="" drag-id="{{ dragId }}" drop-id="{{ dropId }}"></div><div jj-list-tree="" ng-repeat="info in categories" info="info" index="{{ $index }}" func-api="api(name, args)"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/list/jj-asset-list.html",'<div><div ng-if="listViewMode===\'box\' || listViewMode===\'list\'"><div class="jj-list-list" layout="column" layout-align="start center"><div ng-repeat="itemData in items track by $index" style="width: 100%;"><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend: slider[itemData.category]}" ng-click="sliderExtendChanged(itemData.category)" style="font-weight: bold;">{{getCategoryLabel(itemData.category)}}</div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'box\'" style="background: none;"><div content-box="" ng-repeat="info in itemData.list | orderBy:\'label\' track by $index" layout="column" layout-align="center center"><div jj-content-asset-box="" info="info" flex="" layout="raw" layout-align="center center"></div><div content-item-over="" flex=""></div></div></div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'list\'"><div ng-repeat="info in itemData.list track by $index" style="width: 100%;"><div jj-content-asset-list="" info="info"></div></div></div></div></div></div><div ng-if="!listViewMode || listViewMode===\'tree\'" class="jj-list-tree"><div jj-list-tree="root" ng-repeat="info in items" info="info" fold-value="!slider[info.category]" index="{{ $index }}" func-api="api(name, args)"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/list/jj-component-list.html",'<div><div ng-if="listViewMode===\'box\' || listViewMode===\'list\'"><div class="jj-list-list" layout="column" layout-align="start center"><div ng-repeat="itemData in items track by $index" style="width: 100%;"><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend: slider[itemData.category]}" ng-click="sliderExtendChanged(itemData.category)" style="font-weight: bold;">{{getCategoryLabel(itemData.category)}}</div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'box\'" style="background: none;"><div content-box="" ng-repeat="info in itemData.list | orderBy:\'label\' track by $index" layout="column" layout-align="center center"><div jj-content-component-box="" info="info" flex="" layout="raw" layout-align="center center"></div><div content-item-over="" flex=""></div></div></div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'list\'"><div ng-repeat="info in itemData.list track by $index" style="width: 100%;"><div jj-content-component-list="" info="info"></div></div></div></div></div></div><div ng-if="!listViewMode || listViewMode===\'tree\'" class="jj-list-tree"><div jj-list-tree="root" ng-repeat="info in items" info="info" fold-value="!slider[info.category]" index="{{ $index }}" func-api="api(name, args)"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/item/list/jj-template-list.html",'<div><div ng-if="listViewMode===\'box\' || listViewMode===\'list\'"><div class="jj-list-list" layout="column" layout-align="start center"><div ng-repeat="itemData in items track by $index" style="width: 100%;"><div class="jj_form_line_h"></div><div slidertitle="" ng-class="{jj_form_title: true, extend: slider[itemData.category]}" ng-click="sliderExtendChanged(itemData.category)" style="font-weight: bold;">{{getCategoryLabel(itemData.category)}}</div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'box\'" style="background: none;"><div content-box="" ng-repeat="info in itemData.list | orderBy:\'label\' track by $index" layout="column" layout-align="center center"><div jj-content-template-box="" info="info" flex="" layout="raw" layout-align="center center"></div><div content-item-over="" flex=""></div></div></div><div jj-slider="slider[itemData.category]" ng-if="listViewMode===\'list\'"><div ng-repeat="info in itemData.list track by $index" style="width: 100%;"><div jj-content-template-list="" info="info"></div></div></div></div></div></div><div ng-if="!listViewMode || listViewMode===\'tree\'" class="jj-list-tree"><div jj-list-tree="root" ng-repeat="info in items" info="info" fold-value="!slider[info.category]" index="{{ $index }}" func-api="api(name, args)"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-background-color.html",'<div><form name="background" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">배경색</label><div flex="" jj-color-picker="" ng-model="backgroundColorItem.value" ng-select="backgroundColorItemChange()"></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-background.html",'<div><form name="background" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">배경색</label><div flex="" jj-color-picker="" ng-model="backgroundColorItem.value" ng-select="backgroundColorItemChange()"></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="showHttpAdressBox.image" ng-change="onShowHttpAdressBoxChange()"> <label flex="" layout="raw" layout-align="start center">URL 사용</label></div><div ng-if="showHttpAdressBox.image"><div class="space"></div><div layout="raw" style="height: 96px;"><textarea flex="" style="resize: none;" ng-model="backgroundImageItem.url" ng-pattern="jjBinding.source" placeholder="http://" name="backgroundImage" ng-class="{error: background.backgroundImage.$invalid}" jj-binding="{$property:\'backgroundImage\', onFocus: \'inputFocus\', enter: \'sourceURLChange\', onBlur: \'sourceURLChange\', onInvalid:\'imageURLInvalid\'}"></textarea><div layout="" layout-align="center center" title="remove image source" ng-class="{jj_form_disable: !backgroundImageItem.oldUrl}" del-button="" ng-click="removeSource()"></div></div></div><div ng-if="!showHttpAdressBox.image"><md-button class="md-raised md-primary" type="button" ng-click="openFileDialogBox()" style="margin: 5px 0px;width: 100%;">이미지 선택</md-button><div class="space"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: !backgroundImageItem.path }" style="height: 50px;"><textarea flex="" disabled="" style="resize: none;color:#A6A6A6;">{{ backgroundImageItem.pathString }}</textarea><div layout="" layout-align="center center" title="remove image source" del-button="" ng-click="removeSource()"></div></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="useCacheImageItem.value" ng-change="useCacheImageItemChange()"> <label flex="" layout="raw" layout-align="start center">Cache 이미지 사용</label></div><div class="space" style="height: 20px;"></div><div><div ng-class="{ jj_form_disable: !((showHttpAdressBox.image) ? backgroundImageItem.url : backgroundImageItem.path) }"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">크기</label><md-select flex="" ng-model="backgroundSizeOptionItem.value" aria-label="Image Size Option" ng-change="backgroundSizeOptionItemChange()"><md-option ng-value="sizeObj.value" ng-repeat="sizeObj in backgroundSizeList">{{ sizeObj.label }}</md-option></md-select></div><md-button ng-class="{ jj_form_disable: !useSizeResetButton}" ng-click="sizeReset()" class="md-button-flat" style="margin: 5px 0px;width: 100%;">원본 이미지 사이즈로 크기 재설정</md-button><div class="space"></div><div ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value !== \'custom\') }"><div layout="raw"><label layout="raw" layout-align="center center" flex="33">가로 크기</label> <input flex="" type="number" step="1" ng-model="backgroundSizeItem.horizontal" ng-model-options="{ allowInvalid: true }" ng-min="1" ng-pattern="jjBinding.integer" name="backgroundSizeItemHorizontal" ng-class="{error: masterForm.backgroundSizeItemHorizontal.$invalid}" jj-binding="{$property:\'backgroundSizeItemHorizontal\', enter: \'sizeItemChange\', onBlur: \'sizeItemChange\'}"><md-select flex="33" ng-model="backgroundSizeItem.horizontalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">세로 크기</label> <input flex="" type="number" step="1" ng-model="backgroundSizeItem.vertical" ng-model-options="{ allowInvalid: true }" ng-min="1" ng-pattern="jjBinding.integer" name="backgroundSizeItemVertical" ng-class="{error: masterForm.backgroundSizeItemVertical.$invalid}" jj-binding="{$property:\'backgroundSizeItemVertical\', enter: \'sizeItemChange\', onBlur: \'sizeItemChange\'}"><md-select flex="33" ng-model="backgroundSizeItem.verticalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div></div></div><div class="space" style="height: 20px;"></div><div ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value === \'100% 100%\') }"><div layout="raw"><label layout="raw" layout-align="center center" flex="33">가로 정렬</label> <input flex="" type="number" step="1" ng-model="backgroundPositionItem.horizontal" ng-model-options="{ allowInvalid: true }" ng-pattern="jjBinding.integer" name="backgroundPositionItemHorizontal" ng-class="{error: masterForm.backgroundPositionItemHorizontal.$invalid}" jj-binding="{$property:\'backgroundPositionItemHorizontal\', enter: \'positionItemChange\', onBlur: \'positionItemChange\'}"><md-select flex="33" ng-model="backgroundPositionItem.horizontalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">세로 정렬</label> <input flex="" type="number" step="1" ng-model="backgroundPositionItem.vertical" ng-model-options="{ allowInvalid: true }" ng-pattern="jjBinding.integer" name="backgroundPositionItemVertical" ng-class="{error: masterForm.backgroundPositionItemVertical.$invalid}" jj-binding="{$property:\'backgroundPositionItemVertical\', enter: \'positionItemChange\', onBlur: \'positionItemChange\'}"><md-select flex="33" ng-model="backgroundPositionItem.verticalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div></div><div class="space" style="height: 20px;"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value === \'100% 100%\') }"><label layout="raw" layout-align="center center" flex="33">패턴 반복</label><div layout="raw" flex=""><input type="checkbox" style="width: 25px;" ng-model="backgroundRepeatItem.x" ng-change="repeatItemChange()"> <label layout="raw" layout-align="start center" style="margin: 0 10px 0 5px;">가로</label> <input type="checkbox" style="width: 25px;" ng-model="backgroundRepeatItem.y" ng-change="repeatItemChange()"> <label layout="raw" layout-align="start center" style="margin: 0 10px 0 5px;">세로</label><div flex=""></div></div></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-border.html",'<div><form name="border" novalidate=""><div layout="raw"><label layout="raw" layout-align="center center" flex="33">선 두께</label> <input flex="" type="number" step="1" ng-model="borderWidthItem.value" ng-model-options="{ allowInvalid: true }" ng-min="borderWidthItem.min" ng-max="borderWidthItem.max" ng-pattern="jjBinding.integer" name="borderWidth" ng-class="{error: border.borderWidth.$invalid}" jj-binding="{$property:\'borderWidth\', enter: \'borderWidthItemChange\', onBlur: \'borderWidthItemChange\', onInvalid:\'borderWidthItemInvalid\'}" ng-change="borderWidthItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ borderWidthItem.unit }}</label></div><div class="space"></div><div ng-class="{ jj_form_disable: !(borderWidthItem.value > 0) }"><div layout="raw"><label layout="raw" layout-align="center center" flex="33">선색</label><div flex="" jj-color-picker="" ng-model="borderColorItem.value" ng-select="borderColorItemChange()"></div></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">스타일</label><md-select flex="" ng-model="borderStyleItem.value" aria-label="Border Style" ng-change="borderStyleItemChange()"><md-option ng-value="style" ng-repeat="style in borderStyleList">{{ ::getStyleLabel(style) }}</md-option></md-select></div></div><div class="space"></div><div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">라운드</label><div layout="column" flex=""><div layout="raw" flex=""><div layout="raw" layout-align="end center"><input style="width: 45px;" type="number" step="1" ng-model="borderRadiusTL" ng-model-options="{ allowInvalid: true }" ng-min="borderRadiusItem.min" ng-max="borderRadiusItem.max" ng-pattern="jjBinding.integer" name="borderRadiusTL" ng-class="{error: border.borderRadiusTL.$invalid}" jj-binding="{$property:\'borderRadiusTL\', enter: \'borderRadiusItemChange\', onBlur: \'borderRadiusItemChange\', onInvalid:\'borderRadiusItemInvalid\'}" ng-change="borderRadiusItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div><div flex=""></div><div layout="raw" layout-align="start center"><input style="width: 45px;" type="number" step="1" ng-model="borderRadiusTR" ng-model-options="{ allowInvalid: true }" ng-min="borderRadiusItem.min" ng-max="borderRadiusItem.max" ng-pattern="jjBinding.integer" name="borderRadiusTR" ng-class="{error: border.borderRadiusTR.$invalid}" jj-binding="{$property:\'borderRadiusTR\', enter: \'borderRadiusItemChange\', onBlur: \'borderRadiusItemChange\', onInvalid:\'borderRadiusItemInvalid\'}" ng-change="borderRadiusItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div></div><div class="space" style="height: 5px;"></div><div layout="raw" flex=""><div layout="raw" layout-align="start center"><input style="width: 45px;" type="number" step="1" ng-model="borderRadiusBL" ng-model-options="{ allowInvalid: true }" ng-min="borderRadiusItem.min" ng-max="borderRadiusItem.max" ng-pattern="jjBinding.integer" name="borderRadiusBL" ng-class="{error: border.borderRadiusBL.$invalid}" jj-binding="{$property:\'borderRadiusBL\', enter: \'borderRadiusItemChange\', onBlur: \'borderRadiusItemChange\', onInvalid:\'borderRadiusItemInvalid\'}" ng-change="borderRadiusItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div><div flex=""></div><div layout="raw" layout-align="end center"><input style="width: 45px;" type="number" step="1" ng-model="borderRadiusBR" ng-model-options="{ allowInvalid: true }" ng-min="borderRadiusItem.min" ng-max="borderRadiusItem.max" ng-pattern="jjBinding.integer" name="borderRadiusBR" ng-class="{error: border.borderRadiusBR.$invalid}" jj-binding="{$property:\'borderRadiusBR\', enter: \'borderRadiusItemChange\', onBlur: \'borderRadiusItemChange\', onInvalid:\'borderRadiusItemInvalid\'}" ng-change="borderRadiusItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div></div></div></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-column.html",'<div><form name="column" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">다단</label><md-select flex="" ng-model="columnCountItem.value" aria-label="column count" ng-change="columnCountItemChange()"><md-option ng-value="column.value" ng-repeat="column in columnCountList">{{ column.label }}</md-option></md-select></div><div class="space"></div><div ng-class="{ jj_form_disable: !(columnCountItem.value > 0) }"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">단 간격</label> <input flex="" type="number" step="1" ng-model="columnGapItem.value" ng-model-options="{ allowInvalid: true }" required="" ng-min="columnGapItem.min" ng-max="columnGapItem.max" ng-pattern="jjBinding.integer" name="columnGap" ng-class="{error: column.columnGap.$invalid}" jj-binding="{$property:\'columnGap\', enter: \'columnGapItemChange\', onBlur: \'columnGapItemChange\', onInvalid:\'columnGapItemInvalid\'}" ng-change="columnGapItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ columnGapItem.unit }}</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">구분선 두께</label> <input flex="" type="number" step="1" ng-model="columnRuleWidthItem.value" ng-model-options="{ allowInvalid: true }" required="" ng-min="columnRuleWidthItem.min" ng-max="columnRuleWidthItem.max" ng-pattern="jjBinding.integer" name="columnRuleWidth" ng-class="{error: column.columnRuleWidth.$invalid}" jj-binding="{$property:\'columnRuleWidth\', enter: \'columnRuleWidthItemChange\', onBlur: \'columnRuleWidthItemChange\', onInvalid:\'columnRuleWidthItemInvalid\'}" ng-change="columnRuleWidthItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ columnRuleWidthItem.unit }}</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">스타일</label><md-select flex="" ng-model="columnRuleStyleItem.value" aria-label="columnRule Style" ng-change="columnRuleStyleItemChange()"><md-option ng-value="style" ng-repeat="style in columnRuleStyleList">{{ ::getStyleLabel(style) }}</md-option></md-select></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">선색</label><div flex="" jj-color-picker="" ng-model="columnRuleColorItem.value" ng-select="columnRuleColorItemChange()"></div></div></div></form></div>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-common.html",'<div><div layout="raw" ng-if="config.input.type == \'text\'"><label layout="raw" layout-align="center center" flex="33">{{ config.label }}</label><input flex="" type="{{ config.input.type }}" ng-if="!config.input.multiline" ng-model="property.item.value" title="{{ property.item.value }}" name="{{config.name}}" ng-class="{error: common[config.name].$invalid}" ng-required="required" jj-binding="{{ property.binding }}" style="text-align: left;"><textarea flex="" ng-if="config.input.multiline" ng-model="property.item.value" name="{{config.name}}" ng-class="{error: common[config.name].$invalid}" ng-required="required" jj-binding="{{ property.binding }}" style="text-align: left; resize: none; height: 96px;">{{ property.item.value }}</textarea></div><div layout="raw" ng-if="config.input.type == \'checkbox\'"><label layout="raw" layout-align="center center" flex="33">{{ config.label }}</label> <input type="{{ config.input.type }}" ng-model="property.item.value" title="{{ property.item.value }}" name="{{config.name}}" ng-required="required" jj-binding="{{ property.binding }}" ng-true-value="{{config.input.trueValue}}" ng-false-value="{{config.input.falseValue}}" style="width: 25px;"></div><div layout="raw" ng-if="config.input.type == \'select\'"><label layout="raw" layout-align="center center" flex="33">{{ config.label }}</label><md-select flex="" aria-label="select {{config.name}}" ng-model="property.item.value" title="{{ property.item.value }}" name="{{config.name}}" jj-binding="{{ property.binding }}"><md-option ng-value="(option.value===undefined)?option:option.value" ng-repeat="option in config.input.options">{{ (option.label===undefined)?option:option.label }}</md-option></md-select></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-font.html",'<div layout="column"><form name="font" novalidate=""><div layout="raw"><label>굵게</label> <input flex="" type="checkbox" ng-model="fontWeightItem.value" ng-true-value="\'bold\'" ng-false-value="\'normal\'" ng-change="fontWeightItemChange()"><div class="space"></div><label>기울임꼴</label> <input flex="" type="checkbox" ng-model="fontStyleItem.value" ng-true-value="\'italic\'" ng-false-value="\'normal\'" ng-change="fontStyleItemChange()"><div class="space"></div><label>밑줄</label> <input flex="" type="checkbox" ng-model="textDecorationItem.value" ng-true-value="\'underline\'" ng-false-value="\'none\'" ng-change="textDecorationItemChange()"></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">글꼴</label><md-select flex="" ng-model="fontFamilyItem.value" aria-label="font family" md-on-open="refreshFontFamily()" ng-change="fontFamilyItemChange()"><md-optgroup ng-repeat="currentGroup in fontGroupList" label="{{currentGroup}}"><md-option ng-repeat="item in fontList | filter: {group: currentGroup}" fontview="" ng-value="item.value" ng-style="{fontFamily:item.value}">{{item.label}}</md-option></md-optgroup></md-select></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">크기</label><input flex="" type="number" ng-model="fontSizeItem.value" ng-model-options="{ allowInvalid: true }" ng-min="fontSizeItem.min" ng-max="fontSizeItem.max" required="" step="{{ fontSizeItem.step }}" ng-pattern="fontSizeItem.pattern" name="fontSize" ng-class="{error: font.fontSize.$invalid}" jj-binding="{$property:\'fontSize\', enter: \'fontSizeItemChange\', onBlur: \'fontSizeItemChange\'}" ng-change="fontSizeItemLiveUpdate()"><md-select flex="33" ng-model="fontSizeItem.unit" aria-label="font size unit" ng-change="fontSizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in fontSizeItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">색상</label><div flex="" jj-color-picker="" ng-model="colorItem.value" ng-select="colorItemChange()"></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-overflow.html",'<div><form name="overflow" novalidate=""><div layout="raw"><label layout="raw" layout-align="center center" flex="33">넘침 영역</label><md-select flex="" ng-model="overflowVisibleItem.value" aria-label="넘침영역 보이기/자르기" ng-change="overflowVisibleItemChange()"><md-option ng-value="item.value" ng-repeat="item in overflowVisibleOption">{{ item.label }}</md-option></md-select></div><div class="space"></div><div ng-class="{ jj_form_disable: overflowVisibleItem.value }"><div style="line-height: 25px">스크롤 설정</div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">상하</label><md-select flex="" ng-model="overflowYItem.value" aria-label="상하" ng-change="overflowYItemChange()"><md-option ng-value="item.value" ng-repeat="item in scrollOption">{{ item.label }}</md-option></md-select></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">좌우</label><md-select flex="" ng-model="overflowXItem.value" aria-label="좌우" ng-change="overflowXItemChange()"><md-option ng-value="item.value" ng-repeat="item in scrollOption">{{ item.label }}</md-option></md-select></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-padding.html",'<div layout="column"><form name="padding" novalidate=""><div layout="raw" flex="" layout-align="center center"><div layout="raw" style="width: 100px;"><input flex="" type="number" step="1" ng-model="paddingTopItem.value" ng-model-options="{ allowInvalid: true }" ng-min="paddingTopItem.min" ng-max="paddingTopItem.max" ng-pattern="jjBinding.integer" name="paddingTop" ng-class="{error: padding.paddingTop.$invalid}" jj-binding="{$property:\'paddingTop\', enter: \'paddingTopItemChange\', onBlur: \'paddingTopItemChange\', onInvalid:\'onInvalid_paddingTopItem\'}" ng-change="paddingTopItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ paddingTopItem.unit }}</label></div></div><div class="space"></div><div layout="raw" flex=""><div layout="raw" style="width: 100px;"><input flex="" type="number" step="1" ng-model="paddingLeftItem.value" ng-model-options="{ allowInvalid: true }" ng-min="paddingLeftItem.min" ng-max="paddingLeftItem.max" ng-pattern="jjBinding.integer" name="paddingLeft" ng-class="{error: padding.paddingLeft.$invalid}" jj-binding="{$property:\'paddingLeft\', enter: \'paddingLeftItemChange\', onBlur: \'paddingLeftItemChange\', onInvalid:\'onInvalid_paddingLeftItem\'}" ng-change="paddingLeftItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ paddingLeftItem.unit }}</label></div><div flex=""></div><div layout="raw" style="width: 100px;"><input flex="" type="number" step="1" ng-model="paddingRightItem.value" ng-model-options="{ allowInvalid: true }" ng-min="paddingRightItem.min" ng-max="paddingRightItem.max" ng-pattern="jjBinding.integer" name="paddingRight" ng-class="{error: padding.paddingRight.$invalid}" jj-binding="{$property:\'paddingRight\', enter: \'paddingRightItemChange\', onBlur: \'paddingRightItemChange\', onInvalid:\'onInvalid_paddingRightItem\'}" ng-change="paddingRightItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ paddingRightItem.unit }}</label></div></div><div class="space"></div><div layout="raw" flex="" layout-align="center center"><div layout="raw" style="width: 100px;"><input flex="" type="number" step="1" ng-model="paddingBottomItem.value" ng-model-options="{ allowInvalid: true }" ng-min="paddingBottomItem.min" ng-max="paddingBottomItem.max" ng-pattern="jjBinding.integer" name="paddingBottom" ng-class="{error: padding.paddingBottom.$invalid}" jj-binding="{$property:\'paddingBottom\', enter: \'paddingBottomItemChange\', onBlur: \'paddingBottomItemChange\', onInvalid:\'onInvalid_paddingBottomItem\'}" ng-change="paddingBottomItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">{{ paddingBottomItem.unit }}</label></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-paragraph.html",'<div layout="column"><form name="paragraph" novalidate=""><div class="space" flex=""></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">들여쓰기</label><input flex="" type="number" ng-model="textIndentItem.value" ng-model-options="{ allowInvalid: true }" ng-min="textIndentItem.min" ng-max="textIndentItem.max" required="" step="{{ textIndentItem.step }}" ng-pattern="jj-binding.integer" name="textIndent" ng-class="{error: paragraph.textIndent.$invalid}" jj-binding="{$property:\'textIndent\', enter: \'textIndentItemChange\', onBlur: \'textIndentItemChange\', onInvalid:\'textIndentItemInvalid\'}" ng-change="textIndentItemLiveUpdate()"><md-select flex="33" ng-model="textIndentItem.unit" aria-label="text indent unit" ng-change="textIndentItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in textIndentItem.units">{{ unit }}</md-option></md-select></div><div class="space" flex=""></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">자간</label><input flex="" type="number" ng-model="letterSpacingItem.value" ng-model-options="{ allowInvalid: true }" ng-min="letterSpacingItem.min" ng-max="letterSpacingItem.max" required="" step="{{ letterSpacingItem.step }}" ng-pattern="jj-binding.integer" name="letterSpacing" ng-class="{error: paragraph.letterSpacing.$invalid}" jj-binding="{$property:\'letterSpacing\', enter: \'letterSpacingItemChange\', onBlur: \'letterSpacingItemChange\', onInvalid:\'letterSpacingItemInvalid\'}" ng-change="letterSpacingItemLiveUpdate()"><md-select flex="33" ng-model="letterSpacingItem.unit" aria-label="letter-spacing unit" ng-change="letterSpacingItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in letterSpacingItem.units">{{ unit }}</md-option></md-select></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/jj-box-string.html",'<div><form name="string" novalidate=""><div layout="raw" layout-align="center start"><label layout="raw" layout-align="center center" flex="33">{{ config.label }}</label><div string-box="" ng-style="config.style" jj-clipboard="{{ property.item.value }}">{{ property.item.value }}</div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/_jj-box-font.html",'<div layout="column"><form name="font" novalidate=""><div layout="raw"><label>굵게</label> <input flex="" type="checkbox" ng-model="fontWeightItem.value" ng-true-value="\'bold\'" ng-false-value="\'normal\'" ng-change="fontWeightItemChange()"><div class="space"></div><label>기울임꼴</label> <input flex="" type="checkbox" ng-model="fontStyleItem.value" ng-true-value="\'italic\'" ng-false-value="\'normal\'" ng-change="fontStyleItemChange()"><div class="space"></div><label>밑줄</label> <input flex="" type="checkbox" ng-model="textDecorationItem.value" ng-true-value="\'underline\'" ng-false-value="\'none\'" ng-change="textDecorationItemChange()"></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">글꼴</label><md-select flex="" ng-model="fontFamilyItem.value" aria-label="font family" md-on-open="refreshFontFamily()" ng-change="fontFamilyItemChange()"><md-optgroup ng-repeat="currentGroup in fontGroupList" label="{{currentGroup}}"><md-option ng-repeat="item in fontList | filter: {group: currentGroup}" fontview="" ng-value="item.value" ng-style="{fontFamily:item.value}">{{item.label}}</md-option></md-optgroup></md-select></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">크기</label><input flex="" type="number" ng-model="fontSizeItem.value" ng-model-options="{ allowInvalid: true }" ng-min="fontSizeItem.min" ng-max="fontSizeItem.max" required="" step="{{ fontSizeItem.step }}" ng-pattern="fontSizeItem.pattern" name="fontSize" ng-class="{error: font.fontSize.$invalid}" jj-binding="{$property:\'fontSize\', enter: \'fontSizeItemChange\', onBlur: \'fontSizeItemChange\'}" ng-change="fontSizeItemLiveUpdate()"><md-select flex="33" ng-model="fontSizeItem.unit" aria-label="font size unit" ng-change="fontSizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in fontSizeItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">색상</label><div flex="" jj-color-picker="" ng-model="colorItem.value" ng-select="colorItemChange()"></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/__jj-box-ellipsis.html","<div>jj-box-ellipsis : 스크롤(overflow) : 자동 줄바꿈(white-space) : 말줄임표시(text-overflow) :</div>")}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/form/jj-color-panel.html",'<md-dialog aria-label="{{ config.title }}"><form><spectrum-colorpicker id="{{ config.uid }}" ng-model="color" options="config.options"></spectrum-colorpicker><div class="md-actions" layout="row"><div flex=""><md-button ng-click="reset()" class="md-primary" style="margin-left: 0px;">{{ config.no }}</md-button></div><div><md-button ng-click="cancel()" class="md-primary">{{ config.cancel }}</md-button><md-button ng-click="select()" class="md-accent">{{ config.yes }}</md-button></div></div></form></md-dialog>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/form/jj-color-picker.html",'<div layout="raw"><input flex="" type="text" ng-model="color" ng-if="!hideInput" class="colorString" ng-change="onColorChange()"><div class="colorDisplay" ng-click="open()" ng-class="{empty : !color}"><div class="alphaBox"></div><div class="colorBox" ng-style="{backgroundColor: color}"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-audio.html",'<div><form name="video" novalidate=""><div ng-class="{ jj_form_disable: !((showHttpAdressBox.audio) ? sourceItem.url : sourceItem.path) }"><div layout="raw" layout-align="center center" html5audioplayercontainer="" style="min-height: 50px;"><audio html5audioplayer="" controlslist="nodownload" controls="" preload="none"></audio></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="showHttpAdressBox.audio" ng-change="onShowHttpAdressBoxChange()"> <label layout="raw" flex="" layout-align="start center">URL 주소로 지정</label></div><div ng-if="showHttpAdressBox.audio"><div class="space"></div><div class="space"></div><div layout="raw" style="height: 96px;"><textarea flex="" style="resize: none;" ng-model="sourceItem.url" ng-pattern="jjBinding.url" ng-maxlength="256" placeholder="http://" name="backgroundImage" ng-class="{error: background.backgroundImage.$invalid}" jj-binding="{$property:\'backgroundImage\', onFocus: \'inputFocus\', enter: \'sourceURLChange\', onBlur: \'sourceURLChange\', onInvalid:\'imageURLInvalid\'}"></textarea><div layout="" layout-align="center center" title="remove audio source" ng-class="{jj_form_disable: !sourceItem.oldUrl}" del-button="" ng-click="removeSource()"></div></div></div><div ng-if="!showHttpAdressBox.audio"><div class="space"></div><md-button class="md-raised md-primary" ng-click="openFileDialogBox()" style="margin: 5px 0px;width: 100%;">Audio 선택</md-button><div class="space"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: !sourceItem.path }" style="height: 50px;"><textarea flex="" disabled="" style="resize: none;color:#A6A6A6;">{{ sourceItem.pathString }}</textarea><div layout="" layout-align="center center" title="remove audio source" del-button="" ng-click="removeSource()"></div></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-comp.html",'<div ng-class="{jj_form_disable:!enable}"><form name="comp" novalidate=""><div style="margin: 0 0 10px 0; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px; text-align: justify;">컴포넌트로 등록하면 프로그램을 종료 하더라도 다음에 다시 사용할 수 있습니다.</div><md-button class="md-raised md-primary" type="button" ng-click="createComponent()" style="margin: 5px 0 0;width: 100%;">컴포넌트로 등록</md-button></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-html.html",'<div><md-button class="md-raised md-primary" type="button" ng-click="openHtmlEditor()" style="margin: 5px 0px;width: 100%;">편집창에서 수정</md-button><div class="space"></div><div style="line-height: 25px">저작툴 환경에서 랜더링 동작 설정</div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="editor.usePreview" ng-change="editorOptionChange()" id="editor_usePreview"> <label for="editor_usePreview" layout="raw" flex="" layout-align="start center">페이지에 편집 결과 화면 표시</label></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-disabled="!editor.usePreview" ng-model="editor.exceptScript" ng-change="editorOptionChange()" id="editor_exceptScript"> <label for="editor_exceptScript" layout="raw" flex="" layout-align="start center">툴에서 스크립트 실행 안함 (권장)</label></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-template.html",'<div ng-class="{jj_form_disable:!enable}"><form name="template" novalidate=""><div style="margin: 0 0 10px 0; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px; text-align: justify;">템플릿으로 등록하면 프로그램을 종료 하더라도 다음에 다시 사용할 수 있습니다.</div><md-button class="md-raised md-primary" type="button" ng-click="createTemplate()" style="margin: 5px 0 0;width: 100%;">템플릿으로 등록</md-button></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-text.html",'<div><form name="text" novalidate=""><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="useAutolinkItem.value" name="useAutolink" ng-change="useAutolinkOptionChange()" id="option_useAutolink"> <label for="option_useAutolink" layout="raw" flex="" layout-align="start center">자동 링크 기능 사용</label></div><md-button class="md-raised md-primary" ng-class="{jj_form_disable: !textItem.value}" type="button" ng-click="openTextEditor()" style="margin: 5px 0px;width: 100%;">편집창에서 수정</md-button></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-video.html",'<div><form name="video" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">배경색</label><div flex="" jj-color-picker="" ng-model="backgroundColorItem.value" ng-select="backgroundColorItemChange()"></div></div><div class="space"></div><div ng-class="{ jj_form_disable: !((showHttpAdressBox.video) ? sourceItem.url : sourceItem.path) }"><div layout="raw" layout-align="center center" html5videoplayercontainer="" style="height: 120px; border: 1px solid rgba(0, 0, 0, 0.2);" ng-style="{backgroundColor: backgroundColorItem.value}"><video html5videoplayer="" controlslist="nodownload nofullscreen" disablepictureinpicture="" controls="" preload="none"></video></div></div><div class="space" style="height:15px;"></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="showHttpAdressBox.video" ng-change="onShowHttpAdressBoxChange()"> <label layout="raw" flex="" layout-align="start center">URL 주소로 지정</label></div><div ng-if="showHttpAdressBox.video"><div class="space"></div><div class="space"></div><div layout="raw" style="height: 96px;"><textarea flex="" style="resize: none;" ng-model="sourceItem.url" ng-pattern="jjBinding.url" ng-maxlength="256" placeholder="http://" name="backgroundImage" ng-class="{error: background.backgroundImage.$invalid}" jj-binding="{$property:\'backgroundImage\', onFocus: \'inputFocus\', enter: \'sourceURLChange\', onBlur: \'sourceURLChange\', onInvalid:\'imageURLInvalid\'}"></textarea><div layout="" layout-align="center center" title="remove video source" ng-class="{jj_form_disable: !sourceItem.oldUrl}" del-button="" ng-click="removeSource()"></div></div></div><div ng-if="!showHttpAdressBox.video"><div class="space"></div><md-button class="md-raised md-primary" ng-click="openFileDialogBox()" style="margin: 5px 0px;width: 100%;">Video 선택</md-button><div class="space"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: !sourceItem.path }" style="height: 50px;"><textarea flex="" disabled="" style="resize: none;color:#A6A6A6;">{{ sourceItem.pathString }}</textarea><div layout="" layout-align="center center" title="remove video source" del-button="" ng-click="removeSource()"></div></div></div><div class="space"></div><div layout="column" flex=""><div layout="raw" layout-align="center start" flex=""><label layout="raw" layout-align="center center" flex="33">비디오 사이즈</label><div flex="" string-box="">{{ info.width }} x {{ info.height }} (px)</div></div><div class="space"></div><div layout="raw" layout-align="center start" flex=""><label layout="raw" layout-align="center center" flex="33">재생 시간</label><div flex="" string-box="">{{ info.duration }} (sec)</div></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/jj-box-web.html",'<div><div style="line-height: 25px">URL 설정</div><div ng-if="slider.configuration" layout="raw" style="height: 150px;"><textarea flex="" style="resize: none; word-break: break-all;" ng-model="link.url" ng-trim="true" g-required="true" placeholder="http://" name="url" jj-binding="{$property:\'url\', onFocus: onFocus, onBlur: \'onChange\', enter: \'onChange\'}"></textarea><div layout="" layout-align="center center" ng-class="{jj_form_disable: !oldValue}" del-button="" ng-click="removeText()"></div></div><div class="space"></div><div style="line-height: 25px">저작툴 환경에서 랜더링 동작 설정</div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="editor.usePreview" ng-change="editorOptionChange()" id="editor_usePreview"> <label for="editor_usePreview" layout="raw" flex="" layout-align="start center">웹페이지 미리보기</label></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-disabled="!editor.usePreview" ng-model="editor.checkXFrameOption" ng-change="editorOptionChange()" id="editor_checkXFrameOption"> <label for="editor_checkXFrameOption" layout="raw" flex="" layout-align="start center">웹 환경에서 페이지 로드</label></div><div class="space"></div><div string-box="" style="min-height: 58px; width: auto;">웹 환경에서 실행되는 경우,<br>서버가 프레임 내에 다른 도메인의 웹페이지를 불러올 수 없도록 설정되어 있다면 해당 콘텐츠는 표시할 수 없습니다.</div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/option/__jj-box-video.html",'<div><form name="video" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">배경색</label><div flex="" jj-color-picker="" ng-model="backgroundColorItem.value" ng-select="backgroundColorItemChange()"></div></div><div class="space"></div><div ng-class="{ jj_form_disable: !((showHttpAdressBox.video) ? sourceItem.url : sourceItem.path) }"><div layout="raw" layout-align="center center" html5videoplayercontainer="" style="min-height: 120px; border: 1px solid rgba(0, 0, 0, 0.2);" ng-style="{backgroundColor: backgroundColorItem.value}"><video html5videoplayer="" controls="" preload="none" ng-src="{{ sourceItem.actualPath }}"></video></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="showHttpAdressBox.video" ng-change="onShowHttpAdressBoxChange()"> <label layout="raw" flex="" layout-align="start center">URL 주소로 지정</label></div><div ng-if="showHttpAdressBox.video"><div class="space"></div><div class="space"></div><div layout="raw" style="height: 96px;"><textarea flex="" style="resize: none;" ng-model="sourceItem.url" ng-pattern="jjBinding.url" ng-maxlength="256" placeholder="http://" name="backgroundImage" ng-class="{error: background.backgroundImage.$invalid}" jj-binding="{$property:\'backgroundImage\', onFocus: \'inputFocus\', enter: \'sourceURLChange\', onBlur: \'sourceURLChange\', onInvalid:\'imageURLInvalid\'}"></textarea><div layout="" layout-align="center center" title="remove video source" ng-class="{jj_form_disable: !sourceItem.oldUrl}" del-button="" ng-click="removeSource()"></div></div></div><div ng-if="!showHttpAdressBox.video"><div class="space"></div><md-button class="md-raised md-primary" ng-click="openFileDialogBox()" style="margin: 5px 0px;width: 100%;">Video 선택</md-button><div class="space"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: !sourceItem.path }" style="height: 50px;"><textarea flex="" style="resize: none;" disabled="">{{ sourceItem.pathString }}</textarea><div layout="" layout-align="center center" title="remove video source" del-button="" ng-click="removeSource()"></div></div></div></form></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer-audio.html",'<div asset-viewer="audio" flex="" layout="column"><div html5audioplayercontainer="" layout="column" layout-align="center center"><audio html5audioplayer="" controls="" controlslist="nodownload">Your browser does not support HTML5 Audio.</audio></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer-font.html",'<div asset-viewer="font" flex=""><div font-display="" layout="raw" ng-repeat="size in font.sizes"><div size-display="">{{size}} px</div><div flex="" family-display="" ng-style="{fontSize: size+\'px\', fontFamily: font.family}"><div>0123456789</div><div>[{(<`~!@#$%^&*_+|-=\\\':" ,.="">)}]</`~!@#$%^&*_+|-=\\\':"></div><div>abcdefghijklmnopqrstuvwxyz</div><div>ABCDEFGHIJKLMNOPQRSTUVWXYZ</div><div>가나다라마바사아자차카타파하</div></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer-image.html",'<div asset-viewer="image" flex=""><img ng-src="{{ source }}"></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer-text.html",'<div asset-viewer="text" flex="" layout="column" code-editor=""><div flex="" jj-common-editor="" config="configEditor" uid="{{uid}}" changed="changed(type, result)" save="save(type, result)"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer-video.html",'<div asset-viewer="video" flex="" layout="column"><div html5videoplayercontainer="" layout="raw" layout-align="center center"><video html5videoplayer="" controlslist="nodownload nofullscreen" disablepictureinpicture="" controls="" preload="none">Your browser does not support HTML5 video.</video></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("explorer/view/asset/jj-asset-viewer.html",'<div layout="column"><div content="" form-layout=""><div class="listTable"><div layout="raw" class="listTr" ng-class="{errorCell:(key===\'error\')}" ng-repeat="(key, value) in data"><div class="listTd label" layout="" layout-align="center center">{{ key }}</div><div flex="" class="listTd" layout="" layout-align="start center">{{ value }}</div></div></div><div class="listTable" layout="raw" ng-if="property"><div class="listTd label bottomline" layout="" layout-align="center center" style="border-bottom: 1px solid rgb(218, 218, 218);">Property</div><div layout="column" flex=""><div layout="raw" class="listTr" ng-repeat="(key, value) in property"><div class="listTd label" layout="" layout-align="center center">{{ key }}</div><div flex="" class="listTd" layout="" layout-align="start center">{{ value }}</div></div></div></div></div><div flex="" layout="column"><div jj-asset-viewer-image="" ng-if="category===\'IMAGE\'" uid="config.uid"></div><div jj-asset-viewer-text="" ng-if="category===\'TEXT\'" uid="config.uid"></div><div jj-asset-viewer-video="" ng-if="category===\'VIDEO\'" uid="config.uid" update="update(info);"></div><div jj-asset-viewer-audio="" ng-if="category===\'AUDIO\'" uid="config.uid" update="update(info);"></div><div jj-asset-viewer-font="" ng-if="category===\'FONT\'" uid="config.uid"></div></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/document/jj-box-master.html",'<div><form name="masterForm" novalidate=""><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">배경색</label><div flex="" jj-color-picker="" ng-model="backgroundColorItem.value" ng-select="backgroundColorItemChange()"></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="showHttpAdressBox.image" ng-change="onShowHttpAdressBoxChange()"> <label flex="" layout="raw" layout-align="start center">URL 사용</label></div><div ng-if="showHttpAdressBox.image"><div class="space"></div><div layout="raw" style="height: 96px;"><textarea flex="" style="resize: none;" ng-model="masterItem.url" ng-pattern="jjBinding.source" placeholder="http://" name="master" ng-class="{error: masterForm.master.$invalid}" jj-binding="{$property:\'master\', onFocus: \'inputFocus\', enter: \'sourceURLChange\', onBlur: \'sourceURLChange\', onInvalid:\'imageURLInvalid\'}"></textarea><div layout="" layout-align="center center" title="remove image source" ng-class="{jj_form_disable: !masterItem.oldUrl}" del-button="" ng-click="removeSource()"></div></div></div><div ng-if="!showHttpAdressBox.image"><md-button class="md-raised md-primary" type="button" ng-click="openFileDialogBox()" style="margin: 5px 0px;width: 100%;">이미지 선택</md-button><div class="space"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: !masterItem.path }" style="height: 50px;"><textarea flex="" disabled="" class="selectableText" style="resize: none;color:#A6A6A6;">{{ masterItem.pathString }}</textarea><div layout="" layout-align="center center" title="remove image source" del-button="" ng-click="removeSource()"></div></div></div><div class="space"></div><div layout="raw" flex=""><input flex="15" type="checkbox" ng-model="useCacheImageItem.value" ng-change="useCacheImageItemChange()"> <label flex="" layout="raw" layout-align="start center">Cache 이미지 사용</label></div><div class="space"></div><div layout="raw" ng-class="{ jj_form_disable: !isSVG }"><label layout="raw" layout-align="center center" flex="33" class="link" ng-click="showDescription_insertSVG();">SVG 적용</label><md-select flex="" ng-model="insertSVGItem.value" aria-label="Insert SVG Option" ng-change="insertSVGItemChange()"><md-option ng-value="item.value" ng-repeat="item in insertSVGList">{{ item.label }}</md-option></md-select></div><div class="space" style="height: 20px;"></div><div ng-class="{ jj_form_disable: (isSVG && insertSVGItem.value !== \'image\') }"><div ng-class="{ jj_form_disable: !((showHttpAdressBox.image) ? masterItem.url : masterItem.path) }"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="33">크기</label><md-select flex="" ng-model="backgroundSizeOptionItem.value" aria-label="Image Size Option" ng-change="backgroundSizeOptionItemChange()"><md-option ng-value="sizeObj.value" ng-repeat="sizeObj in backgroundSizeList">{{ sizeObj.label }}</md-option></md-select></div><div class="space"></div><div ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value !== \'custom\') }"><div layout="raw"><label layout="raw" layout-align="center center" flex="33">가로 크기</label> <input flex="" type="number" step="1" ng-model="backgroundSizeItem.horizontal" ng-model-options="{ allowInvalid: true }" ng-min="1" ng-pattern="jjBinding.integer" name="backgroundSizeItemHorizontal" ng-class="{error: masterForm.backgroundSizeItemHorizontal.$invalid}" jj-binding="{$property:\'backgroundSizeItemHorizontal\', enter: \'sizeItemChange\', onBlur: \'sizeItemChange\'}"><md-select flex="33" ng-model="backgroundSizeItem.horizontalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">세로 크기</label> <input flex="" type="number" step="1" ng-model="backgroundSizeItem.vertical" ng-model-options="{ allowInvalid: true }" ng-min="1" ng-pattern="jjBinding.integer" name="backgroundSizeItemVertical" ng-class="{error: masterForm.backgroundSizeItemVertical.$invalid}" jj-binding="{$property:\'backgroundSizeItemVertical\', enter: \'sizeItemChange\', onBlur: \'sizeItemChange\'}"><md-select flex="33" ng-model="backgroundSizeItem.verticalUnit" aria-label="pattern size unit" ng-change="sizeItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundSizeItem.units">{{ unit }}</md-option></md-select></div></div></div><div class="space" style="height: 20px;"></div><div ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value === \'100% 100%\') }"><div layout="raw"><label layout="raw" layout-align="center center" flex="33">가로 위치</label> <input flex="" type="number" step="1" ng-model="backgroundPositionItem.horizontal" ng-model-options="{ allowInvalid: true }" ng-pattern="jjBinding.integer" name="backgroundPositionItemHorizontal" ng-class="{error: masterForm.backgroundPositionItemHorizontal.$invalid}" jj-binding="{$property:\'backgroundPositionItemHorizontal\', enter: \'positionItemChange\', onBlur: \'positionItemChange\'}"><md-select flex="33" ng-model="backgroundPositionItem.horizontalUnit" aria-label="pattern size unit" ng-change="positionItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundPositionItem.units">{{ unit }}</md-option></md-select></div><div class="space"></div><div layout="raw"><label layout="raw" layout-align="center center" flex="33">세로 위치</label> <input flex="" type="number" step="1" ng-model="backgroundPositionItem.vertical" ng-model-options="{ allowInvalid: true }" ng-pattern="jjBinding.integer" name="backgroundPositionItemVertical" ng-class="{error: masterForm.backgroundPositionItemVertical.$invalid}" jj-binding="{$property:\'backgroundPositionItemVertical\', enter: \'positionItemChange\', onBlur: \'positionItemChange\'}"><md-select flex="33" ng-model="backgroundPositionItem.verticalUnit" aria-label="pattern size unit" ng-change="positionItemChange()" class="select-type-mini"><md-option ng-value="unit" ng-repeat="unit in backgroundPositionItem.units">{{ unit }}</md-option></md-select></div></div><div class="space" style="height: 20px;"></div><div layout="raw" flex="" ng-class="{ jj_form_disable: (backgroundSizeOptionItem.value === \'100% 100%\') }"><label layout="raw" layout-align="center center" flex="33">패턴 반복</label><div layout="raw" flex=""><input type="checkbox" style="width: 25px;" ng-model="backgroundRepeatItem.x" ng-change="repeatItemChange()"> <label layout="raw" layout-align="start center" style="margin: 0 10px 0 5px;">가로</label> <input type="checkbox" style="width: 25px;" ng-model="backgroundRepeatItem.y" ng-change="repeatItemChange()"> <label layout="raw" layout-align="start center" style="margin: 0 10px 0 5px;">세로</label><div flex=""></div></div></div></div></form></div>');

}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/document/jj-box-search-text.html",'<div><md-button class="md-raised md-primary" type="button" ng-click="openSearchTextEditor()" style="margin: 5px 0px;width: 100%;">검색 내용 편집</md-button><div style="margin: 5px 0px; background-color: #E0E0E0; border-radius: 3px; padding: 10px 10px; min-height: 100px; height: 100%; overflow: auto;" class="selectableText" ng-bind-html="displayText"></div></div>')}]),angular.module("vulcan.jikji.tool").run(["$templateCache",function(e){e.put("content/property/basic/paper/jj-box-paper-size.html",'<div layout="column"><form name="size" novalidate=""><div layout="column"><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">가로</label> <input flex="" type="number" step="1" ng-model="widthItem.value" ng-model-options="{ allowInvalid: true }" required="" ng-min="widthItem.min" ng-max="widthItem.max" ng-pattern="jjBinding.integer" name="width" ng-class="{error: size.width.$invalid}" jj-binding="{$property:\'width\', enter: \'widthItemChange\', onBlur: \'widthItemChange\', onInvalid: \'widthItemInvalid\'}" ng-change="widthItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div><div class="space"></div><div layout="raw" flex=""><label layout="raw" layout-align="center center" flex="30">세로</label> <input flex="" type="number" step="1" ng-model="heightItem.value" ng-model-options="{ allowInvalid: true }" required="" ng-min="heightItem.min" ng-max="heightItem.max" ng-pattern="jjBinding.integer" name="height" ng-class="{error: size.height.$invalid}" jj-binding="{$property:\'height\', enter: \'heightItemChange\', onBlur: \'heightItemChange\', onInvalid: \'heightItemInvalid\'}" ng-change="heightItemLiveUpdate()"> <label layout="raw" layout-align="center center" class="jj_form_boxLabel">px</label></div></div></form></div>')}]);