<!DOCTYPE html>
<html lang="ko">
	<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=1280, height=720, initial-scale=1.0">
    <link rel="stylesheet" href="../include/math/style/master.css">
    <link rel="stylesheet" href="../include/math_4-2/style/math_4-2.css">
    <link rel="stylesheet" href="../include/math/style/drawLine.css">
    <link rel="stylesheet" href="./css/5_powerup.css">
    <style>
    </style>
  </head>
	<body class="lesson_5">
    <div id="wrap" class="powerup">
      <header>
        <div class="js-addThingsMenu addThingsMenu"></div>
        <div class="js-indexButton indexButton" data-hover=""></div>
        <div class="indexBox">
          <span>5. 자료와 꺾은선그래프</span>
          <span>수학의 힘을 키워요</span>
        </div>
        <div class="js-mainBookButton mainBookButton" data-type="ebook" data-page="122">수학<span>122</span>쪽</div>
        <div class="js-addThingsButton addThingsButton"></div>
        <div class="js-closeButton closeButton" data-type="ebook" data-page="122"></div>
      </header>
      <section class="intro"></section>
      <main>
        <div class="contentsArea">
          <div class="basicSlider" data-slide-container="main">
            <ul class="basicSlider_slides" data-slides="main">
              <li class="page1">
                <h1>여러 가지 그래프를 비교하고 자료에 적절한 그래프로 나타 내 봅시다.</h1>
                <section>
                  <div class="mediaContainer video on" data-media-container="video">
                    <video poster="media/mp4/5_powerup_ani.jpg" webkit-playsinline="" playsinline="">
                        <source src="media/mp4/5_powerup_ani.mp4" type="video/mp4">
                        Your browser does not support the video element.
                    </video>
                  </div>
                </section>
              </li>
              <li class="page2">
                <h2 class="widthTeacher"></h2>
                <div class="basicSlider" data-slide-container="inner">
                  <ul class="basicSlider_slides" data-slides="inner">
                    <li>
                      <h3 class="h2Side">다음 순서로 적절한 그래프를 찾아 나타내 보세요.</h3>
                      <div class="pwu_page2Box cont1">
                        <div class="textArea">
                            <div class="balloonText"><span class="num">1</span>주어진 자료의 특징을 살펴보세요.</div>
                        </div>
                        <div class="targetCont">
                            <img src="./images/5_powerup/5_powerup_page2_bg.svg" style="width:782px">
                        </div>
                      </div>
                    </li>
                    <li>
                      <h3 class="h2Side">다음 순서로 적절한 그래프를 찾아 나타내 보세요.</h3>
                      <div class="pwu_page2Box cont2">
                        <div class="textArea">
                            <div class="balloonText"><span class="num">2</span> 자료를 나타내기에 적절한 그래프를 정해 보세요.</div>
                        </div>
                        <div class="targetCont">
                            <img src="./images/5_powerup/5_powerup_page2_bg.svg" style="width:782px">
                        </div>
                      </div>
                    </li>
                    <li>
                      <h3 class="h2Side">다음 순서로 적절한 그래프를 찾아 나타내 보세요.</h3>
                      <div class="pwu_page2Box cont3">
                        <div class="textArea">
                            <div class="balloonText"><span class="num">3</span> 정한 그래프로 나타내 보세요.</div>
                        </div>
                        <div class="targetCont">
                            <img src="./images/5_powerup/5_powerup_page2_bg.svg" style="width:782px">
                        </div>
                      </div>
                    </li>
                  </ul>
                  <div class="basicSlider_btn prev" data-btn-prev="inner"></div>
                  <div class="basicSlider_btn next" data-btn-next="inner"></div>
                </div>
              </li>
              <li class="page3" data-quiz="input" data-quiz-name="input_3">
                <div class="popupButton head" data-popup-btn="1" data-popup-option="toggle"></div>
                <h2 class="self"></h2>
                <h3 class="h2Side">적절한 그래프로 나타내 보세요.</h3>
                <div class="imgCont">
                  <img src="./images/5_powerup/5_powerup_page3_img.svg" style="width:840px">
                </div>
                <ul class="list dot">
                  <li><span class="mark">표 1</span>을 나타내기에 적절한 그래프를 고르고 그 까닭을 말해 보세요.
                    <div class="inputBox">
                      <textarea type="text" class="maxWidth" data-input-obj="1" data-answer=" "></textarea>
                      <div class="textColor answer" data-after-target="input_3">
                        <p><ins class="exam circle brown2">예</ins>막대그래프,</p>
                        <p>막대의 길이를 비교해서 학생 수의 많고 적음을 한눈에 알아보기에 편리하기 때문입니다.</p>
                      </div>
                    </div>
                  </li>
                </ul>
                <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
              </li>
              <li class="page4" data-quiz="input" data-quiz-name="input_4">
                <div class="popupButton head" data-popup-btn="2" data-popup-option="toggle"></div>
                <h2 class="self"></h2>
                <h3 class="h2Side">적절한 그래프로 나타내 보세요.</h3>
                <div class="imgCont">
                  <img src="./images/5_powerup/5_powerup_page3_img.svg" style="width:840px">
                </div>
                <ul class="list dot">
                  <li><span class="mark">표 2</span>를 나타내기에 적절한 그래프를 고르고 그 까닭을 말해 보세요.
                    <div class="inputBox">
                      <textarea type="text" class="maxWidth" data-input-obj="2" data-answer=" "></textarea>
                      <div class="textColor answer" data-after-target="input_4">
                        <p><ins class="exam circle brown2">예</ins>꺾은선그래프,</p>
                        <p>키의 변화를 한눈에 알아볼 수 있기 때문입니다.</p>
                      </div>
                    </div>
                  </li>
                </ul>
                <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
              </li>
              <li class="page5">
                <div class="js-supplies supplies">
                  <div class="js-suppliesContent suppliesContent"><p>활동지<ins class="downButton" data-download-file="4학년_2학기_179.pdf"></ins></p></div>
                  <div class="js-suppliesButton suppliesButton"></div>
                </div>
                <h2 class="self"></h2>
                <div class="basicSlider" data-slide-container="inner">
                  <ul class="basicSlider_slides" data-slides="inner">
                    <li class="innerPage_1" data-quiz="input" data-quiz-name="input_5">
                      <h3 class="h2Side">적절한 그래프로 나타내 보세요.</h3>
                      <div class="flexBox">
                        <div class="left">
                          <ul class="list dot">
                            <li><span class="mark">표 1</span>과 <span class="mark">표 2</span>를 위에서 정한 
                              그래프로 나타내 보세요.</li>
                          </ul>
                          <img src="images/5_powerup/5_powerup_page3_pop.svg" alt="" style="width:100%">
                        </div>
                        <div class="right">
                          <div class="inputBox">
                            <input type="text" class="maxWidth" data-input-obj="2" data-answer="우리 반 학생들이 좋아하는 색깔">
                            <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
                          </div>
                          <div class="graphArea">
                            <input type="text" class="" data-input-obj="1_1" data-answer="명">
                            <input type="text" class="" data-input-obj="1_2" data-answer="15">
                            <input type="text" class="" data-input-obj="1_3" data-answer="10">
                            <input type="text" class="" data-input-obj="1_4" data-answer="5">
                            <input type="text" class="noBox" data-input-obj="1_5" data-answer="학생 수">
                            <input type="text" class="noBox" data-input-obj="1_6" data-answer="색깔">
                            <input type="text" class="noBox" data-input-obj="1_7" data-answer="빨강">
                            <input type="text" class="noBox" data-input-obj="1_8" data-answer="파랑">
                            <input type="text" class="noBox" data-input-obj="1_9" data-answer="노랑">
                            <input type="text" class="noBox" data-input-obj="1_10" data-answer="초록">

                            <div class="fillContainer">
                              <div class="js-fillContainer square square_1" data-length="17" data-answer="2"></div>
                              <div class="js-fillContainer square square_2" data-length="17" data-answer="11"></div>
                              <div class="js-fillContainer square square_3" data-length="17" data-answer="15"></div>
                              <div class="js-fillContainer square square_4" data-length="17" data-answer="1"></div>
                            </div>
                            <div class="js-quizButton resetButton" data-type="reset"></div>
                          </div>
                        </div>
                      </div>
                      <ins class="exam circle brown2" data-after-target="input_5">예</ins>
                    </li>
                    <li class="innerPage_2" data-quiz="input" data-quiz-name="input_6">
                      <h3 class="h2Side">적절한 그래프로 나타내 보세요.</h3>
                      <div class="flexBox">
                        <div class="left">
                          <ul class="list dot">
                            <li><span class="mark">표 1</span>과 <span class="mark">표 2</span>를 위에서 정한 
                              그래프로 나타내 보세요.</li>
                          </ul>
                          <img src="images/5_powerup/5_powerup_page4_pop.svg" alt="" style="width:100%" class="img2">
                        </div>
                        <div class="right">
                          <div class="inputBox">
                            <input type="text" class="maxWidth" data-input-obj="2" data-answer="나의 키">
                            <div class="js-buttons quizButtons answer" data-hover="" data-answer-btn=""></div>
                          </div>
                          <div class="graphArea graph2">
                            <input type="text" class="" data-input-obj="1_1" data-answer="cm">
                            <input type="text" class="" data-input-obj="1_2" data-answer="140">
                            <input type="text" class="" data-input-obj="1_3" data-answer="135">
                            <input type="text" class="" data-input-obj="1_4" data-answer="130">
                            <input type="text" class="" data-input-obj="1_4_1" data-answer="125">
                            <input type="text" class="noBox" data-input-obj="1_5" data-answer="키">
                            <input type="text" class="noBox" data-input-obj="1_6" data-answer="연도">
                            <input type="text" class="" data-input-obj="1_7" data-answer="2016">
                            <input type="text" class="" data-input-obj="1_8" data-answer="2017">
                            <input type="text" class="" data-input-obj="1_9" data-answer="2018">
                            <input type="text" class="" data-input-obj="1_10" data-answer="2019">
                            <input type="text" class="" data-input-obj="1_11" data-answer="년">

                            <div class="js-lineGraph lineGraph graph" data-option="">
                              <canvas class="js-drawArea drawArea"></canvas>
                              <div class="js-quizButton resetButton" data-type="reset"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <ins class="exam circle brown2" data-after-target="input_6">예</ins>
                    </li>
                  </ul>
                  <div class="basicSlider_btn prev" data-btn-prev="inner"></div>
                  <div class="basicSlider_btn next" data-btn-next="inner"></div>
                </div>
              </li>
            </ul>
            <div class="basicSlider_pageMove">
              <ul class="basicSlider_circle_tabs" data-tabs="main">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <div class="basicSlider_btn prev" data-btn-prev="main"></div>
              <div class="basicSlider_btn next" data-btn-next="main"></div>
            </div>
          </div>
        </div>
      </main>
      <section class="popup_container" data-popup-container="">
        <ul class="popup_pages">
          <li class="min head slideleft" data-popup-page="1">
           <img src="images/5_powerup/5_powerup_page3_pop.svg" alt="" class="popImgSize">
          </li>
          <li class="min head slideleft" data-popup-page="2">
            <img src="images/5_powerup/5_powerup_page4_pop.svg" alt="" class="popImgSize">
           </li>
        </ul>
      </section>
    </div>
    <script src="../include/libs/js/ts.min.js"></script>
    <script src="../include/math/script/fillTarget.min.js"></script>
    <script src="../include/libs/js/controller.min.js"></script>
    <script src="../include/libs/js/popup.min.js"></script>
    <script src="../include/libs/js/slider.min.js"></script>
    <script src="../include/contents/js/quiz/quiz.min.js"></script>
    <script src="../include/math/script/lineGraph.min.js"></script>
    <script src="../include/math/script/sprite.min.js"></script>
    <!-- <script src="../include/math/script/newDrawLine.min.js"></script> -->
    <script src="../include/contents/js/pageManager.min.js"></script>
    <script src="../include/math/script/intro_powerup.js"></script>    
    <script type="text/javascript"> 
        window.addEventListener('load', function() {
          var fillArray = [];
          $ts.getEl('.js-fillContainer').forEach(function(container) {
            fillArray.push(
            new FillTarget({
              container: container,
              answerButton: document.querySelector('.innerPage_1 .quizButtons')
            })
          )
          });


          function createDot(container, dotLength) {
            function createElement(container, i, j) {
              var dot = document.createElement('div');
              var light = document.createElement('div');
              light.classList.add('induceLight');
              dot.appendChild(light);

              dot.classList.add('js-dot');
              dot.classList.add('graphDot');
              dot.classList.add('horizon_' + (i+1));
              dot.classList.add('vertical_' + (j+1));
              dot.setAttribute('data-type', i);
              dot.setAttribute('data-index', j);
              container.appendChild(dot);
          
              return dot;
            }

            for (var i = 0; i < dotLength[0]; i++) {
              for (var j = 0; j < dotLength[1]; j++) {
                createElement(container, i, j);
              }
            }
          }

          var resetButton =$ts.getEl('.innerPage_1 .js-quizButton')[0];
          resetButton.addEventListener('click', function () {
            fillArray.forEach(function (fill) {
              fill.fillReset();
            })
          })
          var answers = [
            {x: 96, y: 248},
          {x: 189, y: 162},
          {x: 286, y: 105},
          {x: 379, y: 62},
          ];
          var graphContainers = $ts.getEl('.js-lineGraph').map(function(container) {
            createDot(container, [4, 20]);
          
            return new $LineGraph({
              container: container,
              resetButton: container.querySelector('.innerPage_2 .js-quizButton'),
              length: 5,
              lineWidth: 6,
              callback: {
                click: function(GRAPH, clickedDot) {
                  var sameDotArray = GRAPH.dots.filter(function(dot) {
                    return dot.type[0] === clickedDot.type[0];
                  });
console.log('???', GRAPH)
                  sameDotArray.forEach(function(dot) {
                    dot.dom.classList.add('lightOff');
                  })
                },
                reset: function(GRAPH) {
                  GRAPH.dots.forEach(function(dot) {
                    dot.dom.classList.remove('lightOff');
                  })
                },
              }
            });
          });

          var quizButton = $ts.getEl('.innerPage_2 .quizButtons')[0];
          quizButton.addEventListener('click', function () {
            graphContainers.forEach(function(graph) { graph.reset(); });
            if(this.className.indexOf('reset') === -1){
              page5allReset();
            }else{
              $ts.getEl('.innerPage_2 .answer')[0].classList.add('on');
              $ts.getEl('.innerPage_2 .lineGraph')[0].classList.add('pointerOff');
              $ts.getEl('.innerPage_2 .resetButton')[0].classList.add('off');
              lightOff();
              answerLineShow();
            }
          })
          var quizButton = $ts.getEl('.innerPage_1 .quizButtons')[0];
          quizButton.addEventListener('click', function () {
            graphContainers.forEach(function(graph) { graph.reset(); });
            if(this.className.indexOf('reset') === -1){
              page5allReset();
            }else{
              $ts.getEl('.innerPage_1 .answer')[0].classList.add('on');
              // $ts.getEl('.innerPage_1 .lineGraph')[0].classList.add('pointerOff');
              $ts.getEl('.innerPage_1 .resetButton')[0].classList.add('off');
              lightOff();
              answerLineShow();
            }
          })
          function answerLineShow(){
            var canvas = $ts.getEl('.innerPage_2 canvas')[0];
            var context = canvas.getContext('2d');
            context.strokeStyle = '#0060e3';
            context.fillStyle = '#0060e3';
            context.lineWidth = 6;
            context.lineCap = 'round';
            context.lineJoin = 'round';
            context.save();

            var drawPointers = function (pointer) {
              context.lineTo(pointer.x, pointer.y);
            }
            context.beginPath();
            answers.forEach(drawPointers);
            context.stroke();
            context.restore();
            context.save();
          }

          var graphDot = $ts.getEl('.graphDot');
          function lightOff() {
            graphDot.forEach(function (obj) {
              obj.classList.add('lightOff');
            })
          }
          function lightOn() {
            graphDot.forEach(function (obj) {
              obj.classList.remove('lightOff');
            })
          }

          function page5allReset(){
            $ts.getEl('.innerPage_2 .answer')[0].classList.remove('on');
            $ts.getEl('.innerPage_2 .lineGraph')[0].classList.remove('pointerOff');
            $ts.getEl('.innerPage_2 .resetButton')[0].classList.remove('off');
            
            $ts.getEl('.innerPage_1 .answer')[0].classList.remove('on');
            $ts.getEl('.innerPage_1 .resetButton')[0].classList.remove('off');
            lightOn();
          }
          window.$callBack.sliderMove = function(SLIDER) {
            $pm.array.quiz.inPage.forEach(function(quiz) { quiz.reset(); });
            fillArray.forEach(function (fill) {
              fill.fillReset();
            })
            graphContainers.forEach(function(graph) { graph.reset(); });
            page5allReset();
          }
        });
      </script>
  </body>
</html>