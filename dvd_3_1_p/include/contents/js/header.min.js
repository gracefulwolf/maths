"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _classCallCheck(t,e){if(!_instanceof(t,e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(function(){function t(t){var e=document.createElement(t.tag||"div"),n=t.parent||document.body;if(t.className){var i=t.className.replace(/ /g,"").split(",");i.forEach(function(t){e.classList.add(t)})}return t.attr&&t.attr.forEach(function(t){e.setAttribute(Object.keys(t)[0],t[Object.keys(t)[0]])}),t.text&&(e.innerHTML=t.text),t.before?n.insertBefore(e,n.children[0]):n.appendChild(e),e}function e(t){function e(){this.classList.add("hover")}function n(){this.classList.remove("hover")}t.addEventListener("mouseover",e),t.addEventListener("mouseout",n)}var n=parent.parent.GET_CURRENT_PAGE_NUMBER,i="/viewer/ebook/index.html",o="?contentInformationURL=",s="../../resource/",a=n?"/resource/include":"../../../include",c="data-type",d="data-page",l=function(){function n(e){_classCallCheck(this,n),this.container=t({className:"helper",parent:e}),this.boardButton=t({className:"boardButton",parent:this.container,text:"칠판"}),this.blackPageButton=t({className:"blackPageButton",parent:this.container,text:"깜깜이"}),this.bellButton=t({className:"bellButton",parent:this.container,text:"집중벨"}),this.diceButton=t({className:"diceButton",parent:this.container,text:"주사위"}),this.timer=t({className:"timer",parent:this.container,text:"타이머"}),this.groupStickerButton=t({className:"groupStickerButton",parent:this.container,text:"붙임딱지"}),this.addHoverEvent(),this.boardButton.addEventListener("click",this.openWindow.bind(this,"board")),this.diceButton.addEventListener("click",this.openWindow.bind(this,"dice")),this.timer.addEventListener("click",this.openWindow.bind(this,"timer")),this.groupStickerButton.addEventListener("click",this.openWindow.bind(this,"groupSticker")),this.blackPageButton.addEventListener("click",this.openWindow.bind(this,"blackPage")),this.bellButton.addEventListener("click",this.playBell)}return _createClass(n,[{key:"addHoverEvent",value:function(){[this.boardButton,this.blackPageButton,this.bellButton,this.diceButton,this.groupStickerButton,this.timer].forEach(e)}},{key:"openWindow",value:function(t){var e="".concat(a,"/activeHelper");window.jj?jj.link.html("".concat(e,"/").concat(t,".html"),"_blank",{maximize:!0}):window.open("".concat(e,"/").concat(t,".html"),"_blank")}},{key:"playBell",value:function(){$efSound&&$efSound.bell(),m.toggleMenu()}},{key:"isReady",value:function(){alert("작업중입니다")}},{key:"bind",value:function(){}}]),n}(),r=function(){function n(i){_classCallCheck(this,n),this.binder(),this.dom=i,this.blockDom=t({className:"pageBlockArea",parent:document.querySelector("header")}),this.helper=new l(this.dom),this.wordCard=t({className:"wordCard",parent:this.dom}),this.special=t({className:"special",parent:this.dom}),this.isOpened=!1,[this.wordCard,this.special].forEach(e),this.wordCard.addEventListener("click",this.openWordCard),this.special.addEventListener("click",this.openSpecializeContents)}return _createClass(n,[{key:"toggle",value:function(){this.isOpened?this.close():this.open()}},{key:"open",value:function(){this.isOpened=!0,this.dom.classList.remove("close"),this.dom.classList.add("open"),this.blockDom.classList.add("visible")}},{key:"close",value:function(){this.isOpened=!1,this.dom.classList.replace?this.dom.classList.replace("open","close"):(this.dom.classList.remove("open"),this.dom.classList.add("close")),this.blockDom.classList.remove("visible")}},{key:"openWordCard",value:function(){var t="".concat(a,"/wordCard/index.html");window.jj?jj.link.html(t,"_blank",{maximize:!0}):window.open(t,"_blank")}},{key:"openSpecializeContents",value:function(){var t="".concat(a,"/specializeContents/index.html");window.jj?jj.link.html(t,"_blank",{maximize:!0}):window.open(t,"_blank")}},{key:"binder",value:function(){this.open=this.open.bind(this),this.close=this.close.bind(this),this.toggle=this.toggle.bind(this)}}]),n}(),h=function(){function t(n){_classCallCheck(this,t),this.dom=n,e(this.dom)}return _createClass(t,[{key:"addEvent",value:function(t,e){this.dom.addEventListener(t,e)}},{key:"on",value:function(){this.dom.classList.add("on")}},{key:"normalize",value:function(){this.dom.classList.remove("on")}}]),t}(),u=function(){function t(e){_classCallCheck(this,t),console.log("Header Start ------>"),this.container=e.header,e.addThingsMenu&&(this.addThingsMenu=new r(e.addThingsMenu)),e.addThingsButton&&(this.addThingsButton=new h(e.addThingsButton)),e.mainBookButton&&(this.mainBookButton=new h(e.mainBookButton)),e.subBookButton&&(this.subBookButton=new h(e.subBookButton)),e.closeButton&&(this.closeButton=new h(e.closeButton)),this.binder(),this.showHeader(),this.addEvents()}return _createClass(t,[{key:"showHeader",value:function(){this.container.classList.add("on")}},{key:"openViewer",value:function(){var t=this.getAttribute(c),e=this.getAttribute(d),n="".concat(i).concat(o).concat(s).concat(t,"&page=").concat(e);window.jj?jj.link.html(n,"_top"):alert("JJ api가 없습니다")}},{key:"toggleMenu",value:function(){this.addThingsMenu.isOpened?(this.addThingsMenu.close(),this.addThingsButton.normalize()):(this.addThingsMenu.open(),this.addThingsButton.on())}},{key:"addEvents",value:function(){this.addThingsButton&&this.addThingsMenu&&this.addThingsButton.addEvent("click",this.toggleMenu),this.mainBookButton&&this.mainBookButton.addEvent("click",this.openViewer),this.subBookButton&&this.subBookButton.addEvent("click",this.openViewer),this.closeButton&&this.closeButton.addEvent("click",this.openViewer)}},{key:"binder",value:function(){this.showHeader=this.showHeader.bind(this),this.toggleMenu=this.toggleMenu.bind(this)}}]),t}(),m=new u({header:document.querySelector("header"),addThingsMenu:document.querySelector(".js-addThingsMenu"),addThingsButton:document.querySelector(".js-addThingsButton"),mainBookButton:document.querySelector(".js-mainBookButton"),subBookButton:document.querySelector(".js-subBookButton"),closeButton:document.querySelector(".js-closeButton")})})();