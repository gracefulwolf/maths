!function(){var o="tb2015tc1mm_42p_dvd",n=o.indexOf("CLIENT_DOMAIN")<0?o:"jikji.binder.demo",e=window.location.href;if(0===e.indexOf("http://")||0===e.indexOf("https://"))return void console.debug("# 외부 링크 이동 (end 제어 중지) : ",e);if(0===window.location.host.indexOf(n)&&!(e.indexOf("about:blank")>-1)&&!(e.indexOf("data:text/html,chromewebdata")>-1||e.indexOf("chrome-error://chromewebdata")>-1)&&window.nw&&window.process&&window.jj){console.debug("# INJECTION END : ",e);var i=window.nw.Window.get();window._jj_isLauncherPage?(!function(){function o(o){c=(new Date).getTime()-c,c<500?setTimeout(function(){n(o)},1e3):n(o)}function n(o){if(o&&o.jj){var n=o.jj.getRootWindow();n.$$firstSizeSetting&&n.$$firstSizeSetting(),window.nw.Window.get(o).show()}d.jj.native.close()}function e(o){var e=require("net"),i=new e.Socket;i.connect(637,"127.0.0.1",function(){console.log("Connected : ",637),i.write("mainPageLoaded"),i.end(),n(o)}),i.on("data",function(o){console.log("Received: "+o)}),i.on("error",function(o){console.log("error: "+o),i.destroy()}),i.on("close",function(){console.log("Connection closed")})}var t=require("path"),w=window.jj._global,d=window,l="/resource/"+w.config.main;l=t.normalize(l),l=l.replace(/\\/gim,"/");var r=window.nw.App.manifest.splash||!1,a={onOpen:function(o){r||n()},width:500,height:500,maximize:!1,resizable:!0,focus:!0},c=(new Date).getTime();!function(n){if(!n)return void(d.closeSplash=function(){});"socket"===n?d.closeSplash=e:(d.closeSplash=o,i.setAlwaysOnTop(!0),i.show())}(r),a.show=!(!0===r);var s=["show","title","width","height","minimize","maximize","resizable","fullscreen","alwaysOnTop"];for(var j in w.config)-1!=s.indexOf(j)&&(a[j]=w.config[j]);console.log("# 메인 페이지 런칭 : ",l,a),window.jj.link.html(l,"_blank",a)}(),delete window._jj_isLauncherPage):"root"==window._jj_type?function(){var o=require("url"),n=o.parse(e,!0),i=n.query;console.log("# url 전달값 파싱 : ",n);var t=window.jj._global.path.viewer.blank;if(!i.url)return void(window.location.pathname!=t&&alert("이동할 페이지 경로가 전달되지 않았습니다.\n- url : "+window.location.pathname+window.location.search));var w,d=i.url;if(i.blank_window_id){var l=i.blank_window_id;d===t&&(console.error("// 이전 등록된 아이디가 있다면 제거"),window.jj._global.removeWindow(l)),w={parameter:{windowID:l}}}else{var r=window.jj.getRootWindow(),a=r.jj._option;w=a&&a._custom?{onOpen:a._custom.onOpen,onClose:a._custom.onClose,parameter:a._custom.parameter}:{}}console.log("# 컨텐츠 페이지 로드 : ",d,w),window.jj.link.html(d,"_top",w)}():("container"==window._jj_type&&window.document&&window.document.title&&(i.title=window.document.title),function(){window.addEventListener("unload",function(o){window.removeEventListener(o.type,arguments.callee),window.jj&&(console.debug("# windowID 제거 보정 코드 (unload) : "+window.jj._id,window._jj_type),window.jj._global.removeWindow(window.jj._id))},!1)}()),window.document.body&&(window.document.body.oncontextmenu=function(){return!1}),console.log("##############"),console.log("# 페이지 세팅 종료"),console.log("##############"),console.log("\n\n"),window.jj._global.config.debug&&i.showDevTools(),window._jj_openListener&&(console.debug("# onOpen 콜백 (document-start) : ",window.jj._frame_id,"/",window.jj._id," (",window._jj_type,")"),window._jj_openListener(),delete window._jj_openListener)}}();