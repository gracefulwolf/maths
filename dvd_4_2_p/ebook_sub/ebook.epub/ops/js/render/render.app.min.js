"use strict";function $performanceTest1(){function e(){angular.element(document.querySelector(".jikji")).injector().invoke(["$rootScope","$timeout",function(e,t){e.$apply(),t(function(){n=performance.now()-n,console.warn("\nApp Performance : ",n,"ms\n",window.frameElement?window.frameElement.src:window.location.href,"\n\n")})}])}console.warn("performance 체크 시작");var n=performance.now();angular.element(window).load(function(){e()})}try{if(!window.MODULE)throw new Error("window.MODULE 객체가 정의되지 않았습니다. ")}catch(err){console.error(err)}!function(){console.log("\n\n"),console.log("# render module 시작"),window.MODULE.$add("render");var e=[MODULE.tool.name],n=MODULE.$set(MODULE.render,e);console.log("	- MODULE RENDER : ",MODULE.$get(MODULE.render.name)==MODULE.render.instance),console.log("# render module 끝"),console.log("\n\n"),n.run(["$injector",function(e){window.debugMode&&(window.$data.render=e.get("$renderData"))}])}(),function(){var e=MODULE.render.instance;e.run(["CommandParam","$command","$newApplicationMacro","$openParser","$renderData","$timeout","$animate","Default","$applications",function(e,n,t,r,i,o,a,l,u){console.clear(),window.$performanceTest&&window.$performanceTest(),console.log("# APPLICATION RUN : 새로운 Application 데이터 생성"),a.enabled(!1),u.projectIsOpen(!1);var c=t.getProcess();n.execute(c,function(e){var n=e.newApplication.getResponse().application;console.log("새로운 Application이 준비되었습니다. ( "+n+" )");var t=i.get();r.run(t,function(e){r.selectDocument(function(){console.log("# 데이터 열기 완료"),e&&console.warn("# 버전이 맞지 않아 호환되지 않는 데이터가 있습니다."),console.warn("# $animate.enabled (global) : ",l.animateEnable," 상태를 default 상태로 함"),l.animateEnable&&o(function(){a.enabled(!0)},500),u.projectIsOpen(!0)})})})}]),angular.element(document).ready(function(){console.log("# DOCUMENT READY : (location)",window.location.pathname),console.debug("(참고) AngularJS Inspector를 사용하려면 strictDi = true로 설정해야 합니다."),angular.bootstrap(document,[MODULE.render.name],{strictDi:!0})})}(),function(){var e=MODULE.render.instance;e.config(["$mdThemingProvider",function(e){console.log("# APPLICATION CONFIG"),e.theme("default").primaryPalette("light-blue").accentPalette("indigo")}])}(),function(){var e=MODULE.render.instance;e.controller("ViewController",["$scope","$element","$attrs","$command","$timeout","$externalAPI","$applications","$projects","$documents",function(e,n,t,r,i,o,a,l,u){function c(){f=l.uid(),f&&(m&&m(),s(),d())}function s(){var n=l.get(f);e.paper=n.value("paper")}function d(){var n=0,t=e.paper;if(!t)return void(e.screenStyle={padding:n});var r=t.width+2*n,i=t.height+2*n;e.screenStyle={minWidth:r,minHeight:i,padding:n}}var m,f="";m=window.$$__pagedata?e.$watch(function(){return u.uid()},function(n,t){n&&(e.projectIsOpen=!0,c())}):e.$watch(function(){return a.projectIsOpen()},function(n,t){e.projectIsOpen=n,n&&c()})}])}(),function(){function e(e,n,t,r,i,o,a,l,u,c,s,d,m,f){function g(e){var n={};for(var t in e){var r=e[t];void 0===r.require?n[r.name]=p(r.type,r.value):r.require&&(n[r.name]=p(r.type,r.value))}return n}function p(e,n){var t;switch(e){case"object":case"array":try{angular.isArray(n)&&(t=n),angular.isString(n)&&(t=angular.fromJson(n))}catch(r){t=n}break;case"boolean":if("string"==typeof n){var i=n.toLowerCase();t="true"===i?!0:"false"===i?!1:Boolean(n)}else t=Boolean(n);break;case"number":t=Number(n);break;case"string":default:t=String(n)}return t}function v(e,t,r){return function(i,o,a,l){if(r)try{e.apply(null,[t,i,o,a,l])}catch(u){n.message(u)}else{var c;try{var s=!1,d=function(){s||i()};c=e.apply(null,[t,d,o,a,l])}catch(u){n.message(u.message),console.error(u.message,u.stack)}finally{s=!0,i(c||a)}}}}function h(){var e={common:o(v),media:a(v),book:l(v),custom:u(v),"JJ Binder API (link)":c(v),"JJ Binder API (native)":s(v),"JJ Binder API (record)":d(v)};return e}var y=h();return{get:function(n,t,o,a){function l(){var e=[];for(var l in a){var u=a[l];if("function"!=typeof u){var c=u.group,s=u.name,d=g(u.params),m=u.asynchronous;if(void 0===m&&(m=!1),y[c]&&y[c][s]){!function(e){if(void 0!==e.initVisible){var n=e.target,t=e.initVisible;console.log("* 감추기 설정 지연");var i=function(e){f.off(e.type,i),r.visibleChange(t,n),console.log("* (element_preInitialize) 감추기 설정")};f.on("element_preInitialize",i)}}(d);var p,v=[s,d,m,o,n,t],h=i.isPreviewer();h&&c.indexOf("JJ Binder")>-1?(console.log("actionItem : ",u),p=function(e,n,t,r){var i="미리보기 페이지에서는 해당 API를 지원하지 않습니다.\n\n* "+s+" : "+u.label;for(var o in d)i=i+"\n    >"+o+" : "+d[o];alert(i),m||e(t)}):p=y[c][s].apply(y,v),p&&e.push(p)}else console.error("# [",c,".",s,"]핸들러를 찾을 수 없습니다.")}else e.push(u)}return e}var u=l();if(u&&!(u.length<1)){var c=function(n,t){if(n&&"unload"===n.type)for(var r,i=0;i<u.length;++i){var o=function(e,t){var r,i=!1,o=function(e){r=e},a=function(){i=!0};return e(o,a,t,n),{result:r,cancel:i}}(u[i],r);if(o.cancel)break;r=o.result}else{console.log("# 핸들러 실행 : ",u);for(var a=new e,l=0;l<u.length;++l)!function(e){a.add("func_"+l,function(t,r,i){e(t,r,i,n)})}(u[l]);a.execute(function(e){t&&t(e)})}};return c}}}}var n=MODULE.render.instance;n.service("$actions",e),e.$inject=["Process","$toast","$elements","$api_common","$api_util","$action_common","$action_media","$action_book","$action_custom","$action_binderAPI_link","$action_binderAPI_native","$action_binderAPI_record","$timeout","$document"]}(),function(){function e(e,n,t,r){function i(n,t,r,i){var o=e.get(n.uid,t,r,i);if(o){var a=function(e){var t={action:o,event:e,uid:n.uid,type:r};return c?void l(t):void("initialize"===r&&u.initialize.push(t))};console.debug("	* 이벤트 등록 [",r,"]",n.uid,t.attr("element")),angular.element(t).on(r,a);var s=function(){angular.element(t).off(r,a)};return s}}function o(){var e=function(r){t.off(r.type,e),n(function(){a(function(){c=!0})})};t.on("document_creationComplete",e)}function a(e){function r(e,t){var i=e.shift();return i?void l(i,function(){r(e,t)}):void(t&&n(function(){t()}))}console.log("\n"),console.log("# 3. DOC EVENT 발생 (element_preInitialize)"),t.triggerHandler("element_preInitialize"),r(u.initialize,function(){console.log("\n"),console.log("# 4. DOC EVENT (element_initialized)"),t.triggerHandler("element_initialized"),r(u.etc,function(){e(),u=null,console.log("\n"),console.log("# 5. DOC EVENT (document_loaded)"),t.triggerHandler("document_loaded")})})}function l(e,n){if(console.warn("[",e.type,"] EVENT 실행: ",e.uid),window.$performanceTest){var t=performance.now();return void e.action.apply(null,[e.event,function(r){t=performance.now()-t,console.warn("[",e.type,"] EVENT 실행 종료: ",t,"ms",r,"\n\n"),n&&n()}])}e.action.apply(null,[e.event,function(t){console.warn("[",e.type,"] 실행 종료: ",t,"\n\n"),n&&n()}])}var u={initialize:[],etc:[]},c=!1;return o(),{create:function(e,n,t){var r=[];for(var o in t){var a=t[o],l=a.type,u=a.actions,c=i(e,n,l,u);r.push(c)}var s=function(){for(var e in r){var n=r[e];n.apply()}};return s}}}var n=MODULE.render.instance;n.service("$eventHandler",e),e.$inject=["$actions","$timeout","$document","$rootScope"]}(),function(){function e(){function e(e){return e=n(e),console.debug("UPDATE : ",e.element),e}function n(e){for(var n in e.element){var t=e.element[n],r=t.state;r.normal.css.zIndex=0,t.selected=!1}return e}var t,r={},i={add:function(e,n){var i="page-"+e;r[i]=n,t=i},remove:function(e){var n="page-"+e;r[n]=null,delete r[n],t==n&&(t=null)},get:function(n){if(void 0===n)return e(r[t]);var i="page-"+n;return e(r[i])}};return i}var n=MODULE.render.instance;n.service("$renderData",e)}(),function(){function e(e,n,t,r,i,o,a,l,u,c,s){function d(n,t){if(n&&t){var r=e.uid();"window"===n?$=t:n===r?y=t:w[n]=t}}function m(e){w[e]=null,delete w[e]}function f(e){return w[e]}function g(){var e=document.body.style.transform,n=e.match(/\bscale\(([0-9|\.]+).*\)/),t=n?Number(n[1]):1;return t}function p(e){var t;return e?"string"==typeof e?(e=e.trim(),t=n.isUID(e)?e:angular.element("#"+e).attr("uid")):t=angular.element(e).attr("uid"):t=this.uid,t?f(t):void 0}function v(){return w}function h(e){function n(e){var n=e.schema,t=e.values||{},r={};return n.forEach(function(e){var n,i=e.name;i in t&&(n=t[i]),(""===n||void 0===n)&&(n=e.value);var o=c.toDataType(n,e.type);r[i]=o}),r}var t=l.get(e);if(t.type()===a.MASK){var r=t.isGroupContainer();if(r){var i=u.get(r);if(!i.$$_original.capsule)return;var o=i.value("capsule");if(o&&o.schema&&o.schema.length>0){var s=n(o);return s}}}return{}}var y,$,w={};return{add:d,remove:m,get:f,getWindowAPI:function(){var e=this.getCommonAPI(t),n=r.create(),i=angular.extend(e,n);return delete i.on,delete i.off,delete i.trigger,i},getDocumentAPI:function(e,n){var t=this.getCommonAPI(n),r=i.create(e,n),o=angular.extend(t,r);return delete o.api,delete o.document,o},getElementAPI:function(e,n){var t=this.getCommonAPI(n),r=o.create(e,n),i=h(e.uid),a=angular.extend(t,r,{capsule:i});return a},getCommonAPI:function(e){var n={scope:{},document:y,scaleFactor:g,findAll:v,find:p,on:function(n,t,r){e.on(n,t)},off:function(n,t){e.off(n,t)},trigger:function(n){console.debug("# 이벤트 trigger [",n,"] "),e.triggerHandler(n)}};return n}}}var n=MODULE.render.instance;n.service("$scriptAPI",e),e.$inject=["$documents","$util","$window","$script_windowAPI","$script_documentAPI","$script_elementAPI","ElementType","$elements","$groups","$casting","$device"]}(),function(){function e(e){function n(){var n={animate:function(n,t,r){var i={queue:!1,duration:e.LOW};return r=angular.extend({},i,r),$(n).animate(t,r),this}};return n}var t=n();return t}var n=MODULE.render.instance;n.service("__$effect",e),e.$inject=["AnimationSpeed"]}(),function(){function e(e,n,t,r,i,o,a){return{get:function(a,l,u,c){a.$applyAsync=l.$applyAsync;var s="RenderAPIBase",d={typeIs:function(e,n){return n&&e.type?0===n.indexOf(e.type):!1},init:function(){a.destroyFunction=angular.noop,a.api={}},$onInit:function(){this.typeIs(t,a.uid)?(this.setDocumentAPI(),this.setWindowAPI()):this.typeIs(r,a.uid)&&(this.setElementMouse(),this.setElementAPI())},$onDestroy:function(){this.destroyFunction(),a.api={},this._bindHandler&&(this._removeElementMouseEvent(),this._bindHandler=null)},defineScriptAPI:function(){return a.api},setWindowAPI:function(){window.$this=this._getWindowAPI(),o.add("window",window.$this);var e=!1;$(window).one("unload",function(){e||(e=!0,n.triggerHandler("unload"))}),$(window).one("pagehide",function(){e||(e=!0,n.triggerHandler("unload"))})},_getWindowAPI:function(){var e=o.getWindowAPI();return e},setDocumentAPI:function(){var e=this._getDocumentAPI();o.add(a.uid,e);var r=t.get(a.uid),l=r.events(),u=i.create(a,n,l);this.destroyFunction=function(){u(),o.remove(a.uid)},console.log("\n"),console.log("# 1. DOC EVENT (document_load) : ",a.uid),n.triggerHandler("document_load")},_getDocumentAPI:function(){var e=o.getDocumentAPI(a,n);return e.api=this.defineScriptAPI()||{},e.api._eventNames&&(e._eventNames=e._eventNames+", "+e.api._eventNames,delete e.api._eventNames),e},setElementAPI:function(){var e=r.get(a.uid),n=this._getElementAPI();o.add(a.uid,n);var t=e.isGroupContainer();t&&o.add(t,n);var i=e.events(),l=this._createEventHandler(a,u,i);this.destroyFunction=function(){l(),o.remove(a.uid),t&&o.remove(t)}},_createEventHandler:function(e,n,t){var r=i.create(e,n,t);return r},_getElementAPI:function(){var e=o.getElementAPI(a,u);return e.api=this.defineScriptAPI()||{},e.api._eventNames&&(e._eventNames=e._eventNames+", "+e.api._eventNames,delete e.api._eventNames),e},setElementMouse:function(){this._bindHandler={down:angular.bind(this,this._mousedown),over:angular.bind(this,this._mouseover),out:angular.bind(this,this._mouseout),up:angular.bind(this,this._mouseup),docUp:angular.bind(this,this._mouseup_document)},this._addElementMouseEvent()},_addElementMouseEvent:function(){u.on("mousedown",this._bindHandler.down),u.on("mouseover",this._bindHandler.over),u.on("mouseout",this._bindHandler.out),u.on("mouseup",this._bindHandler.up)},_removeElementMouseEvent:function(){u.off("mousedown",this._bindHandler.down),u.off("mouseover",this._bindHandler.over),u.off("mouseout",this._bindHandler.out),u.off("mouseup",this._bindHandler.up),n.off("mouseup",this._bindHandler.docUp)},_mousedown:function(e){u.off("mouseout",this._bindHandler.out),n.off("mouseup",this._bindHandler.docUp),n.on("mouseup",this._bindHandler.docUp),this._stateChange("down")},_mouseover:function(e){"drag"!==r.get(a.uid).value("runtime").drag&&this._stateChange("over")},_mouseout:function(e){this._stateChange("normal")},_mouseup:function(e){u.off("mouseout",this._bindHandler.out),u.on("mouseout",this._bindHandler.out),n.off("mouseup",this._bindHandler.docUp),this._stateChange("over")},_mouseup_document:function(e){u.off("mouseout",this._bindHandler.out),u.on("mouseout",this._bindHandler.out),n.off("mouseup",this._bindHandler.docUp),this._stateChange("normal")},_stateChange:function(e){var n=r.get(a.uid);n?("down"!==e||n.value("downStateEnabled")||(e="over"),"over"!==e||n.value("overStateEnabled")||(e="normal")):e="normal",n.value("currentState",e),a.$applyAsync()}},m=e.create(s,d);return m}}}var n=MODULE.render.instance;n.service("$renderAPIService",e),e.$inject=["$superClass","$document","$documents","$elements","$eventHandler","$scriptAPI","$rootScope"]}(),function(){function e(e,n,t,r){return{get:function(i,o,a,l){var u="RenderGroupOwnerBase",c={typeIs:function(e,n){return n&&e.type?0===n.indexOf(e.type):!1},init:function(){i.indexes=[],i.elements={}},$onInit:function(){this.setChildConnection(),this.setElementIndexes()},$onDestroy:function(){i.indexes=[],i.elements={}},setElementIndexes:function(){var e;if(this.typeIs(n,i.uid))e=n.get(i.uid);else if(this.typeIs(t,i.uid)){var o=t.get(i.uid),a=o.getNoneCopyValue("childGroup");e=r.get(a)}if(!e)return[];var l=e.getNoneCopyValue("indexes")||[];i.indexes=l},setChildConnection:function(){i.fromChild=function(e,n,t){return arguments.length<2?void(i.elements[e]&&(i.elements[e]=null,delete i.elements[e])):(i.elements[e]||(i.elements[e]={}),void(i.elements[e][n]=t))}}},s=e.create(u,c);return s}}}var n=MODULE.render.instance;n.service("$renderChildService",e),e.$inject=["$superClass","$documents","$elements","$groups"]}(),function(){function e(e,n,r,i,o,a,l){function u(e){void 0!==e.css.minWidth&&(e.css.minWidth=0),void 0!==e.css.minHeight&&(e.css.minHeight=0)}return{get:function(c,s,d,m){var f="RenderElementBase",g={typeIs:function(e,n){return n&&e.type?0===n.indexOf(e.type):!1},init:function(){},$onDestroy:function(){c.toContainer&&c.toContainer(),c.type=null,this.prevRuntimeToggleVisible=null,this.runtimeToggleVisible=null,this.prevCss=null,c.css=null,this.prevStyle=null,c.style=null,this.prevOption=null,c.option=null,c.elementClass=null,c.elementStyle=null},$onInit:function(){var e=n.get(c.uid);c.type=e.type();var t=e.value("id");t&&d.attr("id",t),e.value("currentState","normal");var r=e.getNoneCopyValue("state");u(r.normal),u(r.over),u(r.down),this.prevCss,this.isChangedCss=!1,this.prevStyle,this.isChangedStyle=!1,this.prevOption,this.isChangedOption=!1,this._checkCreationComplete()},$doCheck:function(){var e=n.get(c.uid),t=e.getNoneCopyValue("runtime");t._initialize&&(this.checkRuntime(e),this.checkState(e))},_checkCreationComplete:function(){this.setCreationCompleteEvent(),++t;var e=o.get().getNoneCopyValue("elements").length;t===e&&l(function(){console.log("\n"),console.log("# 2. DOC EVENT (document_creationComplete) : 모든 Element 생성 완료 : ",t,"개"),a.triggerHandler("document_creationComplete")},0)},setCreationCompleteEvent:function(){var e=this,t=function(r){a.off(r.type,t);var i=n.get(c.uid),o=i.getNoneCopyValue("runtime");console.log("* ELEMENT EVENT (initialize)"),e.triggerEvent("initialize"),o._initialize=!0};a.on("document_creationComplete",t)},triggerEvent:function(e,n){d.triggerHandler(e,n)},checkRuntime:function(e){var n=e.getNoneCopyValue("runtime");angular.equals(this.prevRuntimeToggleVisible,n.toggle.visible)||(this.runtimeToggleVisible=n.toggle.visible,this.visibleChanged(e),this.prevRuntimeToggleVisible=this.runtimeToggleVisible),n.callAPI&&n.callAPI.name&&this.callAPIChanged(e)},visibleChanged:function(e){var n=this.runtimeToggleVisible;this.triggerEvent(n?"show":"hide"),c.$applyAsync()},callAPIChanged:function(e){var t=e.getNoneCopyValue("runtime"),r=t.callAPI.name,i=t.callAPI.params,o=t.callAPI.callback||function(e,n){};if(c.api){var a=c.api[r];a&&(console.log("# callAPI : ",t.callAPI),a.apply(c,[i,o]),t.callAPI=null,c.$applyAsync(),console.log("# callAPI 종료 : ",n.get(c.uid).value("runtime").callAPI))}},getCurrentDisplayState:function(e){var n=e.value("currentState");return"down"!==n||e.value("downStateEnabled")||(n="over"),"over"!==n||e.value("overStateEnabled")||(n="normal"),n},getStateProperties:function(e,n,t){var r,i=e.normal[t],o=e.over[t],a=e.down[t];return r="down"===n?angular.extend({},i,o,a):"over"===n?angular.extend({},i,o):angular.extend({},i)},checkState:function(e){var n=this.getCurrentDisplayState(e),t=e.getNoneCopyValue("state"),r=t[n];this.isChangedCss=!angular.equals(this.prevCss,r.css),this.isChangedCss&&(c.css=this.getStateProperties(t,n,"css")),this.isChangedStyle=!angular.equals(this.prevStyle,r.style),this.isChangedStyle&&(c.style=this.getStateProperties(t,n,"style")),this.isChangedOption=!angular.equals(this.prevOption,r.option),this.isChangedOption&&(c.option=this.getStateProperties(t,n,"option")),(this.isChangedCss||this.isChangedStyle||this.isChangedOption)&&(this.stateChanged(),this.toContainer()),this.isChangedCss&&(this.prevCss=angular.copy(r.css)),this.isChangedStyle&&(this.prevStyle=angular.copy(r.style)),this.isChangedOption&&(this.prevOption=angular.copy(r.option))},stateChanged:function(){var e=this.getDisplayOption(),n=this.getDisplayStyle(),t=this.getDisplayCss();this.customFilter(e,n,t),this.styleFilter(e,n,t),this.updateElementStyle(e,n,t),this.updateElementClass(e,n,t)},getDisplayOption:function(){return{}},getDisplayStyle:function(){return angular.copy(c.style)},getDisplayCss:function(){var e=c.css,n={minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight};return c.option._$$flexibleSize?n.width=e.width:(n.width="100%",n.height="100%"),n},customFilter:function(e,n,t){},styleFilter:function(e,n,t){if(n.borderWidth&&"none"!=n.borderStyle||(delete n.borderWidth,delete n.borderColor,delete n.borderStyle),n.columnRuleWidth&&"none"!=n.columnRuleStyle||(delete n.columnRuleWidth,delete n.columnRuleColor,delete n.columnRuleStyle),n.backgroundImage)try{this._styleFilter_backgroundImage(n)}catch(r){console.error(r),console.debug("assetData : [",n.backgroundImage,"] ")}},_styleFilter_backgroundImage:function(e){var n,t=e.backgroundImage,o=r.get(t);if(n=o?o.path():t,!n)return void(e.backgroundImage="");var a=c.option.useCacheImage;a||(n=i.noneCachePath(n)),e.backgroundImage='url("'+n+'")'},updateElementStyle:function(e,n,t){c.elementStyle=angular.extend({},e,n,t)},updateElementClass:function(e,n,t){var r=this.checkInvalid(e,n,t),i=this.checkButton(e,n,t);c.elementClass={invalid:r,isButton:i}},checkInvalid:function(e,n,t){return!1},checkButton:function(e,t,r){var i=n.get(c.uid),o=i.events(),a=function(e){for(var n in e){var t=e[n];if("click"===t.type)return!0}return!1}(o);return a},toContainer:function(){c.toContainer&&(c.toContainer("elementClass",c.elementClass),c.toContainer("elementStyle",c.elementStyle),c.toContainer("elementChanged",{option:c.option,style:c.style,css:c.css}),c.$applyAsync())}},p=e.create(f,g);return p}}}var n=MODULE.render.instance;n.service("$renderElementService",e);var t=0;e.$inject=["$superClass","$elements","$assets","FileSystem","$documents","$document","$timeout"]}(),function(){function e(e,n,r,i){return{get:function(o,a,l,u){var c="RenderMediaBase",s={init:function(){},$onInit:function(){this._prevSource="",this.setMedia()},$onDestroy:function(){this.dom&&(this.dom.remove(),this.dom=null),this.player&&(this.removeEventTrigger(),this.player.dispose()),this._prevSource=""},$doCheck:function(){var e=i.get(o.uid),n=e.getNoneCopyValue("runtime");n._initialize&&this.checkSource()},_getPlayerElement:function(){return l.find("[html5AudioPlayerContainer]")},checkSource:function(){var e=o.option.source,n=!angular.equals(this._prevSource,e);n&&(this.sourceChanged(),this._prevSource=e)},sourceChanged:function(){var e=o.option.source,n="";if(e){var t=r.get(e);n=t.path()}console.log("# AUDIO PLAYER 소스 세팅 : ",e,n),this.player.src(n)},getMediaType:function(){return"audio"},setMedia:function(){var e=this.getMediaType(),t=this.getDefaultOption();this.dom=this._getPlayerElement(),this.player=n.create(e,this.dom,t,function(){console.log("# PLAYER 세팅 종료 (duration) : ",this.duration())}),this.addEventTrigger()},getDefaultOption:function(){var e={controls:!0,preload:"metadata",muted:!1,defaultPlaybackRate:1,loop:!1};return e},addEventTrigger:function(){var e=t.split(",");for(var n in e){var r=e[n].trim();this.player.on(r,this.eventListener)}},removeEventTrigger:function(){var e=t.split(",");for(var n in e){var r=e[n].trim();this.player.off(r,this.eventListener)}},eventListener:function(e){l.triggerHandler(e)},getAPI:function(){var e=this.getMediaType(),n=this.player,r={_eventNames:t,play:function(t,r){console.log("#",e,"play : ",t),n.play(),r&&r()},stop:function(t,r){console.log("#",e,"stop : ",t),n.stop(),r&&r()},pause:function(t,r){console.log("#",e,"pause : ",t),n.pause(),r&&r()},isPaused:function(){return n.isPaused()},togglePlay:function(t,r){console.log("#",e,"togglePlay : ",t),t=t||{},n.togglePlay(t.toggleValue),r&&r()},toggleFullScreen:function(t,r){console.log("#",e,"fullScreen : ",t);var i=$api_util.isPreviewer();return i?alert("미리보기 페이지에서는 해당 API를 (fullScreen) 지원하지 않습니다."):(n.toggleFullScreen(),void(r&&r()))},dispose:function(t,r){console.log("#",e,"dispose : ",t),n.dispose(),r&&r()},config:function(t,r){function i(e){n.off("ready",i),n.off("error",i);var t="error"===e.type?n.player.error:null;r(t)}console.log("#",e,"config : ",t),t=t||{},void 0!==t.src&&(a.api.src({value:t.src}),r&&(n.on("ready",i),n.on("error",i)));for(var o in t)if("src"!==o){var l,u={value:t[o]};switch(o){case"currentTime":l=a.api.currentTime;break;case"volume":l=a.api.volume;break;case"muted":l=a.api.muted;break;case"controls":l=a.api.controls;break;case"loop":l=a.api.loop;break;case"autoplay":l=a.api.autoplay}l&&l(u)}},src:function(t){if(void 0===t)return n.src();console.log("#",e,"src : ",t);var r="object"==typeof t?t.value:t;n.src(r||"")},currentTime:function(t){if(void 0===t){var r=n.duration(),i=isNaN(r)?0:n.currentTime();return i>=r&&(i=r),i}console.log("#",e,"currentTime : ",t);var o="object"==typeof t?t.value:t;n.currentTime(o)},volume:function(t){if(void 0===t)return n.volume();console.log("#",e,"volume : ",t);var r="object"==typeof t?t.value:t;n.volume(r)},muted:function(t){if(void 0===t)return n.muted();console.log("#",e,"toggleMuted : ",t);var r="object"==typeof t?t.value:t;"toggle"===r?n.muted(!n.muted()):("string"==typeof r&&(r="true"===r.toLowerCase()),n.muted(r))},controls:function(t){if(void 0===t)return n.controls();console.log("#",e,"controls : ",t);var r="object"==typeof t?t.value:t;"toggle"===r?n.controls(!n.controls()):("string"==typeof r&&(r="true"===r.toLowerCase()),n.controls(r))},loop:function(t){if(void 0===t)return n.loop();console.log("#",e,"loop : ",t);var r="object"==typeof t?t.value:t;"toggle"===r?n.loop(!n.loop()):("string"==typeof r&&(r="true"===r.toLowerCase()),n.loop(r))},autoplay:function(t){if(void 0===t)return n.autoplay();console.log("#",e,"autoplay : ",t);var r="object"==typeof t?t.value:t;"string"==typeof r&&(r="true"===r.toLowerCase()),n.autoplay(r)},on:function(e,t){n.on(e,t)},off:function(e,t){n.off(e,t)},trigger:function(e,t){n.triggerHandler(e,t)},duration:function(){return n.duration()||0},formatTime:function(e,t){return n.formatTime(e,t)},parseTime:function(e){return n.parseTime(e)}};return r}},d=e.create(c,s);return d}}}var n=MODULE.render.instance;n.service("$renderMediaService",e);var t="loadstart, progress,suspend, abort,error, emptied,play, pause,loadedmetadata, loadeddata,waiting, playing,canplay, canplaythrough,seeking, seeked, timeupdate, ended,ratechange,durationchange, volumechange";e.$inject=["$superClass","$media","$assets","$elements"]}(),function(){function e(){return{templateUrl:"screen/jj-render-element-container.html",bindings:{uid:"@",toOwner:"<toOwner"},controller:n}}function n(e,n,t,i,o,a,l,u,c){function s(e){var n=e.getNoneCopyValue("childGroup"),r=Boolean(n);P.toOwner(P.uid,"isGroup",r);var i=t.get().getNoneCopyValue("indexes"),o=i.indexOf(P.uid)>-1?"currentChild":"child";P.toOwner(P.uid,"groupState",o)}function d(){var e={_initialize:!1,toggle:{visible:!0},drag:"end",animate:angular.extend(o.animate,{enable:o.animateEnable,playing:!1}),disable:!1,callAPI:{}};return e}function m(e){var n=e.toggle.visible?"on":"off";k=!angular.equals(P.visible,n),k&&(P.visible=n);var t=e.disable?"on":"off";x=!angular.equals(P.disable,t),x&&(P.disable=t)}function f(e){if("drag"===E&&"end"===e.drag)g(e,!0);else{var n=!angular.equals(C,e.animate.enable);n&&(C=e.animate.enable,g(e))}E=e.drag}function g(e,n){var t=e.animate.enable,r=e.drag;if("drag"===r)return void(P.animate="off");var i=e.animate.playing;return i&&(t=!0),n?void u(function(){P.animate=t?"on":"off"},10):void(P.animate=t?"on":"off")}function p(){S=!angular.equals(I,P.animate),S&&(h(),"on"===P.animate&&v(),I=P.animate)}function v(){n.on(r,y)}function h(){n.off(r,y)}function y(e){var n=["width","height","left","top","zIndex"],t=e.originalEvent.propertyName;if(!(n.indexOf(t)<0)){var r=window.$this.find(P.uid);r._transitionEnd&&r._transitionEnd(e.originalEvent.propertyName,e.originalEvent)}}function $(){S&&(P.toOwner(P.uid,"animate",P.animate),S=!1),x&&(P.toOwner(P.uid,"disable",P.disable),x=!1),k&&(P.toOwner(P.uid,"visible",P.visible),k=!1)}function w(){P.fromElement=function(e,n,t){return arguments.length<1?(P.elementClass=null,void(P.elementStyle=null)):("elementClass"===e&&(P.elementClass=n),"elementStyle"===e&&(P.elementStyle=n),void("elementChanged"===e&&b(n)))}}function b(e){var n=e.option,t=e.style,r=e.css,o=i.get(P.uid),l=o.getNoneCopyValue("runtime");"on"===P.animate&&(t.transitionDuration=l.animate.duration+"s",t.transitionTimingFunction=l.animate.timeFunction,t.transitionDelay=l.animate.delay+"s");var t={pointerEvents:r.pointerEvents,zIndex:r.zIndex||0},u={};n._$$flexibleSize?u=angular.merge(u,{left:r.left,top:r.top}):(u=angular.merge(u,a.getStyle(P.uid,r,n.layout)),a.refresh([P.uid])),u.transform=i.getTransformString(r.transform);var c=angular.extend({},t,u);P.toOwner(P.uid,"containerStyle",c),_(c)}function j(){var e=function(n){c.off(n.type,e),A=!0};c.on("document_loaded",e)}function _(e){if(!angular.equals(D,e)){if(A){var t=n.find("[element]");t.triggerHandler("resize",{oldvalue:D,newvalue:e})}D=angular.copy(e)}}var E,C,I,S,x,k,D,P=this,A=!1;this.$onInit=function(){var e=i.get(P.uid);P.type=e.type(),P.toOwner||(P.toOwner=angular.noop),e.$$_original.runtime={};var n=d();e.value("runtime",n),S=!1,x=!1,k=!1,s(e),w(),j()},this.$onDestroy=function(){P.toOwner(P.uid),P.type=null},this.$doCheck=function(){var e=i.get(P.uid),n=e.getNoneCopyValue("runtime");m(n),f(n),p(),$()}}var t=MODULE.render.instance;t.component("jjRenderElementContainer",e());var r="transitionend webkitTransitionEnd mozTransitionEnd msTransitionEnd oTransitionEnd";n.$inject=["$scope","$element","$documents","$elements","Default","$layout","$animate","$timeout","$document"]}(),function(){function e(){return{templateUrl:"screen/jj-render-page.html",bindings:{uid:"@"},controller:n}}function n(e,n,t,r,i){var o=this,a=new(r.get(o,e,n,t)),l=new(i.get(o,e,n,t));this.$onInit=function(){l.$onInit(),a.$onInit()},this.$onDestroy=function(){l.$onDestroy(),a.$onDestroy()}}var t=MODULE.render.instance;t.component("jjRenderPage",e()),n.$inject=["$scope","$element","$attrs","$renderChildService","$renderAPIService"]}(),function(){function e(){return{templateUrl:"screen/jj-render-paper.html",bindings:{document:"@"},controller:n}}function n(e,n,t,r,i,o,a,l,u,c){function s(){var e=n.get(b.document),t=e.value("backgroundColor")||"";b.backgroundStyle||(b.backgroundStyle={}),b.backgroundStyle.backgroundColor=t}function d(){var e=n.get(b.document);if(!e)return void m();var i,o,a=e.value("master"),l=e.value("useCacheImage");if(a){var u=t.get(a);i=u.path(),o=u.type()}l||(i=r.noneCachePath(i)),m(),i&&(o&&"svg"===o.toLowerCase()?g(i,u):f(i,u))}function m(){b.masterStyle={},b.svgStyle=null}function f(e,n){var t=n.value("property"),r=t.width,i=t.height;b.masterStyle={backgroundSize:r+"px "+i+"px",backgroundOrigin:"border-box",backgroundRepeat:"no-repeat"};var o='url("'+e+'")';b.masterStyle.backgroundImage=o}function g(e,t){w();var r=n.get(b.document),i=r.value("insertSVG");switch(i){case"embed":$(e,t);break;case"image":p(e,t);break;case"inline":default:v(e,t)}}function p(e,n){b.masterStyle={backgroundSize:"contain",backgroundOrigin:"border-box",backgroundRepeat:"no-repeat"};var t='url("'+e+'")';b.masterStyle.backgroundImage=t}function v(e,n){h(e,function(t,r){return t?console.error(t):r?void(b.svgStyle={fitStyle:y(n),inline:r?a.trustAsHtml(r):null}):console.error("응답받은 SVG 데이터가 없습니다.",e)})}function h(e,n){function t(e,t,r){console.warn("	* 업데이트 응답 [",t,"]");var i;200===t?e||(i="(Status "+t+") SVG 받은 정보가 없습니다."):i="(Status "+t+") SVG 정상적인 응답을 받지 못하였습니다.",n(i,e)}function r(e,t,r){console.error("	* SVG 응답 에러 [",t,"]");var i;i=-1==t?"인터넷 연결이 원활하지 않습니다. 확인 후 다시 시도하여 주십시오.":"(Status "+t+") SVG 정상적인 응답을 받지 못하였습니다.",n(i,e)}var a={method:"GET",url:e,data:{},timeout:1e4};a.data=i(a.data),o(a).then(function(e){t(e.data,e.status,e.headers)},function(e){r(e.data,e.status,e.headers)})["catch"](angular.noop)}function y(n){var t=e.get(),r=t.getNoneCopyValue("paper"),i=n.value("property"),o=i.width/r.width,a=i.height/r.height;console.error("ratioX : ",o,i.width,r.width),console.error("ratioY : ",a,i.height,r.height);var l;return l=o>a?"fit_horizontal":a>o?"fit_vertical":"fit"}function $(e,n){b.svgStyle={fitStyle:y(n),url:e?a.trustAsResourceUrl(e):null}}function w(){}var b=this;this.$onInit=function(){s(),d(),b.animateEnabled=u.animateEnable,b.elementInitialized=!1,function(){var e=function(n){c.off(n.type,e),console.log("* (document_loaded) 페이지 보이기"),b.elementInitialized=!0};c.on("document_loaded",e)}()},this.$onDestroy=function(){b.backgroundStyle=null,m(),w()},this.$doCheck=function(){var e=l.enabled();angular.equals(b.animateEnabled,e)||(b.animateEnabled=e)}}var t=MODULE.render.instance;t.component("jjRenderPaper",e()),n.$inject=["$projects","$documents","$assets","FileSystem","$httpParamSerializer","$http","$sce","$animate","Default","$document"]}(),function(){function e(){return{templateUrl:"screen/jj-render-screen.html",controller:n}}function n(e,n){function t(){var n=e.get(),t=n.getNoneCopyValue("paper");console.warn("TODO : screen 크기에 맞추어 paper scale을 조절할 수 있다."),r.paperStyle={width:t.width+"px",height:t.height+"px"}}var r=this;this.$onInit=function(){this.document=n.uid(),t()},this.$onDestroy=function(){this.document=null,this.paperStyle=null}}var t=MODULE.render.instance;t.component("jjRenderScreen",e()),n.$inject=["$projects","$documents"]}(),function(){function e(e){function n(n){function r(){return e.isPreviewer()?"미리보기 페이지":"현재 페이지"}function i(e,n){var i=n.url,o=n.target;console.log("- params : ",n);var a=t(n);if(console.log("- option : ",a),!window.jj||!window.jj.link){var l=r();return alert(l+"에서는 해당 API를 지원하지 않습니다. (jj.link."+e+")")}window.jj.link[e](i,o,a)}return{"jj-link-html":function(e,t,r){return n(function(e,n,t,r){i("html",e)},t,r)},"jj-link-ebook":function(e,t,r){return n(function(e,n,t,r){i("ebook",e)},t,r)},"jj-link-image":function(e,t,r){return n(function(e,n,t,r){i("image",e)},t,r)},"jj-link-pdf":function(e,t,r){return n(function(e,n,t,r){i("pdf",e)},t,r)},"jj-link-audio":function(e,t,r){return n(function(e,n,t,r){i("audio",e)},t,r)},"jj-link-video":function(e,t,r){return n(function(e,n,t,r){i("video",e)},t,r)},"jj-link-flash":function(e,t,r){return n(function(e,n,t,r){i("flash",e)},t,r)}}}function t(e){var n={};if(e.width&&(n.width=e.width),
e.height&&(n.height=e.height),void 0!==e.fullscreen&&(n.fullscreen=e.fullscreen),void 0!==e.maximize&&(n.maximize=e.maximize),void 0!==e.minimize&&(n.minimize=e.minimize),e.parameter){var t=e.parameter;t=t.replace(/&/g,'","'),t=t.replace(/=/g,'":"'),t=t.replace(/(^(",")|(",")+\s*(",")+|(",")$)/g,""),t='{"'+t+'"}',console.log("- parameter : ",t),t=JSON.parse(t),n.parameter=t}return n}return n}var n=MODULE.render.instance;n.service("$action_binderAPI_link",e),e.$inject=["$api_util"]}(),function(){function e(){function e(e){function n(){return $api_util.isPreviewer()?"미리보기 페이지":"현재 페이지"}function t(e){if(!window.jj||!window.jj["native"]){var t=n();return alert(t+"에서는 해당 API를 지원하지 않습니다. (jj.native."+e+")")}var r=Array.prototype.slice.apply(arguments);e=r.shift(),window.jj["native"][e].apply(window,r)}return{"jj-native-close":function(n,r,i){return e(function(e,n,r,i){t("close")},r,i)},"jj-native-toggleFullscreen":function(n,r,i){return e(function(e,n,r,i){t("toggleFullscreen")},r,i)},"jj-native-explorer":function(n,r,i){return e(function(e,n,r,i){var o=e.pathString;console.log("- params : ",e),t("explorer",o)},r,i)},"jj-native-exe":function(n,r,i){return e(function(e,n,r,i){var o=e.pathString;console.log("- params : ",e),t("exe",o)},r,i)},"jj-native-download":function(n,r,i){return e(function(e,n,r,i){var o=e.pathString;console.log("- params : ",e),t("download",o)},r,i)}}}return e}var n=MODULE.render.instance;n.service("$action_binderAPI_native",e)}(),function(){function e(e){function n(n){function t(){return e.isPreviewer()?"미리보기 페이지":"현재 페이지"}return{"jj-record-start":function(e,r,i){return n(function(e,n,r,i){var o=e.time,a=e.pathString;console.log("- params : ",e);var l={time:o,path:a},u="start";if(!window.jj||!window.jj.record){var c=t();return alert(c+"에서는 해당 API를 지원하지 않습니다. (jj.native."+u+")")}window.jj.record[u](null,null,l)},r,i)},"jj-record-stop":function(e,r,i){return n(function(e,n,r,i){var o="stop";if(!window.jj||!window.jj.record){var a=t();return alert(a+"에서는 해당 API를 지원하지 않습니다. (jj.native."+o+")")}window.jj.record[o]()},r,i)}}}return n}var n=MODULE.render.instance;n.service("$action_binderAPI_record",e),e.$inject=["$api_util"]}(),function(){function e(e){function n(n){return{goPage:function(t,r,i){return n(function(n,t,r,i){e.goPage(n.pageNumber)},r,i)},goPrevPage:function(t,r,i){return n(function(n,t,r,i){e.goPrevPage()},r,i)},goNextPage:function(t,r,i){return n(function(n,t,r,i){e.goNextPage()},r,i)}}}return n}var n=MODULE.render.instance;n.service("$action_book",e),e.$inject=["$api_book"]}(),function(){function e(e){function n(n){return{show:function(t,r,i,o,a,l){var u=r.target;if(u)return n(function(n,t,r,i){e.show(u)},r,i)},hide:function(t,r,i,o,a,l){var u=r.target;if(u)return n(function(n,t,r,i){e.hide(u)},r,i)},toggleVisible:function(t,r,i,o,a,l){var u=r.target;if(u){var c=r.initVisible;return n(function(n,t,r,i){if("initialize"===o){var a=c?"show":"hide";e[a](u)}else e.toggleVisible(u)},r,i)}},link:function(t,r,i){return n(function(n,t,r,i){e.link(n)},r,i)}}}return n}var n=MODULE.render.instance;n.service("$action_common",e),e.$inject=["$api_common"]}(),function(){function provider($scriptAPI){function getAction(task){return{script:function($$name,$$params,$$asynchronous,$$eventType,$$elementUID,$$element){return task(function actionFunc($params,$resolve,$reject,$result,$$eventObject){var $type=$$eventType,$event=$$eventObject,$asynchronous=$$asynchronous,$self=$scriptAPI.get($$elementUID),$src=$params.source;console.log("	- result : ",$result),console.log("	- asynchronous : ",$asynchronous),$src="(function(){\n\n"+$src+"\n\n})();",console.log("\n\n"),console.groupCollapsed("* SCRIPT [",$type,"] ",$$elementUID),console.log("-------------"),console.log($src),console.log("-------------\n\n\n"),console.groupEnd();try{return eval($src)}catch(err){var uid=$self.uid,msg="사용자가 작성한 스크립트에서 오류가 발생했습니다.\n[ 대상 ] : "+uid+"\n[ 내용 ] : "+(err.stack||err);console.error(msg),err.stack&&console.error("[error]",err),alert&&alert(msg)}},$$params,$$asynchronous)}}}return getAction}var application=MODULE.render.instance;application.service("$action_custom",provider),provider.$inject=["$scriptAPI"]}(),function(){function e(e){function n(n){function t(e,n,t){return n.src&&(t=!0),r.apply(this,[e,n,t])}function r(t,r,i){return n(function(n,r,o,a){i?e.control(t,n,r):e.control(t,n)},r,i)}return{config:function(e,n,r){return t.apply(this,arguments)},play:function(e,n,t){return r.apply(this,arguments)},stop:function(e,n,t){return r.apply(this,arguments)},pause:function(e,n,t){return r.apply(this,arguments)},togglePlay:function(e,n,t){return r.apply(this,arguments)},toggleFullScreen:function(e,n,t){return r.apply(this,arguments)},stopAllSound:function(t,r,i){return n(function(n,t,r,i){e.stopAllSound(n)},r,i)}}}return n}var n=MODULE.render.instance;n.service("$action_media",e),e.$inject=["$api_media"]}(),function(){function e(e,n,t,r,i){function o(e,t){var r=n.get(e),i=r.getNoneCopyValue("runtime");for(var o in t)void 0!==t[o]&&(i.animate[o]=t[o]);a(e)}function a(e){var n=angular.element('jj-render-element-container[uid="'+e+'"]'),t=n.scope().$$childHead;t.$applyAsync()}var l={};return{_callFunc:function(e,n,r,i){if(r in this){e=e||this;var o=t.toArray(i);return o.unshift(n),this[r].apply(e,o)}},enable:function(t,r){var i=e.findAllElements(t);if(!(i.length<1))return arguments.length<2?i.every(function(e){var t=n.get(e),r=t.getNoneCopyValue("runtime"),i=r.animate.enable;return i}):void i.forEach(function(e){var t=n.get(e),i=t.getNoneCopyValue("runtime");i.animate.enable=r,a(e)})},config:function(n,t){var i=r.animate;t=t?angular.merge({},i,t):i;var a=e.findAllElements(n);a.length<1||a.forEach(function(e){o(e,t)})},sequence:function(r,u){function c(n){var t=e.findAllElements(r);l[n]||(l[n]={elements:t,items:{},playing:!1,_loop:1,_loopCounter:0,_isReversed:!1,_ready:"",_counter:0,_group:b,_currentIndex:-1,_length:0,_timeouts:{}}),t.forEach(function(e){l[n].items[e]={queue:[]}})}function s(e){var n=l[e];n&&n.playing&&(n._ready="clear",n.elements.forEach(function(e){var t=n._timeouts[e];t&&clearTimeout(t),delete n._timeouts[e];var r=window.$this.find(e);r._transitionEnd=null,delete r._transitionEnd})),l[e]=null,delete l[e]}function d(){var e=l[u];return e&&e.playing?void(e._ready="clear"):(l[u]=null,void delete l[u])}function m(){var e=l[u];return e&&e.playing&&(e._ready="pause"),j}function f(){var e=l[u];return e&&e.playing?(e._ready="stop",j):(e._loopCounter=0,e._isReversed&&$(),function(){e.elements.forEach(function(e){var t=n.get(e).getNoneCopyValue("runtime");t.animate.playing=!1,console.debug("# animation stop : ",e),a(e)})}(),j)}function g(e,n){var t=l[u];if(t)return t.elements.forEach(function(r){var i=t.items[r].queue,o={styles:e,transition:n};i.push(o)}),t._length++,j}function p(e){var n=l[u];if(n)return e=e||0,n.elements.forEach(function(t){var r=n.items[t].queue;r.push({delay:e})}),n._length++,j}function v(e){var t=n.get(e),r=t.value("runtime");return{duration:r.animate.duration,delay:r.animate.delay,timeFunction:r.animate.timeFunction,enable:r.animate.enable}}function h(e){function t(){w._currentIndex=-1}function r(){if(w.playing)return console.debug("플레이중");w._currentIndex++,w._counter=0,w.playing=!0;var e;if(w._group){var t=window.$this.find(w._group);e=t.boundary()}w.elements.forEach(function(t){!function(){var e=n.get(t).getNoneCopyValue("runtime");e.animate.playing=!0,a(t)}();var r,l=window.$this.find(t);l._transitionEnd||(l._transitionEnd=function(e,n){p(l,e,r)});var u=w.items[t].queue,c=u[w._currentIndex];if("delay"in c)return void s(t,c);var d=angular.copy(c.styles);if(e&&m(l,d,e),r=g(l,d)){var f=i(t);return f&&o(l.uid,f),void l.setStyle(d,"normal")}h(t)})}function i(e){var n,t;t=w._isReversed?0===w._currentIndex?w._length-1:w._currentIndex-1:w._currentIndex;var r=w.items[e].queue,i=w.items[e].transition;if(n=r[t].transition,n=angular.merge({},i,n)){var o=n.enable;(!o||0===n.duration&&!n.delay)&&(n.duration=1e-4)}return n}function c(e){var n=w.items[e].transition;n&&o(e,n)}function s(e,n){var t=w._timeouts;t[e]=setTimeout(function(){h(e)},1e3*n.delay)}function m(e,n,t){if(void 0!==n.x||void 0!==n.left){var r=(n.x||n.left)-t.x;n.x=e.x()+r,delete n.left}if(void 0!==n.y||void 0!==n.top){var i=(n.y||n.top)-t.y;n.y=e.y()+i,delete n.top}void 0!==n.width&&delete n.width,void 0!==n.height&&delete n.height}function g(e,n){for(var t in n)e.getStyle(t)===n[t]&&delete n[t];for(var r in n)return n;return null}function p(e,n,t){"left"===n&&delete t.x,"top"===n&&delete t.y,delete t[n];for(var r in t)return;t=null,c(e.uid),h(e.uid)}function h(e){w._counter++;var n=w._timeouts[e];n&&clearTimeout(n),delete w._timeouts[e];var i=window.$this.find(e);if(i._transitionEnd=null,delete i._transitionEnd,w._counter===w.elements.length){if(w.playing=!1,console.log("# Queue : ",w._currentIndex+1,"/",w._length),w._currentIndex===w._length-1&&(w._loopCounter++,y(),t(),w._loop===w._loopCounter))return void f();if(w._ready){var o=!0;switch(w._ready){case"play":o=!1;break;case"clear":d();break;case"stop":t(),f();break;case"pause":break;case"reverse":$(),o=!1}if(w._ready="",o)return}setTimeout(function(){r()},0)}}function y(){w._ready="",console.debug("# Transition 종료"),e&&e(w._loopCounter)}var w=l[u];if(w)return w.playing?void(w._ready="play"):(w.elements.forEach(function(e){var n=v(e);w.items[e].transition=n}),setTimeout(function(){r()}),j)}function y(e){var n=l[u];if(n)return n._loop=void 0===e?-1:e,j}function $(){var e=l[u];if(e)return e&&e.playing?void(e._ready="reverse"):(e.elements.forEach(function(n){var t=e.items[n].queue;t.reverse(),e._currentIndex=t.length-1-e._currentIndex}),e._isReversed=!e._isReversed,console.log("# Reverse Queue"),j)}var w=this.uid,b=0===w.indexOf(i.GROUP)?w:null;u=u||t.createUID(),s(u),c(u);var j={next:g,delay:p,stop:f,pause:m,play:h,clear:d,loop:y,reverse:$};return j}}}var n=MODULE.render.instance;n.service("$api_animate",e),e.$inject=["$api_util","$elements","$util","Default","UIDType"]}(),function(){function e(e){function n(n){var t=e.getEbookViewer(window),r=t.GO_PAGE_LOAD;if(!r)return void alert("페이지 이동 API(GO_PAGE_LOAD)를 찾을 수 없습니다.");var i=t.PAGE_CURRENT_NUMBER,o=t.PAGE_TOTAL_NUMBER;isNaN(i)&&alert("페이지 이동 API(PAGE_CURRENT_NUMBER)를 찾을 수 없습니다."),isNaN(o)&&alert("페이지 이동 API(PAGE_TOTAL_NUMBER)를 찾을 수 없습니다.");var a=2;"prev"==n?n=i-a:"next"==n&&(n=i+a),isNaN(n)&&alert("잘못된 page 번호 입니다."),1>n&&(n=1),n>o&&(n=o),setTimeout(function(){r(n)})}return{goPage:function(e){n(e)},goPrevPage:function(){n("prev")},goNextPage:function(){n("next")}}}var n=MODULE.render.instance;n.service("$api_book",e),e.$inject=["$api_util"]}(),function(){function e(e,n){function t(t,r){var i=n.findAllElements(r);if(!(i.length<1))for(var o in i){var a=i[o];if(a){var l=e.get(a);if(l){var u=l.getNoneCopyValue("runtime");u.toggle.visible="toggle"===t?!u.toggle.visible:t}}}}function r(e,n,t){var r=window.top.window;if("_self"==n)return window.location.assign(e);if("_top"==n)return r.location.assign(e);alert("미리보기 페이지에서는 설정한 옵션이 적용되지 않습니다.\n* 웹 페이지 링크 : 새창으로 열기");var i=r.$$_nw||r.$$_gui;i&&i.Shell.openExternal(e)}function i(e,n,t){return e?window.jj&&window.jj.link?o(e,n,t):a(e,n,t):void 0}function o(e,n,t){function r(e){return"yes"==e?!0:"no"==e?!1:void 0}console.log("# Binder 지원 : JJ Binder Link 띄우기");var i={focus:!0};t.fullscreen&&(i.fullscreen=r(t.fullscreen)),t.width&&(i.width=t.width),t.height&&(i.height=t.height),t.maximize&&(i.maximize=t.maximize),console.log("* param : ",i),window.jj.link.html(e,n,i)}function a(e,n,t){console.log("# Binder 지원 안됨 : 브라우져 띄우기");var r=t.maximize;delete t.maximize;var i;for(var o in t){var a=o+"="+t[o];void 0===i?i=a:i+=","+a}console.log("* paramString : ",i);var l=window.open(e,n,i);if(r)l.resizeTo&&l.moveTo&&(l.moveTo(0,0),l.resizeTo(window.screen.availWidth,window.screen.availHeight));else if(t.width||t.height){var u=t.width||window.innerWidth,c=t.height||window.innerHeight;u+=window.outerWidth-window.innerWidth,c+=window.outerHeight-window.innerHeight,l&&l.resizeTo&&l.resizeTo(u,c)}setTimeout(function(){l&&l.focus(),l.console.log("win : ",l)},500)}return{visibleChange:t,show:function(e){t(!0,e)},hide:function(e){t(!1,e)},toggleVisible:function(e){t("toggle",e)},isVisible:function(n){var t=e.get(n),r=t.getNoneCopyValue("runtime");return r.toggle.visible},link:function(e){var t=e.url;if(t){var o=e.target||"_blank",a=e.parameter||"";t+=a;var l="no",u=e.fullscreen?"yes":"no",c=e.maximize,s={scrollbars:"yes",status:"no",menubar:"no",toolbar:l,fullscreen:u};c?s.maximize=c:(e.width&&(s.width=e.width),e.height&&(s.height=e.height)),console.log("	-url : ",t),console.log("	-target : ",o),console.log("	-option : ",s);var d=n.isPreviewer();d?r(t,o,s):i(t,o,s)}}}}var n=MODULE.render.instance;n.service("$api_common",e),e.$inject=["$elements","$api_util"]}(),function(){function e(e,n,t){function r(n,t,r){var o=t.target;if(o){var a=e.get(o),l=a.getNoneCopyValue("runtime");l.callAPI={name:n,params:t},console.warn("# Element의 API를 호출 : ",l.callAPI),r&&(l.callAPI.callback=function(e,n){e&&console.error(e),r()}),i(o)}}function i(e){var n=angular.element('jj-render-element-container [element][uid="'+e+'"]'),t=n.scope().$$childHead;t.$applyAsync()}function o(e,n,t){return n.src&&(t=!0),r.apply(this,[e,n,t])}return{config:function(e,n,t){return o.apply(this,arguments)},control:function(e,n,t){return r.apply(this,arguments)},play:function(e,n){return r.apply(this,["play",e,n])},stop:function(e,n){return r.apply(this,["stop",e,n])},pause:function(e,n){return r.apply(this,["pause",e,n])},togglePlay:function(e,n){return r.apply(this,["togglePlay",e,n])},toggleFullScreen:function(e,n){return r.apply(this,["toggleFullScreen",e,n])},stopAllSound:function(e){function t(){var e=this.paused;e||(this.pause(),"stop"===r&&(this.currentTime=0))}for(var r=e.toggleValue,i=n.getEbookViewer(window),o=i.document.getElementsByTagName("iframe"),a=o.length,l=0;a>l;++l){var u=o[l],c=u.contentWindow;if(void 0!==c.MODULE&&void 0!==c.MODULE.render&&void 0!==c.angular){var s=c.angular.element("video");s.each(t);var d=c.angular.element("audio");d.each(t)}}}}}var n=MODULE.render.instance;n.service("$api_media",e),e.$inject=["$elements","$api_util","$rootScope"]}(),function(){function e(e,n,t){var r=t.isPreviewer();return{isPreviewer:function(){return r},getEbookViewer:function(e){var n;for(n=e;;){if(n.GO_PAGE_LOAD)break;if(n==n.parent)break;n=n.parent}return n},findAllElements:function(t){if("string"==typeof t&&t.indexOf(e.GROUP)<0)return[t];var r=[];for(var i in t){var o=t[i];if(o.indexOf(e.GROUP)>-1){var a=n.get(o);a&&a.merge(r,!1)}else r.indexOf(o)<0&&r.push(o)}return r}}}var n=MODULE.render.instance;n.service("$api_util",e),e.$inject=["UIDType","$groups","$util"]}(),function(){function e(){function e(e,n){if(void 0===e)throw new Error("paper scope이 전달되지 않았습니다.");if(void 0===n)throw new Error("paper dom이 전달되지 않았습니다.");var t="click, dblclick, mousedown, mousemove, mouseout, mouseover, mouseupkeydown, keypress, keyup",r={_eventNames:t,uid:e.uid,dom:n[0],width:function(){arguments.length>0&&console.error("width : 읽기 전용 속성입니다.");var e=$projects.get().getNoneCopyValue("paper");return e?e.width:0},height:function(){arguments.length>0&&console.error("height : 읽기 전용 속성입니다.");var e=$projects.get().getNoneCopyValue("paper");return e?e.height:0},x:function(){return arguments.length>0&&console.error("x : 읽기 전용 속성입니다."),0},y:function(){return arguments.length>0&&console.error("y : 읽기 전용 속성입니다."),0}};return r}return{create:function(n,t){var r=e(n,t);return r}}}var n=MODULE.render.instance;n.service("$script_documentAPI",e)}(),function(){function e(e,n,t,r,i,o,a,l){function u(e){return v.indexOf(e)>-1}function c(e){var n,t=angular.element('jj-render-element-container[uid="'+e+'"]'),r=t.find('[element][uid="'+e+'"]'),i=r.scope();n=i?i.$$childHead:t.scope().$$childHead,n.$applyAsync()}function s(n,t,r,i,o,a){function l(e){var n=y[e],t=n[r],o="alignX"===i||"alignY"===i?g(t.layout,i):t[i];return void 0!==o||"normal"===e?o:("down"===e?e="over":"over"===e&&(e="normal"),l(e))}"x"===i&&(i="left"),"y"===i&&(i="top");var s,m,f=t.length,p=!0;1>f||(1==f?"normal"===t[0]||"over"===t[0]||"down"===t[0]?m=t[0]:(s=t[0],p=!1):(m=t[0],s=t[1],p=!1));var v=n.uid,h=e.get(v);if(h){var y;if(p){if(y=h.value("state"),!y)return;var $=l(m||"normal");return s=o?o($):$}if(u(i)){var w={};return w[i]=s,void d(n,w,m)}y=h.value("state"),m=m||"normal";var b=y[m];b[r][i]=a?a(b[r],s):s,h.value("state",y),c(v)}}function d(n,t,r){var i=t.alignX,o=t.alignY;delete t.alignX,delete t.alignY,i&&f(n,i,r),o&&f(n,o,r);var a=n.uid,l=e.get(a);if(l){var u=l.getNoneCopyValue("state");r=r?[r]:["normal","over","down"],r.forEach(function(e){var n=u[e],r=n.css;for(var i in t){"x"===i&&(i="left"),"y"===i&&(i="top");var o=t[i];r[i]=o}}),c(a)}}function m(e,n){var t,r=n==i.MASK;switch(e){case"x":case"y":case"width":case"height":case"left":case"top":case"right":case"bottom":case"center":case"middle":case"zIndex":case"transform":case"transformOrigin":case"pointerEvents":t="css";break;case"overflowX":case"overflowY":case"overflow":t=r?"option":"style";break;case"alignX":case"alignY":t="option";break;default:t="style"}return t}function f(n,t,r){var i=n.uid,o=e.get(i);r=r?[r]:["normal","over","down"];var a=o.getNoneCopyValue("state");r.forEach(function(e){var n=a[e],r=n.option.layout;"horizontal"===t?(r.left=!0,r.right=!0,r.center=!1,r.width=!1):"left"===t?(r.left=!0,r.right=!1,r.center=!1,r.width=!0):"right"===t?(r.left=!1,r.right=!0,r.center=!1,r.width=!0):"center"===t?(r.center=!0,r.width=!0,r.left=!1,r.right=!1):"vertical"===t?(r.top=!0,r.bottom=!0,r.middle=!1,r.height=!1):"top"===t?(r.top=!0,r.bottom=!1,r.middle=!1,r.height=!0):"bottom"===t?(r.top=!1,r.bottom=!0,r.middle=!1,r.height=!0):"middle"===t&&(r.middle=!0,r.height=!0,r.top=!1,r.bottom=!1)}),console.error("setAlign : ",t,a,i)}function g(e,n){console.error("getAlign : ",n,e);var t;return"alignX"===n&&(e.center&&e.width?t="center":e.left&&e.right?t="horizontal":e.left?t="left":e.right&&(t="right"),t=t||"left"),"alignY"===n&&(e.middle&&e.height?t="center":e.top&&e.bottom?t="vertical":e.top?t="top":e.bottom&&(t="bottom"),t=t||"top"),t}function p(i,o){if(void 0===i)throw new Error("element $ctrl이 전달되지 않았습니다.");if(void 0===o)throw new Error("element dom이 전달되지 않았습니다.");var l="click, dblclick, mousedown, mousemove, mouseout, mouseover, mouseup, resize",c=e.get(i.uid),f=c.value("id"),g={_eventNames:l,uid:i.uid,dom:o[0],id:f,disable:function(e){var n=c.getNoneCopyValue("runtime");return arguments.length<1?n.disable:void(n.disable!==e&&(n.disable=e,i.$applyAsync()))},width:function(e,t){var r=n.toArray(arguments).reverse();return s(i,r,"css","width")},height:function(e,t){var r=n.toArray(arguments).reverse();return s(i,r,"css","height")},x:function(e,t){var r=n.toArray(arguments).reverse();return s(i,r,"css","left")},y:function(e,t){var r=n.toArray(arguments).reverse();return s(i,r,"css","top")},rotate:function(e,t){var r=n.toArray(arguments).reverse(),o=s(i,r,"css","transform",function(e){var n=e.angle;return Number(n)},function(e,n){return e.transform||(e.transform={}),e.transform.angle=n,e.transform});return o},scale:function(e,t){var r=n.toArray(arguments).reverse(),o=s(i,r,"css","transform",function(e){var n=e.scale;return Number(n)},function(e,n){return e.transform||(e.transform={}),e.transform.scale=n,e.transform});return o},getStyle:function(e,n){var t=arguments.length<2?[]:[n];"x"===e&&(e="left"),"y"===e&&(e="top");var r=m(e,i.type),o=s(i,t,r,e);return o},setStyle:function(){function e(e,n,t){var r=arguments.length,o=3>r?[n]:[t,n];"x"===e&&(e="left"),"y"===e&&(e="top");var a=m(e,i.type);"overflow"===e?(s(i,o,a,"overflowX"),s(i,o,a,"overflowY")):s(i,o,a,e)}var n,t,r,o,a,l=arguments.length;if("object"==typeof arguments[0]){n=arguments[0],o=arguments[1];var c;for(t in n)u(t)?(c||(c={}),c[t]=n[t]):(r=n[t],a=2>l?[t,r]:[t,r,o],e.apply(this,a));return void(c&&d(i,c,o))}if(1===l)throw new Error("설정 값이 전달되지 않았습니다.");if(l>=2)return t=arguments[0],r=arguments[1],o=arguments[2],a=3>l?[t,r]:[t,r,o],void e.apply(this,a);throw new Error("매개변수 전달이 잘못되었습니다.")},show:function(){t.show(this.uid)},hide:function(){t.hide(this.uid)},toggleVisible:function(){t.toggleVisible(this.uid)},isVisible:function(){return t.isVisible(this.uid)},_dragable:!1,isDragable:function(){return this._dragable},removeDrag:function(){},setDrag:function(n,t,r,l){function u(t){var r=e.get(i.uid).getNoneCopyValue("runtime");if(!r.animate.playing){g=!1,m("start");var o=Math.round(this.x()),a=Math.round(this.y());n&&n.apply(this,[t,{x:o,y:a}]),t&&t.isDefaultPrevented()}}function c(e,n){var r=!l.direction||"x"===l.direction,i=!l.direction||"y"===l.direction;if(!g&&r&&Math.abs(n.total.dx)<3||i&&Math.abs(n.total.dy)<3)return e.preventDefault(),void e.stopImmediatePropagation();g=!0;var o=this.x(),a=this.y(),u=this.scaleFactor();r&&(o=Math.round(o+n.dx/u),(l.minX||0===l.minX)&&(o=Math.max(o,l.minX)),(l.maxX||0===l.maxX)&&(o=Math.min(o,l.maxX))),i&&(a=Math.round(a+n.dy/u),(l.minY||0===l.minY)&&(a=Math.max(a,l.minY)),(l.maxY||0===l.maxY)&&(a=Math.min(a,l.maxY)));var c={movedX:n.total.dx,movedY:n.total.dy,dx:n.dx,dy:n.dy,x:o,y:a};t&&t.apply(this,[e,c]),e&&e.isDefaultPrevented()||(m("drag"),this.setStyle({left:c.x,top:c.y},"normal"),e.preventDefault(),e.stopImmediatePropagation())}function s(e,n){if(g){var t=this.x(),i=this.y(),o={x:t,y:i};r&&r.apply(this,[e,o]),m("end"),e&&e.isDefaultPrevented()}}function d(e){g&&(e.preventDefault(),e.stopImmediatePropagation()),g=!1}function m(n){var t=e.get(i.uid),r=t.value("runtime");r.drag=n,t.value("runtime",r),i.$applyAsync()}function f(){v&&(v.deleteEvent(),a.remove(p),v=null),this.removeDrag=function(){},this._dragable=!1}l=l||{};this._dragable=!0;var g=!1,p="setDrag"+i.uid,v=a.instance(p);v.createEvent(o,{start:u,move:c,end:s,click:d},this),this.removeDrag=function(){f.apply(this)}}};return g.animation=function(e){var n={};for(var t in r)n[t]=r[t]instanceof Function?function(n){return function(){return r._callFunc(e,e.uid,n,arguments)}}(t):r[t];return n}(g),g}var v=["alignX","alignY","x","y","width","height","left","top","right","bottom","center","middle"];return{create:function(e,n){var t=p(e,n);return t},_getterOrSetter:s}}var n=MODULE.render.instance;n.service("$script_elementAPI",e),e.$inject=["$elements","$util","$api_common","$api_animate","ElementType","$device","Touch","$layout"]}(),function(){function e(e,n,t){function r(){var r={uid:"window"},i=angular.element(window),o={uid:r.uid,dom:i[0],book:n,media:e,animation:t};return o}return{create:function(){var e=r();return e}}}var n=MODULE.render.instance;n.service("$script_windowAPI",e),e.$inject=["$api_media","$api_book","$api_animate"]}(),function(){function e(e,n,t,r){function i(i){function o(){var n,t,r,i;for(var o in l){var a=l[o],u=e.get(a),c=u.css("normal");n=void 0===n?c.left:Math.min(n,c.left),t=void 0===t?c.top:Math.min(t,c.top),r=void 0===r?c.left+c.width:Math.max(r,c.left+c.width),i=void 0===i?c.top+c.height:Math.max(i,c.top+c.height)}var s={x:n,y:t,width:r-n,height:i-t};return s}var a=n.get(i),l=a.indexes(),u={uid:i,elements:l,boundary:function(e){var n=o();if(arguments.length<1)return n;if(e&&(!isNaN(e.x)&&null!==e.x||!isNaN(e.y)&&null!==e.y)){(isNaN(e.x)||null===e.x)&&(e.x=n.x),(isNaN(e.y)||null===e.y)&&(e.y=n.y);var t=e.x-n.x,r=e.y-n.y;for(var i in l){var a=l[i],u=this.find(a),c=u.x()+t,s=u.y()+r;u.setStyle({left:c,top:s},"normal")}}},show:function(){t.show(l)},hide:function(){t.hide(l)},toggleVisible:function(){t.toggleVisible(l)},isVisible:function(){for(var e in l){var n=l[e],t=this.find(n),r=t.isVisible();if(!r)return!1}return!0},_dragable:!1,isDragable:function(){return this._dragable},removeDrag:function(){},setDrag:function(n,t,r){function i(e,t){e.preventDefault();for(var r in l){var i=l[r];u(i,"start")}var o=s.boundary();n&&n(e,o)}function o(e,n){e.preventDefault();var r=this.scaleFactor(),i=n.dx/r,o=n.dy/r;for(var a in l){var c=l[a],d=s.find(c),m=d.x()+i,f=d.y()+o;d.setStyle({left:m,top:f},"normal"),u(c,"drag")}var g=s.boundary();n.x=g.x+i,n.y=g.y+o,t&&t(e,n)}function a(e,n){e.preventDefault();for(var t in l){var i=l[t];u(i,"end")}var o=s.boundary();r&&r(e,o)}function u(n,t){var r=e.get(n),i=r.value("runtime");i.drag=t,r.value("runtime",i)}function c(){for(var e in l){var n=l[e],t=this.find(n);t.removeDrag()}this.removeDrag=function(){},this._dragable=!1}var s=this;this._dragable=!0;for(var d in l){var m=l[d],f=this.find(m);f.setDrag(i,o,a)}this.removeDrag=function(){c.apply(this)}}};return u.animation=function(e){var n={};for(var t in r)n[t]=r[t]instanceof Function?function(n){return function(){return r._callFunc(e,e.elements,n,arguments)}}(t):r[t];return n}(u),u}return{create:function(e){var n=i(e);return n}}}var n=MODULE.render.instance;n.service("__$script_groupAPI",e),e.$inject=["$elements","$groups","$api_common","$api_animate"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-audio.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o){var a=this,l=new(r.get(a,e,n,t)),u=new(i.get(a,e,n,t)),c=function(){var r=o.get(a,e,n,t),i=new(r.extend("RenderElementAudio",{_getPlayerElement:function(){return n.find("[html5AudioPlayerContainer]")},getMediaType:function(){return"audio"}}));return i}();this.$onInit=function(){l.$onInit(),c.$onInit(),a.api=c.getAPI(),u.$onInit()},this.$onDestroy=function(){c.$onDestroy(),u.$onDestroy(),l.$onDestroy()},this.$doCheck=function(){l.$doCheck(),c.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementAudio",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$renderMediaService"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-html.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a,l,u,c){function s(){return{}}function d(){var e=m.uid,n=o.get(e),t=n.getNoneCopyValue("property"),r=t.code?a.decode(t.code):{},i=l.getWindowAPI(),c=l.get(e),s={code:r,uid:e,exceptScript:!1,deleteConnection:!1,set:function(n){n.jj||(console.warn("Binder API 지원 (previewer 에서 실행할 경우)"),n.jj=window.jj),n.scope={uid:e},n.$this=i,n.$self=c},iframe:m.$iframe[0],src:"./"+u.HTML_ELEMENT_PATH};a.set(s)}var m=this,f=function(){var r=i.get(m,e,n,t),o=new(r.extend("RenderElementHtmlAPI",{setElementMouse:function(){},_createEventHandler:function(e,n,t){t.initialize||(t.initialize={type:"initialize",actions:[]});var r=t.initialize.actions;r.push(function(e,n,t,r){d(),e()});var i=this._super(e,n,t);return i}}));return o}(),g=function(){var i=r.get(m,e,n,t),o=new(i.extend("RenderElementHtml",{updateElementStyle:function(e,n,t){this._super(e,n,t),this._setScrollDisplay()},_setScrollDisplay:function(){var e,n,t=c.get(m.type,"option");m.option&&(e=m.option.overflowX||t.overflowX,n=m.option.overflowY||t.overflowY),m.$iframe.contents().find("body").css({overflowX:e,overflowY:n})}}));return o}();this.$onInit=function(){m.$iframe=n.find("iframe"),m.$iframe.on("load",function(){g._setScrollDisplay()}),g.$onInit(),m.api=s(),f.$onInit()},this.$onDestroy=function(){m.$iframe.off("load"),m.$iframe=null,f.$onDestroy(),g.$onDestroy()},this.$doCheck=function(){g.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementHtml",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$elements","$htmlElement","$scriptAPI","FileSystem","$defaultProperty"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-image.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a){function l(){var e={source:function(e,n){var t=a.toArray(arguments).reverse();return o._getterOrSetter(u,t,"style","backgroundImage")}};return e}var u=this,c=new(i.get(u,e,n,t)),s=function(){var i=r.get(u,e,n,t),o=new(i.extend("RenderElementImage",{$onDestroy:function(){this._super(),u.imageStyle=null},updateElementStyle:function(e,n,t){var r={};n.backgroundImage&&(r.backgroundImage=n.backgroundImage),n.backgroundSize&&(r.backgroundSize=n.backgroundSize),n.backgroundRepeat&&(r.backgroundRepeat=n.backgroundRepeat),n.backgroundPosition&&(r.backgroundPosition=n.backgroundPosition),delete n.backgroundImage,delete n.backgroundSize,delete n.backgroundRepeat,delete n.backgroundPosition,u.imageStyle=r,u.elementStyle=angular.extend({},e,n,t)}}));return o}();this.$onInit=function(){s.$onInit(),u.api=l(),c.$onInit()},this.$onDestroy=function(){c.$onDestroy(),s.$onDestroy()},this.$doCheck=function(){s.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementImage",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$script_elementAPI","$util"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-input.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a,l){function u(){var e=g.option&&!angular.equals(h,g.option.text);if(e){var n=g.option.text;g.api.text(n),h=n}}function c(){if(void 0===typeof Storage)return alert("Local Storage 기능이 지원되지 않습니다.");if(f){var e=f.getItem(p);m=angular.fromJson(e)||{},m.elements||(m.elements={});var n=m.elements,t=g.uid;n[t]||(n[t]={});var r=n[t],i=r.text||"";return i}}function s(e){if(void 0!==typeof Storage&&f){m.elements[g.uid].text=e,console.log("# 로컬 저장 : ",e);var n=angular.toJson(m);f.setItem(p,n)}}function d(){var e={_eventNames:"keydown, keypress, keyup, focusin, focusout, change, input",text:function(e,n){s(e);var t=a.toArray(arguments).reverse();return l._getterOrSetter(g,t,"option","text")}};return e}var m,f,g=this,p="jikji-datas";try{f=window.localStorage}catch(v){console.warn("window edge 브라우져에서 로컬 파일 실행시 localStorage 사용할 수 없음."),console.warn(v)}var h,y=new(r.get(g,e,n,t)),$=new(i.get(g,e,n,t));this.$onInit=function(){y.$onInit(),g.api=d(),$.$onInit(),h=c();var e=o.get(g.uid);e.value("currentState","normal");var n=e.getNoneCopyValue("state");n.normal.option.text=h},this.$onDestroy=function(){$.$onDestroy(),y.$onDestroy()},this.$doCheck=function(){u(),y.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementInput",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$elements","$util","$script_elementAPI"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-mask.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a,l,u,c,s,d,m){function f(){var e={getChild:function(){var e=r.get(g.uid).isGroupContainer(),n=a.get(e).indexes();return n},overflowX:function(e){var n=i.toArray(arguments).reverse();return o._getterOrSetter(g,n,"option","overflowX")},overflowY:function(e){var n=i.toArray(arguments).reverse();return o._getterOrSetter(g,n,"option","overflowY")},scrollX:function(e){var t=n.find("[group-mask]");return arguments.length<1?t.scrollLeft():void((0===e||e)&&t.scrollLeft(e))},scrollY:function(e){var t=n.find("[group-mask]");return arguments.length<1?t.scrollTop():void((0===e||e)&&t.scrollTop(e))},contentBoundary:function(){var e=r.get(g.uid).isGroupContainer(),n=a.get(e).indexes(),t=l.getRotatedBoundary(n);return console.error("contentBoundary : ",t),{x:t.left,y:t.top,width:t.width,height:t.height}},currentScroller:function(){var e=n.find("[group-mask]"),t=e[0].scrollWidth,r=e[0].scrollHeight,i=e.width(),o=e.height(),a=e[0],l=a.offsetWidth-a.clientWidth,u=a.offsetHeight-a.clientHeight,c=Math.max(0,t-i+l),s=Math.max(0,r-o+u),d=e.scrollLeft(),m=e.scrollTop(),f=this.contentBoundary(),g={maskBoundary:{x:0,y:0,width:i,height:o},contentBoundary:f,scrollWidth:t,scrollHeight:r,maxScrollX:c,maxScrollY:s,scrollLeft:d,scrollTop:m,verticalScrollbarWidth:l,horizontalScrollbarHeight:u};return g},toContentSize:function(){var e=r.get(g.uid),n=e.isGroupContainer(),t=a.get(n).indexes(),i=l.getRotatedBoundary(t),o={document:u.uid(),masks:[{element:g.uid,boundary:i}]};c.maskElementBoundary(o)}};return e}var g=this,p=new(s.get(g,e,n,t)),v=new(m.get(g,e,n,t)),h=new(d.get(g,e,n,t));this.$onInit=function(){p.$onInit(),
g.api=f(),h.$onInit(),v.$onInit()},this.$onDestroy=function(){h.$onDestroy(),p.$onDestroy(),v.$onDestroy()},this.$doCheck=function(){p.$doCheck()}}var t=MODULE.tool.instance;t.component("jjRenderElementMask",e()),n.$inject=["$scope","$element","$attrs","$elements","$util","$script_elementAPI","$groups","$mask","$documents","$commandController","$renderElementService","$renderAPIService","$renderChildService"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-text.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a,l,u,c,s,d,m,f){function g(){var e={text:function(e,n){var t=o.toArray(arguments).reverse();return a._getterOrSetter(p,t,"option","text")}};return e}var p=this,v=d.browser(),h="Edge"==v.name||"IETablet"==v.name,y="IE"==v.name||h,$=new(i.get(p,e,n,t)),w=function(){var i=r.get(p,e,n,t),a=new(i.extend("RenderElementHtml",{getDisplayStyle:function(){var e=this._super(),n=o.parseUnit(e.paddingLeft,"px").num,t=o.parseUnit(e.paddingRight,"px").num,r=o.parseUnit(e.paddingTop,"px").num,i=o.parseUnit(e.paddingBottom,"px").num,a=f.get(p.uid);if(m.getCompareVersion(a.version(),"0.10.4")>=0){var u=l.get(p.type,"style");void 0===n&&(e.paddingLeft=o.parseUnit(u.paddingLeft,"px").num),void 0===t&&(e.paddingRight=o.parseUnit(u.paddingRight,"px").num),void 0===r&&(e.paddingTop=o.parseUnit(u.paddingTop,"px").num),void 0===i&&(e.paddingBottom=o.parseUnit(u.paddingBottom,"px").num)}return e},updateElementStyle:function(e,n,t){this._super(e,n,t);var r=l.get(p.type,"option");this._setDisplayText(r),this._setScrollDisplay(r)},_setDisplayText:function(e){var n=p.option?p.option.text||e.text:e.text,t=p.option&&void 0!==p.option.useAutolink?p.option.useAutolink:e.useAutolink;t&&(n=u.create(n)),y&&(n=s.toTag(n)),p.displayText=c.trustAsHtml(n)},_setScrollDisplay:function(e){var n,t;p.option&&(n=p.option.overflowX||e.overflowX,t=p.option.overflowY||e.overflowY),p.elementStyle.overflowX=n,p.elementStyle.overflowY=t}}));return a}();this.$onInit=function(){w.$onInit(),p.api=g(),$.$onInit()},this.$onDestroy=function(){$.$onDestroy(),w.$onDestroy()},this.$doCheck=function(){w.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementText",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$util","$script_elementAPI","$defaultProperty","$autolink","$sce","$supportText_IE","$device","$subversion_element","$elements"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-video.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o){var a=this,l=new(r.get(a,e,n,t)),u=new(i.get(a,e,n,t)),c=function(){var r=o.get(a,e,n,t),i=new(r.extend("RenderElementVideo",{_getPlayerElement:function(){return n.find("[html5VideoPlayerContainer]")},getMediaType:function(){return"video"}}));return i}();this.$onInit=function(){l.$onInit(),c.$onInit(),a.api=c.getAPI(),u.$onInit()},this.$onDestroy=function(){c.$onDestroy(),u.$onDestroy(),l.$onDestroy()},this.$doCheck=function(){l.$doCheck(),c.$doCheck()}}var t=MODULE.render.instance;t.component("jjRenderElementVideo",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$renderMediaService"]}(),function(){function e(){return{templateUrl:"screen/element/jj-render-element-web.html",bindings:{uid:"@",toContainer:"<toContainer"},controller:n}}function n(e,n,t,r,i,o,a){function l(e){var n=e.getNoneCopyValue("property");if(n&&n.link){var t=n.link.url,r=!angular.equals(s,t);r&&(d.url=t,c(),s=t)}}function u(){var e={source:function(e){var n=d.uid,t=o.get(n);if(t){var r=t.getNoneCopyValue("property");if(arguments.length<1){var i=r.link||{},e=i.url||"";return e}t.value("property",{link:{url:e}})}}};return e}function c(){if(m){var e=o.get(d.uid),t=e.getNoneCopyValue("property"),r=t.editor||{},i={url:d.url||"",checkXFrameOption:r.checkXFrameOption};a.loadTest(i,function(e,t){var r=n.find("iframe"),i=r[0];a.load(i,e,t)})}}var s,d=this,m=!1,f=new(r.get(d,e,n,t)),g=function(){var r=i.get(d,e,n,t),o=new(r.extend("RenderElementWebAPI",{setElementMouse:function(){},_createEventHandler:function(e,n,t){t.initialize||(t.initialize={type:"initialize",actions:[]});var r=t.initialize.actions;r.push(function(e,n,t,r){m=!0,c(),e()});var i=this._super(e,n,t);return i}}));return o}();this.$onInit=function(){f.$onInit(),d.api=u(),g.$onInit(),s="",d.url=s},this.$onDestroy=function(){g.$onDestroy(),f.$onDestroy()},this.$doCheck=function(){f.$doCheck();var e=o.get(d.uid);l(e)}}var t=MODULE.render.instance;t.component("jjRenderElementWeb",e()),n.$inject=["$scope","$element","$attrs","$renderElementService","$renderAPIService","$elements","$webElement"]}(),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/jj-render-element-container.html",'<jj-render-element-mask ng-if="::$ctrl.type===\'mask\'" element="mask" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle"></jj-render-element-mask><jj-render-element-audio ng-if="::$ctrl.type===\'audio\'" element="audio" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle"></jj-render-element-audio><jj-render-element-html ng-if="::$ctrl.type===\'html\'" element="html" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle" style="overflow: hidden;"></jj-render-element-html><jj-render-element-image ng-if="::$ctrl.type===\'image\'" element="image" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle"></jj-render-element-image><jj-render-element-input ng-if="::$ctrl.type===\'input\'" element="input" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement"></jj-render-element-input><jj-render-element-text ng-if="::$ctrl.type===\'text\'" element="text" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass"></jj-render-element-text><jj-render-element-video ng-if="::$ctrl.type===\'video\'" element="video" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle"></jj-render-element-video><jj-render-element-web ng-if="::$ctrl.type===\'web\'" element="web" uid="{{::$ctrl.uid}}" to-container="$ctrl.fromElement" ng-class="$ctrl.elementClass" ng-style="$ctrl.elementStyle" style="overflow: hidden;"></jj-render-element-web>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/jj-render-page.html",'<jj-render-element-container ng-repeat="elementUID in ::$ctrl.indexes track by $index" uid="{{::elementUID}}" to-owner="$ctrl.fromChild" ng-style="$ctrl.elements[elementUID].containerStyle" disable="{{$ctrl.elements[elementUID].disable}}" animate="{{$ctrl.elements[elementUID].animate}}" visible="{{$ctrl.elements[elementUID].visible}}" group="{{::$ctrl.elements[elementUID].isGroup}}" group-state="{{::$ctrl.elements[elementUID].groupState}}"></jj-render-element-container>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/jj-render-paper.html",'<div page-container=""><div paper-background="" ng-style="::$ctrl.backgroundStyle"></div><div master="" ng-style="::$ctrl.masterStyle" ng-if="!$ctrl.svgStyle"></div><div master="" ng-style="::$ctrl.masterStyle" ng-if="$ctrl.svgStyle"><object ng-if="$ctrl.svgStyle.url" svgcontainer="{{$ctrl.svgStyle.fitStyle}}" type="image/svg+xml" ng-attr-data="{{$ctrl.svgStyle.url}}" ng-style="$ctrl.svgStyle.style"><embed type="image/svg+xml" svgcontainer="{{$ctrl.svgStyle.fitStyle}}" ng-src="{{$ctrl.svgStyle.url}}" ng-style="$ctrl.svgStyle.style"></object><div ng-if="$ctrl.svgStyle.inline" svgcontainer="{{$ctrl.svgStyle.fitStyle}}" ng-bind-html="$ctrl.svgStyle.inline"></div></div><jj-render-page uid="{{::$ctrl.document}}" ng-show="$ctrl.elementInitialized" ng-class="{animateEnabled: $ctrl.animateEnabled}"></jj-render-page></div><jj-hidden-files category="project"></jj-hidden-files><jj-hidden-files category="document"></jj-hidden-files>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/jj-render-screen.html",'<div screen-background=""></div><jj-render-paper layout="" document="{{::$ctrl.document}}" ng-style="::$ctrl.paperStyle"></jj-render-paper>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-audio.html",'<div html5audioplayercontainer="" layout="column" layout-align="center center"><audio html5audioplayer="" controlslist="nodownload" preload="none">Your browser does not support HTML5 Audio.</audio></div>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-html.html",'<iframe width="100%" height="100%" seamless="" frameborder="0" allowfullscreen="true"><p>This website does not supports IFrame</p></iframe>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-image.html",'<div imageeditor="" ng-style="$ctrl.imageStyle"></div>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-input.html",'<input texteditor="" ng-if="!$ctrl.option.multiline" type="text" ng-model-options="{ allowInvalid: false, debounce: 500 }" ng-model="$ctrl.option.text" ng-value="$ctrl.option.text" ng-style="$ctrl.elementStyle" placeholder="{{ $ctrl.option.placeholder }}"> <textarea texteditor="" ng-if="$ctrl.option.multiline" ng-model-options="{ allowInvalid: false, debounce: 500 }" ng-model="$ctrl.option.text" ng-style="$ctrl.elementStyle" style="resize: none;" placeholder="{{ $ctrl.option.placeholder }}">{{ $ctrl.option.text }}</textarea>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-mask.html",'<div group-mask="" ng-style="{overflowX: $ctrl.option.overflowX, overflowY: $ctrl.option.overflowY}" style="width: 100%; height: 100%;"><jj-render-element-container ng-repeat="elementUID in ::$ctrl.indexes track by $index" uid="{{::elementUID}}" to-owner="$ctrl.fromChild" ng-style="$ctrl.elements[elementUID].containerStyle" disable="{{$ctrl.elements[elementUID].disable}}" animate="{{$ctrl.elements[elementUID].animate}}" visible="{{$ctrl.elements[elementUID].visible}}" group="{{::$ctrl.elements[elementUID].isGroup}}" group-state="{{::$ctrl.elements[elementUID].groupState}}"></jj-render-element-container></div>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-text.html",'<div richtexteditor="" spellcheck="false" ng-bind-html="$ctrl.displayText" ng-style="$ctrl.elementStyle"></div>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-video.html",'<div html5videoplayercontainer="" layout="column" layout-align="center center" ng-style="{backgroundColor: $ctrl.elementStyle.backgroundColor}"><video html5videoplayer="" controlslist="nodownload" preload="none">Your browser does not support HTML5 video.</video></div>')}]),angular.module("vulcan.jikji.render").run(["$templateCache",function(e){e.put("screen/element/jj-render-element-web.html",'<iframe nwdisable="" nwfaketop="" ng-if="$ctrl.url" width="100%" height="100%" seamless="" frameborder="0" allowfullscreen="false"><p>This website does not supports IFrame</p></iframe>')}]);